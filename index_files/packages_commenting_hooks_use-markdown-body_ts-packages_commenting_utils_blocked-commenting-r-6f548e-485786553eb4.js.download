"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["lazy-react-partial-actions-survey","lazy-react-partial-enterprise-team","lazy-react-partial-metadata-suggestion-staffbar-component","packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-6f548e","packages_failbot_failbot_ts"],{29554:(e,a,l)=>{l.d(a,{A:()=>n});let n={activityHeader:"ActivityHeader-module__activityHeader--WiwzD",footer:"ActivityHeader-module__footer--ssKOW",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--k4ncm",edits:"ActivityHeader-module__edits--WkfqY",HeaderMutedText:"ActivityHeader-module__HeaderMutedText--aJAo0",HeaderLink:"ActivityHeader-module__HeaderLink--fStdK",HeaderMutedTextNoEllipsis:"ActivityHeader-module__HeaderMutedTextNoEllipsis--zWavP",ActivityHeaderContainer:"ActivityHeader-module__ActivityHeaderContainer--fKwFm",ActivityHeaderGridLayout:"ActivityHeader-module__ActivityHeaderGridLayout--Jwd78",AvatarContainer:"ActivityHeader-module__AvatarContainer--p2vAR",CommentHeaderContentContainer:"ActivityHeader-module__CommentHeaderContentContainer--OOrIN",TitleContainer:"ActivityHeader-module__TitleContainer--pa99A",AuthorLink:"ActivityHeader-module__AuthorLink--D7Ojk",FooterContainer:"ActivityHeader-module__FooterContainer--FHEpM",ActionsContainer:"ActivityHeader-module__ActionsContainer--Ebsux",EditsContainer:"ActivityHeader-module__EditsContainer--aMWsI",BadgesContainer:"ActivityHeader-module__BadgesContainer--lAU4a",BadgesGroupContainer:"ActivityHeader-module__BadgesGroupContainer--thmDS",CommentHeaderBadge:"ActivityHeader-module__CommentHeaderBadge--ZOgwo",ActionsButtonsContainer:"ActivityHeader-module__ActionsButtonsContainer--L7GUK"}},13771:(e,a,l)=>{l.d(a,{A:()=>n});let n={avatarOuter:"Avatar-module__avatarOuter--waYVs",avatarInner:"Avatar-module__avatarInner--leXLe",avatarLink:"Avatar-module__avatarLink--leRdV",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--SrQQa",activityAvatar:"Avatar-module__activityAvatar--xUQh3",issueViewerAvatar:"Avatar-module__issueViewerAvatar--LY0E0",avatarWithDivider:"Avatar-module__avatarWithDivider--ge7w7",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--XoLX3",avatarWithoutLink:"Avatar-module__avatarWithoutLink--sASpy"}},89946:(e,a,l)=>{l.d(a,{A:()=>n});let n={skeletonContainer:"TemplateList-module__skeletonContainer--fU4Ip",templateHeader:"TemplateList-module__templateHeader--_jTSZ"}},49936:(e,a,l)=>{l.d(a,{I:()=>n});let n=(0,l(96540).createContext)(null)},33643:(e,a,l)=>{l.d(a,{C:()=>o});var n=l(96912),t=l(72471),i=l(26320),s=l(79639),r=l(9802);function o(e){if(!(0,n.f)(e))return"";let a=(0,t.GP)(e,"h:mm a");return(0,i.c)(e)?`${a} today`:(0,s.P)(e)?`${a} yesterday`:(0,r.e)(e)?`${a} on ${(0,t.GP)(e,"MMMM d")}`:`${a} on ${(0,t.GP)(e,"MMMM d, yyyy")}`}},4559:(e,a,l)=>{l.d(a,{C:()=>s,i:()=>r});var n=l(71315),t=l(69599),i=l(46493);function s(e,a){(0,t.G7)("arianotify_comprehensive_migration")?r(o(e),{...a,element:a?.element??e}):(0,t.G7)("primer_live_region_element")&&a?.element===void 0?(0,i.Cj)(e,{politeness:a?.assertive?"assertive":"polite"}):r(o(e),a)}function r(e,a){let{assertive:l,element:s}=a??{};(0,t.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(s||document.body).ariaNotify(e):(0,t.G7)("primer_live_region_element")&&void 0===s?(0,i.iP)(e,{politeness:l?"assertive":"polite"}):function(e,a,l){let t=l??n.XC?.querySelector(a?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");t&&(t.textContent===e?t.textContent=`${e}\u00A0`:t.textContent=e)}(e,l,s)}function o(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},21067:(e,a,l)=>{let n;function t(){if(!n)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return n}function i(){return n?.locale??"en-US"}function s(){return!!t().login}l.d(a,{JK:()=>i,M3:()=>s,_$:()=>t}),!function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{n=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},91835:(e,a,l)=>{l.d(a,{x:()=>n});let n=l(51451).n.ActionButton},96760:(e,a,l)=>{l.d(a,{Bq:()=>t,Sp:()=>s,mU:()=>n,tD:()=>i});let n={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},t={issueCommentComposer:"react-issue-comment-composer"};function i(){var e,a;let l=document.querySelector(`${s(n.commentsContainer)} ${(e=t.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return l?l:document.querySelector((a=t.issueCommentComposer,`#${a}`))}function s(e){return`.${e}`}},96901:(e,a,l)=>{l.d(a,{k:()=>n});let n={canNotComment:e=>e?`You do not have permissions to comment on this ${e}.`:"You do not have permissions to comment.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,a)=>`${e?"You are the":"This user is the"} author${a?` of this ${a}`:""}`,sponsor:(e,a)=>`${e}'s sponsor since ${a}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a",authorLabel:(e,a)=>`${e?a?"AI":"bot":"mannequin"}`}},46173:(e,a,l)=>{l.d(a,{Y:()=>n});let n={avatarLink:"avatar-link",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},81156:(e,a,l)=>{l.d(a,{t:()=>n});let n={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,a,l)=>`${e}-i${a}-c${l}.view-issue-comment`,issueNewComment:(e,a)=>`${e}-i${a}.view-issue-comment-new`}}},81034:(e,a,l)=>{l.d(a,{x:()=>g});var n=l(62559),t=l(34267),i=l(79634),s=l(57019),r=l(40104),o=l(96540),d=l(96760);let u={focusCommentComposer:"r"};var c=l(81156),m=l(20459);function g({commentBoxRef:e,markdownComposerRef:a,onChange:l,onCancel:g,referenceId:p,hasSingleKeyShortcutEnabled:y,insidePortal:k}){let[f,h]=(0,r.Fo)(c.t.localStorageKeys.issueNewComment("viewer",p),""),[b,F]=(0,o.useState)(f),S=(0,o.useMemo)(()=>(0,n.KG)(b),[b]),I=(0,i.X)(),v=void 0!==y?y:I?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:C}=(0,t.t)(),x=(0,o.useCallback)(e=>{F(e),h(e)},[h]),j=(0,o.useCallback)(e=>{x(e),l(),""===e&&g()},[x,g,l]);(0,o.useImperativeHandle)(a,()=>({appendText:e=>{j(`${b}

${e}`)},setText:e=>{j(e)},focus:()=>{e.current?.focus()}}),[j,b,e]),(0,o.useEffect)(()=>F(b),[b,F]);let T=(0,o.useCallback)(a=>{if(!(!v||C())&&e&&e.current){a.preventDefault();let l=window.getSelection();if(l&&l.anchorNode){let e={anchorNode:l.anchorNode,range:l.getRangeAt(0)},a=l.anchorNode.parentElement,n=a?.closest((0,d.Sp)(d.mU.issueComment))??a?.closest((0,d.Sp)(d.mU.issueBody));if(n&&n instanceof HTMLDivElement){let a=(0,m.E)(n,e);x(`${a}`)}}e.current.scrollIntoView(),e.current.focus()}},[C,x,e,v]),K=(0,o.useCallback)(()=>{e.current?e.current.reset():F(""),h(void 0)},[e,h]);return(0,s._N)([u.focusCommentComposer],T,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:k}),{handleMarkdownBodyChanged:j,markdownValidationResult:S,markdownBody:b,resetMarkdownBody:K}}},61423:(e,a,l)=>{l.d(a,{i:()=>t});var n=l(96901);function t(e,a,l=null,i="issue"){return e?n.k.repoArchived:a?n.k.issueLockedToCollaborators:l||n.k.canNotComment(i)}},20459:(e,a,l)=>{l.d(a,{E:()=>o,s:()=>i});var n=l(66661),t=l(96760);function i(e){if(!e)return e;let a=e.split(`
`),l="";for(let e of a)l=l.concat(`> ${e}
`);return l}let s=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,r=e=>{let a=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),l=a.nextNode();for(;l;)l instanceof HTMLElement&&s(l)&&l.remove(),l=a.nextNode()};function o(e,a,l){if(!e)return;let i=e.querySelector((0,t.Sp)(t.mU.markdownBody)),s=new n.g("",r);a&&i.contains(a.anchorNode)&&i.contains(a.range.startContainer)&&i.contains(a.range.endContainer)&&!a.range.collapsed&&""!==a.range.toString().trim()?s.range=a.range:s.select(i),l&&(s.processSelectionTextFn=e=>{for(let a of l.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let l=a[1],n=a[2],t=a[3];if(!l||!n||!t)continue;let i=`${l}${n}${t.split(")")[0]})`,s=e.split(n);if(s.length<2)continue;let r=s[0]?.match(/!\[[^[]+$/),o=s[1]?.split(")")[0],d=`${r}${n}${o})`;e=e.replaceAll(d,i)}return e});let o=(0,t.tD)();if(o){let e=o?.querySelector("textarea"),a=o?.querySelector("button");if(e)return s.insert(e),e.value;if(a)return s.quotedText}}},76143:(e,a,l)=>{l.d(a,{D:()=>i,Y:()=>s});var n=l(4559),t=l(71315);function i(e){if(!t.XC)return;let a=t.XC.querySelector("title"),l=t.XC.createElement("title");l.textContent=e,a?a.textContent!==e&&(a.replaceWith(l),(0,n.i)(e)):(t.XC.head.appendChild(l),(0,n.i)(e))}function s(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},34095:(e,a,l)=>{l.d(a,{G:()=>t,K:()=>i});var n=l(71315);let t=n.XC?.readyState==="interactive"||n.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),i=n.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.cg?.addEventListener("load",e)})},67702:(e,a,l)=>{l.d(a,{P:()=>i});var n=l(34418),t=l(97286);function i(e){return(0,t.I)({queryKey:["autocomplete-emojis-for-editor"],enabled:e,queryFn:()=>(0,n.X)({queryDeps:{pathname:"/autocomplete/emojis_for_editor"}}),select:e=>Object.entries(e).map(([e,[a,l]])=>({name:e,character:l,url:a}))})}},62559:(e,a,l)=>{l.d(a,{KG:()=>d,O_:()=>i,QK:()=>o,iy:()=>r,sT:()=>s,wY:()=>t});let n={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},t={...n,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${n.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${n.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${n.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${n.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxIssueTitleLength?{isValid:!1,errorMessage:t.issueTitleExceedsMaxLength}:{isValid:!0}}function s(e,a){return 0===e.trim().length&&a?{isValid:!1,errorMessage:t.fieldCanNotBeEmpty}:e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.fieldExceedsMaxLength}:{isValid:!0}}function r(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxViewTitleLength?{isValid:!1,errorMessage:t.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.issueBodyExceedsMaxLength}:{isValid:!0}}function d(e){return 0===e.length?{isValid:!1,errorMessage:t.commentBodyEmpty}:{isValid:!0}}},38102:(e,a,l)=>{l.d(a,{N7:()=>h});var n=l(36301),t=l(77065),i=l(24212);function s(e){return(0,i.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function r(e){let a=document.querySelectorAll(e);if(a.length>0)return a[a.length-1]}var o=l(99223),d=l(71315),u=l(94416),c=l(69599),m=l(88057);let g=!1,p=0,y=Date.now(),k=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),f=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function h(e,a={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(v.some(a=>e.includes(a)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let l=Error(),n=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);b(F({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${n}`,stacktrace:s(l),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content},a));return}e.name&&("AbortError"===e.name||k.has(e.name)&&f.has(e.message)||e.name.startsWith("ApiError")&&f.has(e.message))||b(F({type:e.name,value:e.message,stacktrace:s(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content},a))}async function b(e){if(!(!I&&!g&&p<10&&(0,t.TT)()))return;let a=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(a){if(e.error.stacktrace.some(e=>S.test(e.filename)||S.test(e.function))){g=!0;return}p++;try{await fetch(a,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function F(e,a={}){let l={...a};return(0,c.G7)("failbot_report_error_react_apps_on_page")&&!l.reactAppName&&(l.reactAppName=function(e){let a=function(){let e=new Set;for(let[a,l]of C)for(let n of document.querySelectorAll(a))if(n instanceof HTMLElement){let a=n.getAttribute(l);a&&e.add(a)}return Array.from(e)}();if(!a||!a.length||!e||!e.length)return;let l=new Set;for(let n of e){if(!n||!n.filename)continue;let e=n.filename.split(/[\\/]/).pop();if(!e||l.has(e))continue;l.add(e);let t=a.find(a=>e.toLowerCase().includes(a.toLowerCase()));if(t)return t}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=r("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=r("meta[name=analytics-location-query-strip]"),a="";e||(a=window.location.search);let l=r("meta[name=analytics-location-params]");for(let e of(l&&(a+=(a?"&":"?")+l.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let l=e.content.split(":",2);a=a.replace(RegExp(`(^|[?&])${l[0]}($|=)`,"g"),`$1${l[1]}$2`)}return a}()}`||window.location.href,readyState:document.readyState,referrer:(0,u.dR)(),timeSinceLoad:Math.round(Date.now()-y),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let a=(0,n.y)();return`anonymous-${a}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:o.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,m.xA)()},l)}let S=/(chrome|moz|safari)-extension:\/\//,I=!1;d.cg?.addEventListener("pageshow",()=>I=!1),d.cg?.addEventListener("pagehide",()=>I=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{h(e.data.error)});let v=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],C=[["react-app","app-name"],["react-partial","partial-name"]]},69599:(e,a,l)=>{l.d(a,{G7:()=>o,XY:()=>d,fQ:()=>r});var n=l(5225),t=l(21067);function i(){return new Set((0,t._$)().featureFlags)}let s=l(71315).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?i:(0,n.A)(i);function r(){return Array.from(s())}function o(e){return s().has(e)}let d={isFeatureEnabled:o}},24453:(e,a,l)=>{l.d(a,{O:()=>t});var n=l(59403);let t=(e,a)=>(0,n.dt)(e,a)>n.IP},20403:(e,a,l)=>{l.d(a,{S:()=>t});var n=l(25407);function t(e,{isCopilot:a=!1,tracking:l=!0}={}){return a?function(e,{tracking:a=!0}={}){let l={"data-hovercard-url":(0,n._nf)({bot_slug:e}),"data-hovercard-type":"copilot"};return a?i(l):l}(e,{tracking:l}):function(e,{tracking:a=!0}={}){let l={"data-hovercard-url":(0,n.dCN)({owner:e}),"data-hovercard-type":"user"};return a?i(l):l}(e,{tracking:l})}function i(e){return{...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"}}},51802:(e,a,l)=>{l.d(a,{Y:()=>n});let n={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},89064:(e,a,l)=>{l.d(a,{l:()=>n});let n={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},16642:(e,a,l)=>{l.d(a,{S:()=>n});let n={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},98338:(e,a,l)=>{l.d(a,{k:()=>n});let n={issueCreateDialogTitleTemplatePane:"Create new issue",issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,a,l="issue")=>`Create new ${l} in ${e}${a?`: ${a}`:""}`,issueCreateDialogTitleDuplicationPane:(e,a="issue")=>`Duplicate current ${a} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`,copilotCTAButton:"Write with Copilot",copilotCTADialogTitle:"Navigate to Copilot Chat",copilotCTADialogDescription:"You have unsaved changes. Are you sure you want to discard them?",copilotCTADialogCancelButton:"Keep editing",copilotCTADialogContinueButton:"Go to Copilot",backToAllIssues:"Back to all issues",crossRepoIssueDuplicationWarning:e=>`This issue is being duplicated across repositories. The following metadata might not be copied: ${e.join(", ")}.`,crossRepoIssueDuplicationDefaultWarning:"Changing the repository may remove Milestone, Labels, Type, and Assignees from the duplicate issue."}},92858:(e,a,l)=>{l.d(a,{Y:()=>n});let n={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},74731:(e,a,l)=>{l.d(a,{d:()=>t,t:()=>n});let n={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},t=Object.values(n.queryParams)},79403:(e,a,l)=>{l.d(a,{Zf:()=>i,bV:()=>s,m5:()=>o,tT:()=>n,wK:()=>t});let n={repositoriesPreloadCount:5,localStorageMetadataKeys:{issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueIssueType:e=>`${e}.create-issue-type`,issueIssueFields:e=>`${e}.create-issue-fields`},localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`},localTitleAndBodyStorageKeys:{issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function t(e){return Object.values({...n.localStorageKeys,...n.localStorageMetadataKeys,...n.localTitleAndBodyStorageKeys}).map(a=>a(e))}function i(e){return Object.values(n.localStorageMetadataKeys).map(a=>a(e))}function s(e){return Object.values(n.localTitleAndBodyStorageKeys).map(a=>a(e))}let r={title:n.localTitleAndBodyStorageKeys.issueTitle,body:n.localTitleAndBodyStorageKeys.issueBody};function o(e){return Object.values(r).map(a=>a(e))}},94252:(e,a,l)=>{l.d(a,{K:()=>r});var n=l(25407),t=l(96540),i=l(79531),s=l(81724);let r=({issueFormRef:e,callback:a,handleTemplateChange:l,navigate:r,template:o})=>{let{clearTitleAndBody:d,clearSessionData:u,clearSessionMetadata:c,clearSessionTitleAndBody:m,clearSessionCreateMore:g}=(0,i.u)(),p=(0,t.useCallback)(({issue:t,createMore:i})=>{a?.({issue:t,createMore:i}),i?(o&&o.kind!==s.t7.BlankIssue?o:void 0)?(m(),l(o)):d():(e.current?.clearSessionStorage(),u(),r?.((0,n.dRG)({owner:t.repository.owner.login,repo:t.repository.name,issueNumber:t.number})))},[a,e,o,m,l,d,u,r]);return(0,t.useEffect)(()=>()=>{c(),g()},[g,c]),p}},3872:(e,a,l)=>{l.d(a,{Z:()=>d});var n=l(82075),t=l(40104),i=l(69948),s=l(96540),r=l(98338),o=l(79403);let d=({storageKeyPrefix:e,issueFormRef:a,onCancel:l})=>{let d=(0,i.S)(),u=(0,n.A)("sessionStorage"),c=(0,s.useMemo)(()=>JSON.stringify(""),[]),m=(0,s.useCallback)(async()=>await d({title:r.k.discardConfirmation.title,content:r.k.discardConfirmation.content,confirmButtonContent:r.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:r.k.discardConfirmation.cancel}),[d]);return{onSafeClose:(0,s.useCallback)(async()=>{(!((0,o.m5)(e).some(e=>null!==u.getItem(e)&&u.getItem(e)!==c)||a?.current?.hasChanges())||await m())&&((0,t.D6)((0,o.wK)(e)),a?.current?.clearSessionStorage(),l())},[e,m,u,c,a,l])}}},16378:(e,a,l)=>{l.d(a,{EV:()=>k,wT:()=>f});let n={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};n.hash="53ad086477e7aa080e2b371001dc6e1c";let t={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};t.hash="6ca2d9d8b6491a55c36a32ab018d750d";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var s=l(72429),r=l(52927),o=l(14111),d=l(58115),u=l(96540),c=l(69487),m=l(79531),g=l(50167),p=l(81724),y=l(94007);let k=e=>{let a,l=(0,c.readInlineData)(i,e);if(l.issueTemplate){let e=(0,c.readInlineData)(n,l.issueTemplate);a={name:e.name,fileName:e.filename,kind:p.t7.IssueTemplate,data:e}}else if(l.issueForm){let e=(0,c.readInlineData)(t,l.issueForm);a={name:e.name,fileName:e.filename,kind:p.t7.IssueForm,data:e}}return a},f=({optionConfig:e,repository:a,navigate:l,setDisplayMode:n})=>{let{setTemplate:t,reinitTitle:i,reinitBody:c,reinitAssignees:k,reinitLabels:f,reinitProjects:h,reinitMilestone:b,reinitIssueType:F}=(0,m.u)();return(0,u.useCallback)((u,m,S=!1)=>{t(u);let I="";if(m?.discussion)I=m.discussion.title;else if(m?.title)I=m.title||"";else{let e=u?.data.title||"",a="";m?.appendTitleToTemplate&&(a=` ${m.appendTitleToTemplate}`),I=[e,a].join("").trimStart()}i(I);let v="";m?.discussion?v=m.discussion.formattedBody||"":m?.body?v=m.body||"":u&&((0,p.Al)(u.data)||(0,p.yJ)(u.data))&&(v=u.data.body||""),c(v);f(m?.discussion?m.discussion?.labels||[]:m?.labels?m.labels:u?.data.labels?.edges?.flatMap(e=>e?.node?[(0,o.P5)(e?.node)]:[])||[]),k(m?.assignees??((u?.data.assignees?.edges||[]).flatMap(e=>e?.node?[(0,s.uX)(e?.node)]:[])||[])),m?.projects?h(m.projects):u&&(0,p.GQ)(u?.data)&&h(u.data.projects?.edges?.flatMap(e=>e?.node?[(0,d.Kx)(e?.node)]:[])||[]),m?.milestone&&b(m?.milestone);let C=m?.type??null;u&&!C&&((0,p.GQ)(u.data)||(0,p.Al)(u.data))&&void 0!==u.data.type&&(C=u.data.type?(0,r.iO)(u.data.type):null),F(C??null),(!m||S)&&(e.navigateToFullScreenOnTemplateChoice&&a&&u?l((0,y.Qy)(a.nameWithOwner,u.fileName)):n(g.q.IssueCreation))},[t,i,c,f,k,F,h,b,e.navigateToFullScreenOnTemplateChoice,a,l,n])}},50167:(e,a,l)=>{l.d(a,{q:()=>n});let n={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},81724:(e,a,l)=>{l.d(a,{$K:()=>t,AI:()=>u,Al:()=>s,GQ:()=>i,rp:()=>n,t7:()=>o,yJ:()=>r});let n="Blank issue",t="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function s(e){return"IssueTemplate"===e.__typename}function r(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},d={name:n,fileName:t,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:t,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function u(){return d}},90651:(e,a,l)=>{l.d(a,{S:()=>s});var n=l(79403),t=l(50167);let i={pasteUrlsAsPlainText:!1,useMonospaceFont:!1,singleKeyShortcutsEnabled:!1,showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0,copilotShowFunctionality:!1},s=e=>{let a={...i,...e},l={storageKeyPrefix:(a.issueCreateArguments?.repository?`${a.issueCreateArguments?.repository.owner}-${a.issueCreateArguments?.repository.name}`:void 0)??a.storageKeyPrefix??n.tT.storageKeyPrefixes.defaultFallback};return{...a,...l,getDefaultDisplayMode:e=>a.defaultDisplayMode??e??t.q.TemplatePicker}}},35669:(e,a,l)=>{l.d(a,{H_:()=>r,mZ:()=>o});var n=l(71315),t=l(74731),i=l(81724),s=l(94007);function r({includeRepository:e,repository:a,templateFileName:l,title:i,body:r,assignees:o,labels:d,projects:u,milestone:c,type:m}){let g=new URLSearchParams(n.cg?.location?.search||"");return e&&a&&(g.set(t.t.queryParams.org,a.owner.login),g.set(t.t.queryParams.repo,a.name)),l&&g.set(t.t.queryParams.template,l),(0,s.E2)(g,t.t.queryParams.title,i,t.t.maxQueryLengthLimits.title),(0,s.E2)(g,t.t.queryParams.body,r,t.t.maxQueryLengthLimits.body),o&&(0,s.Hx)(g,t.t.queryParams.assignees,o?o.map(e=>e.login):void 0,t.t.maxQueryLengthLimits.assignees),d&&(0,s.Hx)(g,t.t.queryParams.labels,d.map(e=>e.name),t.t.maxQueryLengthLimits.assignees),u&&a?.owner&&(0,s.Hx)(g,t.t.queryParams.projects,u.map(e=>`${a.owner.login}/${e.number}`),t.t.maxQueryLengthLimits.assignees),c&&g.set(t.t.queryParams.milestone,c.title),m&&g.set(t.t.queryParams.type,m.name),g.toString()}function o(e,a,l){let n=e.get(t.t.queryParams.org)||l?.owner||null,r=e.get(t.t.queryParams.repo)||l?.repository||null,o=e.get(t.t.queryParams.template)||l?.template||null,d={...null!==n&&null!==r&&{repository:{owner:n,name:r}},...null!==o&&{templateFileName:o}},u=(0,s.Qg)(e,t.t.queryParams.title,t.t.maxQueryLengthLimits.title)||l?.title,c=(0,s.Qg)(e,t.t.queryParams.permalink,t.t.maxQueryLengthLimits.body);c=void 0===c?(0,s.Qg)(e,t.t.queryParams.body,t.t.maxQueryLengthLimits.body)||l?.body:decodeURIComponent(c);let m={...void 0!==u&&{title:u},...void 0!==c&&{body:c},...a};if(0===Object.keys(d).length)if(!(Object.keys(m).length>0))return;else d={templateFileName:i.rp};return{...d,...Object.keys(m).length>0&&{initialValues:m}}}},94007:(e,a,l)=>{l.d(a,{E2:()=>g,Hx:()=>p,Qg:()=>m,Qy:()=>r,RG:()=>u,TV:()=>k,Zi:()=>c,jk:()=>o,pM:()=>y});var n=l(71315),t=l(74731);let i="/issues/new",s=`${i}/choose`,r=(e,a)=>{let l=new URLSearchParams(n.fV.search||"");return l.set("template",a),`/${e}/issues/new?${l.toString()}`},o=e=>d(e,s),d=(e,a)=>e.endsWith("/")?e.substring(0,e.length-1)+a:e+a,u=({repositoryAbsolutePath:e,fileName:a})=>{let l=new URL(d(e,i),n.cg?.location?.origin),s=new URLSearchParams(l.search);return s.set(t.t.queryParams.template,a),l.search=s.toString(),l.toString()},c=e=>{let a=e??new URLSearchParams(n.cg?.location?.search||""),l={};for(let[e,n]of a)if(t.d.includes(e))continue;else null===n?l[e]="":l[e]=n.substring(0,t.t.maxQueryLengthLimits.body);return l},m=(e,a,l)=>{let n=e.get(a);if(null!==n)return n.substring(0,l)},g=(e,a,l,n)=>{void 0!==l&&e.set(a,l.substring(0,n))},p=(e,a,l,n)=>{l&&e.set(a,l.slice(0,n).join(","))};function y(){return`/login?return_to=${n.fV?.href}`}function k(e){return`/${e}/issues/new/choose`}},98646:(e,a,l)=>{l.d(a,{Ft:()=>s,HZ:()=>o,KO:()=>d,MR:()=>i,RI:()=>g,YQ:()=>r,d6:()=>t,fk:()=>c,fy:()=>p,qH:()=>u,qg:()=>m});var n=l(38621);let t={text:{type:"text",displayName:"Text",icon:n.TypographyIcon,valueField:"textValue"},single_select:{type:"single_select",displayName:"Single Select",icon:n.SingleSelectIcon,valueField:"singleSelectOptionId"},date:{type:"date",displayName:"Date",icon:n.CalendarIcon,valueField:"dateValue"},number:{type:"number",displayName:"Number",icon:n.NumberIcon,valueField:"numberValue"}},i=Object.values(t);function s(e,a){switch(e){case"text":return{textValue:a};case"single_select":return{singleSelectOptionId:a};case"date":return{dateValue:a};case"number":{let e=Number(a);return isNaN(e)?{}:{numberValue:e}}}}function r(e){return{...e,dataType:o(e.dataType)}}function o(e){switch(e){case"TEXT":case"text":return"text";case"SINGLE_SELECT":case"single_select":return"single_select";case"DATE":case"date":return"date";case"number":case"NUMBER":return"number";default:throw Error(`Unsupported field type: ${e}`)}}let d="IssueFieldSingleSelectValue",u="IssueFieldTextValue",c="IssueFieldDateValue",m="IssueFieldNumberValue";function g(e){switch(e){case u:case m:return!0;case d:case c:return!1;default:return e}}function p(e,a){if(e)switch(a){case d:e.setValue(null,"name"),e.setValue(null,"color"),e.setValue(null,"description");break;case c:e.setValue(null,"value");break;case u:case m:break;default:return a}}},44251:(e,a,l)=>{l.d(a,{k:()=>r});var n=l(21728),t=l(96540),i=l(69599),s=l(53419);function r(){let e,a,l,r,o=(0,n.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G7)("issue_fields_report_usage"),o[0]=e):e=o[0];let d=e,u=(0,t.useRef)(null);o[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{u.current=Date.now()},o[1]=a):a=o[1];let c=a;o[2]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{if(!d)return;let a=u.current?Date.now()-u.current:void 0;u.current=null;var l={...e,interactionDuration:a};let n={};for(let[e,a]of Object.entries(l))if(void 0!==a){let l=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();Array.isArray(a)?n[l]=a.join(","):n[l]=a}(0,s.BI)("issue_fields_usage",{...n,version:"1.0.0"})},o[2]=l):l=o[2];let m=l;return o[3]===Symbol.for("react.memo_cache_sentinel")?(r={markInteractionStart:c,reportUsage:m},o[3]=r):r=o[3],r}},10286:(e,a,l)=>{l.d(a,{k:()=>t,y:()=>n});let n="template-field",t=({id:e,indexOfFormElement:a,value:l,defaultValuesById:t})=>{let i=t&&e?t[e]:void 0;return void 0===i&&t&&void 0!==a&&(i=t[`${n}-${a}`]),i??l??""}},8608:(e,a,l)=>{l.d(a,{U:()=>t,Y:()=>n});let n=e=>`## Purpose
Classify the issue into exactly ONE issue type category based on the issue title and content.

## Input
You will receive:
- Issue title
- Issue content
- List of valid issue types

## Valid Issue Types
${e}

## Classification Rules
1. Analyze both title AND content
2. Select ONLY ONE issue type

## Important Notes
- Choose the MOST specific applicable type
- The output must contain exactly ONE value from the valid issue types
- If uncertain between two types, choose the broader category`,t=`# Classifier Agent Instructions
## Input Format
You will receive issue data containing:
- Title
- Content
- Labels (JSON array)

## Task
Analyze the issue title and content to determine the most relevant categories from the provided labels list. Select ALL applicable labels that match the issue's context and purpose.

## Classification Rules
1. Only select labels from the provided labels list
2. Choose ALL relevant labels that apply
3. Labels must directly relate to the issue's:
   - Main topic/purpose
   - Technical area
   - Issue type
4. Exclude labels if you're not highly confident they apply`},93513:(e,a,l)=>{l.d(a,{k:()=>n});let n={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields",hideMoreProjectFields:"Hide project fields"}},20177:(e,a,l)=>{l.d(a,{Y:()=>n});let n={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},89252:(e,a,l)=>{l.d(a,{Al:()=>u,Ui:()=>o,ff:()=>p,ic:()=>c,nS:()=>m,ub:()=>g});var n=l(65411),t=l(82075),i=l(96540);let s=(0,t.A)("localStorage"),r={production:"https://api.githubcopilot.com/agents/github-classifier"};function o(){return(0,i.useRef)(new n.J([]))}async function d(e){if(!e.ok)return null;try{let a=await e.text(),l=a.split(`
`)[0]?.substring(6);if(!l)return null;return JSON.parse(JSON.parse(l).choices[0].message.content)}catch{return null}}async function u(e,a,l){let n=r.production;try{let t=await fetch(n,{method:"POST",mode:"cors",cache:"no-cache",headers:{Authorization:e.authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:a,copilot_references:l}]})});return await d(t)}catch{return null}}let c=e=>"true"===s.getItem(`copilot-suggested-type-dismiss/${e}`),m=e=>"true"===s.getItem(`copilot-suggested-labels-dismiss/${e}`),g=e=>{s.setItem(`copilot-suggested-type-dismiss/${e}`,"true")},p=e=>{s.setItem(`copilot-suggested-labels-dismiss/${e}`,"true")}},8816:(e,a,l)=>{l.d(a,{b:()=>t});let n={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function t(e,a={}){return e.toLocaleDateString("en-us",{...n,...a})}},3047:(e,a,l)=>{l.d(a,{IE:()=>o,Y0:()=>r,kO:()=>i,uV:()=>s,vl:()=>d,zo:()=>t});var n=l(98646);function t(e,a){if(e?.field?.id!==a?.field?.id||!e?.field||!a?.field)return!1;let l=e.field;return"TEXT"===l.dataType||"DATE"===l.dataType?e?.value===a?.value:"NUMBER"===l.dataType?e?.numberValue===a?.numberValue:"SINGLE_SELECT"!==l.dataType||e?.name===a?.name}function i(e,a){let l=a.filter(a=>!e.some(e=>e?.field?.id===a?.field?.id));return{addedFields:l,updatedFields:a.filter(a=>e.some(e=>e?.field?.id===a?.field?.id&&!t(e,a))),removedFields:e.filter(e=>!a.some(a=>a?.field?.id===e?.field?.id))}}function s(e){return e&&e.field?"TEXT"===e.field.dataType||"NUMBER"===e.field.dataType?null:r(e.field,null):e}function r(e,a){let l=(0,n.YQ)(e);switch(l.dataType){case"text":return{field:{...l,dataType:"TEXT"},value:a||""};case"single_select":return{field:{...l,dataType:"SINGLE_SELECT"},value:a};case"date":return{field:{...l,dataType:"DATE"},value:a};case"number":return{field:{...l,dataType:"NUMBER"},value:a}}}function o(e,a){let l=(0,n.YQ)(e);switch(l.dataType){case"text":return{field:{...l,dataType:"TEXT"},value:a};case"single_select":return{field:{...l,dataType:"SINGLE_SELECT"},value:a};case"date":return{field:{...l,dataType:"DATE"},value:a};case"number":{if(null===a)return{field:{...l,dataType:"NUMBER"},value:null};let e=Number(a);return{field:{...l,dataType:"NUMBER"},value:isNaN(e)?0:e}}}}function d(e,a){switch(e){case"text":return a;case"single_select":return a&&a.id?String(a.id):void 0;case"date":var l;return((l=a)?new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),12,0,0,0)).toISOString():null)||void 0;case"number":return a?.toString()}}},8645:(e,a,l)=>{l.d(a,{cE:()=>o,Y9:()=>r,ml:()=>i,o2:()=>s});var n=l(99418);let t={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function i(e){return(e?.startsWith("www.")?"https://":"")+e}let s=e=>n.default.sanitize(e,t),r=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let a=new URL(e,window.location.origin);return["http:","https:"].includes(a.protocol)}catch{return!1}},o=e=>s(e)===e},55007:(e,a,l)=>{l.d(a,{G:()=>m});var n=l(96540),t=l(37285),i=l(25407),s=l(96379),r=l(8608),o=l(89252);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],a=[{kind:"Variable",name:"id",variableName:"issueId"}],l={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t=[{kind:"Literal",name:"first",value:100}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[l,n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:t,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:s,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[l,n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:t,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:"issueTypes(first:100)"},i],storageKey:null}],type:"Issue",abstractKey:null},i],storageKey:null}]},params:{id:"d8db54110ca710ca6ea0cc8ae82651a8",metadata:{},name:"useIssueTypeSuggestionsQuery",operationKind:"query",text:null}}}();d.hash="c6d337e80099f03cab53813b0001c081";var u=l(52927),c=l(69487);function m(){let{getSuggestion:e,status:a,suggestedType:l}=function(){let e=(0,o.Ui)(),[a,l]=(0,n.useState)("loading"),[t,i]=(0,n.useState)(void 0),s=(0,n.useCallback)(async({issueId:a,title:n,body:t,availableTypes:s})=>{try{let d=await e.current.getAuthToken(),u=(0,r.Y)(s.map(e=>e.name).join(", ")),c=await (0,o.Al)(d,u,[{id:a,data:{title:n,body:t}}]);if(c){let e=Object.keys(c);if(0===e.length){i(void 0),l("success");return}let a=e.reduce((e,a)=>c[e]>c[a]?e:a,""),n=s.find(e=>a===e.name);i(n),l("success")}else l("error")}catch{l("error")}},[e]);return{getSuggestion:(0,n.useCallback)(({issueId:e,environment:a})=>{l("loading"),(0,c.fetchQuery)(a,d,{issueId:e}).subscribe({next:a=>{if(l("loading"),!a.node||!("repository"in a.node))return void l("error");let{body:n,title:t,repository:i}=a.node;if(!i?.issueTypes)return void l("error");let r=i.issueTypes.nodes?.flatMap(e=>e&&"object"==typeof e?[(0,u.iO)(e)]:[])||[];r.length>0?s({issueId:e,title:t,body:n,availableTypes:r}):l("error")},error:()=>{l("error")}})},[s]),status:a,suggestedType:t}}(),{getSuggestions:m,status:g,suggestedLabels:p}=function(){let e=(0,o.Ui)(),[a,l]=(0,n.useState)("loading"),[d,u]=(0,n.useState)([]),c=(0,n.useRef)({issueId:"",issueTitle:void 0,issueBody:void 0,repositoryName:void 0,repositoryOwner:void 0}),m=(0,n.useRef)(!0),g=(0,n.useCallback)(async a=>{try{let n=await e.current.getAuthToken(),{issueId:t,issueTitle:i,issueBody:s}=c.current;if(!t)return void l("error");let d=[{id:t,type:"github.issue",data:{type:"issue",title:i,body:s,labels:a.map(e=>({name:e.name,description:e.description}))}}],m=await (0,o.Al)(n,r.U,d);if(m){let e=Object.keys(m).filter(e=>m[e]>=80),n=a.filter(a=>e.includes(a.name));u(n),l("success")}else u([]),l("error")}catch(e){l("error")}},[e]),p=(0,n.useCallback)(async()=>{if(!m.current)return;let{repositoryName:e,repositoryOwner:a}=c.current;if(!e||!a){u([]),l("idle");return}let n=`${(0,i.SHX)({owner:a,repo:e})}/label_recommendations.json`;l("loading");try{let e=new URL(n,window.location.origin),a=(0,t.Gr)();a&&e.searchParams.append("_tracing","true");let i=await (0,s.lS)(e.toString(),{method:"GET"});if(!i.ok)return void l("error");let r=await i.json();a&&(0,t.Av)(r);let o=r.labels.map(e=>({id:e.id,name:e.name,description:e.description,url:e.url,color:e.color,nameHTML:e.nameHTML}));o.length>0?await g(o):(u([]),l("success"))}catch(e){l("error")}},[g]);(0,n.useEffect)(()=>()=>{m.current=!1},[]);let y=(0,n.useCallback)(({issueId:e,issueTitle:a,issueBody:l,repositoryName:n,repositoryOwner:t})=>{e&&(c.current={issueId:e,issueTitle:a||c.current.issueTitle,issueBody:l||c.current.issueBody,repositoryName:n||c.current.repositoryName,repositoryOwner:t||c.current.repositoryOwner},p())},[p]);return(0,n.useMemo)(()=>({getSuggestions:y,status:a,suggestedLabels:d}),[y,a,d])}();return{getSuggestions:(0,n.useCallback)(({issueId:a,environment:l,type:n,issueTitle:t,issueBody:i,repositoryName:s,repositoryOwner:r})=>{"issueType"===n?e({issueId:a,environment:l}):m({issueId:a,environment:l,issueTitle:t,issueBody:i,repositoryName:s,repositoryOwner:r})},[e,m]),getStatusForType:e=>"issueType"===e?a:g,suggestedLabels:p,suggestedType:l,getTypeSuggestion:e,getLabelSuggestions:m,typeStatus:a,labelsStatus:g}}},18815:(e,a,l)=>{l.d(a,{AE:()=>t,En:()=>n,gO:()=>r,jX:()=>i,u4:()=>s});let n=25,t=50,i=64,s=256,r=["issue","pr","pull-request","pull request"]},10991:(e,a,l)=>{function n(e){let a=document.getElementById("issues-repo-tab-count");if(null===a)return!1;let l=Number(a.title.replace(/\D/g,"")),n=Math.max(l+e,0);return 0===l&&n>0?a.removeAttribute("hidden"):0===n&&a.setAttribute("hidden","true"),a.title=n.toLocaleString(),/^\d*$/.test(a.textContent||"")&&n<=999&&(a.textContent=n.toString()),!0}function t(){n(1)}function i(){n(-1)}l.d(a,{T:()=>i,f:()=>t})},33987:(e,a,l)=>{l.d(a,{M:()=>n,i:()=>t});let n=({includeAssignableBots:e,includeAuthorableBots:a})=>{let l=[];return e&&l.push("CAN_BE_ASSIGNED"),a&&l.push("CAN_BE_AUTHOR"),l},t=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},14034:(e,a,l)=>{l.d(a,{w:()=>n});let n={assigneePicker:"a",labelPicker:"l",milestonePicker:"m",projectPicker:"p",issueTypePicker:"t",developmentSection:"d"}},49275:(e,a,l)=>{l.d(a,{v:()=>n});let n={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},21526:(e,a,l)=>{l.d(a,{Z:()=>i});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{kind:"Literal",name:"name",value:"Status"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},d={kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueProjectsMutation",selections:[{alias:null,args:a,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueProjectsMutation",selections:[{alias:null,args:a,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[t,{kind:"InlineFragment",selections:[l,i,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[l,s,i,r,o,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[t,{kind:"InlineFragment",selections:[l,s,i,r,o],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"f7b6e30ed3e6252cd4b14a496dd9864a",metadata:{},name:"updateIssueProjectsMutation",operationKind:"mutation",text:null}}}();n.hash="0b2916dfea8b705b72e87a36fcffadb1";var t=l(18312);function i({environment:e,connectionId:a,projectId:l,issueId:i,onError:s,onCompleted:r}){if(l)return(0,t.commitMutation)(e,{mutation:n,variables:{input:{contentId:i,projectId:l},connections:a?[a]:[]},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},18042:(e,a,l)=>{l.d(a,{k:()=>n});let n={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},38829:(e,a,l)=>{l.d(a,{f:()=>i});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n],storageKey:null},n],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();n.hash="4c6ffc38d14bcfbd11af3056fe1ca692";var t=l(18312);function i({id:e}){let a=(0,t.useLazyLoadQuery)(n,{id:e});return a.node?a.node:null}},66718:(e,a,l)=>{l.d(a,{Ge:()=>t,UI:()=>i,$J:()=>s});let n={fieldMustBeANumber:"This field must be a number",fieldMustBeBetween:"This value must be between",fieldValueTooLong:"This value is too long",floatingPointValueTooPrecise:"This floating point value is too precise"};function t(e){let a=s(e);if(Number.isNaN(a))return n.fieldMustBeANumber;if(a<-0x7fffffff||a>0x7fffffff)return`${n.fieldMustBeBetween} -2147483647 and 2147483647`;let l=e.split(".")[1];if(l&&l.length>15)return n.floatingPointValueTooPrecise}function i(e){return new Blob([e]).size>1024?n.fieldValueTooLong:void 0}function s(e){return Number(e.replace(/,/g,""))}},73189:(e,a,l)=>{l.d(a,{l:()=>n});let n=()=>void 0},28600:(e,a,l)=>{l.d(a,{A:()=>r});let{getItem:n,setItem:t,removeItem:i}=(0,l(82075).A)("localStorage"),s="REACT_PROFILING_ENABLED",r={enable:()=>t(s,"true"),disable:()=>i(s),isEnabled:()=>!!n(s)}},74547:(e,a,l)=>{l.d(a,{t:()=>n});let n={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable",copilotDisplayName:"Copilot"}},79866:(e,a,l)=>{l.d(a,{JQ:()=>i,Js:()=>t,fj:()=>s,qG:()=>n});let n={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function t(e,a){if(0===e.length||0===a)return"";let l=e.slice(0);if(1===l.length)return l[0];if(2===l.length)return l.join(" and ");a>e.length&&l.push(`${a-e.length} more`);let n=l.pop();return l.push(`${l.pop()} and ${n}`),l.join(", ")}function i(e,a){return`${a?"Unreact":"React"} with ${n[e]}`}function s(e,a){return`${n[e]} ${a} reaction${1===a?"":"s"}`}},88057:(e,a,l)=>{l.d(a,{Ex:()=>s,kt:()=>o,xA:()=>r});var n=l(71315);let t=Array(10).fill(null),i=0;function s(e){t[i]=e,i=(i+1)%10}function r(){let e=[];for(let a=0;a<10;a++){let l=t[(i-1-a+10)%10];l&&e.push(l)}return e}function o(){let e=n.XC;if(!e)return;let a=e.querySelector('meta[name="request-id"]'),l=a?.getAttribute("content");l&&s(l)}},99223:(e,a,l)=>{l.d(a,{k:()=>s,v:()=>r});var n=l(5225),t=l(71315);let i=(0,n.A)(function(){return t.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),s=(0,n.A)(function(){return"enterprise"===i()}),r="webpack"},82075:(e,a,l)=>{l.d(a,{A:()=>s,D:()=>r});var n=l(71315),t=l(11083);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function s(e,a={throwQuotaErrorsOnSet:!1},l=n.cg,r=e=>e,o=e=>e){let d;try{if(!l)throw Error();d=l[e]||new i}catch{d=new i}let{throwQuotaErrorsOnSet:u}=a;function c(e){a.sendCacheStats&&(0,t.i)({incrementKey:e})}function m(e){try{if(d.removeItem(e),a.ttl){let a=`${e}:expiry`;d.removeItem(a)}}catch{}}return{getItem:function(e,a=Date.now()){try{let l=d.getItem(e);if(!l)return null;let n=`${e}:expiry`,t=Number(d.getItem(n));if(t&&a>t)return m(e),m(n),c("SAFE_STORAGE_VALUE_EXPIRED"),null;return c("SAFE_STORAGE_VALUE_WITHIN_TTL"),r(l)}catch{return null}},setItem:function(e,l,n=Date.now()){try{if(d.setItem(e,o(l)),a.ttl){let l=`${e}:expiry`,t=n+a.ttl;d.setItem(l,t.toString())}}catch(e){if(u&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:m,clear:d.clear,getKeys:function(){return Object.keys(d)},get length(){return d.length}}}function r(e){return s(e,{throwQuotaErrorsOnSet:!1},n.cg,JSON.parse,JSON.stringify)}},95800:(e,a,l)=>{l.d(a,{Ai:()=>i,Gq:()=>n,SO:()=>t});let{getItem:n,setItem:t,removeItem:i}=(0,l(82075).A)("sessionStorage")},94416:(e,a,l)=>{l.d(a,{BW:()=>t,Ff:()=>g,HK:()=>b,JA:()=>x,LM:()=>p,Pv:()=>I,Vy:()=>m,ZW:()=>S,dR:()=>F,di:()=>y,fX:()=>v,gc:()=>C,k9:()=>h,my:()=>f,r7:()=>j,wG:()=>k,xT:()=>c});var n=l(95800);let t="reload",i="soft-nav:fail",s="soft-nav:fail-referrer",r="soft-nav:referrer",o="soft-nav:marker",d="soft-nav:react-app-name",u="soft-nav:latest-mechanism";function c(){(0,n.SO)(o,"0"),(0,n.Ai)(r),(0,n.Ai)(i),(0,n.Ai)(s),(0,n.Ai)(d),(0,n.Ai)(u)}function m(e){(0,n.SO)(o,e)}function g(){(0,n.SO)(o,"0")}function p(){let e=(0,n.Gq)(o);return e&&"0"!==e}function y(){return(0,n.Gq)(o)}function k(){return!!f()}function f(){return(0,n.Gq)(i)}function h(e){(0,n.SO)(i,e||t),(0,n.SO)(s,window.location.href)}function b(){(0,n.SO)(r,window.location.href)}function F(){return(0,n.Gq)(r)||document.referrer}function S(){let e=v();e?(0,n.SO)(d,e):(0,n.Ai)(d)}function I(){return(0,n.Gq)(d)}function v(){return document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function C(){return!!document.querySelector("react-app")?.getAttribute("app-name")}function x(e){(0,n.SO)(u,e)}function j(){return(0,n.Gq)(u)}},71315:(e,a,l)=>{l.d(a,{KJ:()=>n.KJ,Kn:()=>t.Kn,X3:()=>n.X3,XC:()=>t.XC,cg:()=>t.cg,fV:()=>t.fV,g5:()=>n.g5});var n=l(6923),t=l(56038)},56038:(e,a,l)=>{l.d(a,{Kn:()=>s,XC:()=>t,cg:()=>i,fV:()=>r});let n="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,t="undefined"==typeof document||n?void 0:document,i="undefined"==typeof window||n?void 0:window,s="undefined"==typeof history||n?void 0:history,r="undefined"==typeof location||n?{pathname:"",origin:"",search:"",hash:"",href:""}:location},6923:(e,a,l)=>{l.d(a,{KJ:()=>i,X3:()=>t,g5:()=>s});var n=l(56038);let t=void 0===n.XC,i=!t;function s(){return!!t||!n.XC||!!(n.XC.querySelector('react-app[data-ssr="true"]')||n.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},11083:(e,a,l)=>{l.d(a,{X:()=>p,i:()=>u});var n=l(71315),t=l(34095),i=l(99223),s=l(69599),r=l(21067),o=l(70170);let d=[];function u(e,a=!1,l=.5){if(!n.X3&&!0!==(0,s.G7)("browser_stats_disabled")){if(l<0||l>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,r.M3)(),e.staff=p(),e.bundler=i.v,Math.random()<l&&d.push(e),a?g():m()}}let c=null,m=(0,o.n)(async function(){await t.K,null==c&&(c=window.requestIdleCallback(g))},5e3);function g(){if(c=null,!d.length)return;let e=n.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let t of function(e){let a=[],l=e.map(e=>JSON.stringify(e));for(;l.length>0;)a.push(function(e){let a=e.shift(),l=[a],n=a.length;for(;e.length>0&&n<=65536;){let a=e[0].length;if(n+a<=65536){let t=e.shift();l.push(t),n+=a}else break}return l}(l));return a}(d)){var a=e,l=`{"stats": [${t.join(",")}], "target": "${n.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(a,l)}catch{}}d=[]}}function p(){return!!n.XC?.head?.querySelector('meta[name="user-staff"]')?.content}n.XC?.addEventListener("pagehide",g),n.XC?.addEventListener("visibilitychange",g)},70263:(e,a,l)=>{l.d(a,{A:()=>i});var n=l(88431),t=l(96540);function i(){let e=(0,t.useRef)(!1),a=(0,t.useCallback)(()=>e.current,[]);return(0,n.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),a}},88431:(e,a,l)=>{l.d(a,{N:()=>i});var n=l(71315),t=l(96540);let i=void 0!==n.cg?.document?.createElement?t.useLayoutEffect:t.useEffect},14307:(e,a,l)=>{l.d(a,{M3:()=>o,Nh:()=>d,Wk:()=>r,i4:()=>i});var n=l(30391),t=l(96540);let i=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],s={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},r=(e="GRAY")=>{let{getPresentationalColor:a}=o();return a(e)},o=()=>{let{theme:e,resolvedColorScheme:a="light"}=(0,n.DP)();return{getPresentationalColor:(0,t.useCallback)((l="GRAY")=>{let n=u(a),t=e?.colorSchemes?.[n]?.colors;if("GRAY"===l)return{bg:t?.canvas?.subtle,fg:t?.fg?.muted,border:t?.border?.default,accent:t?.fg?.subtle};{let e=t?.[s[l]];return{bg:e?.subtle,fg:e?.fg,border:e?.muted,accent:e?.emphasis}}},[e,a])}},d=e=>i.includes(e),u=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e},42255:(e,a,l)=>{l.d(a,{A:()=>i});var n=l(70263),t=l(96540);let i=function(e){let a=(0,n.A)(),[l,i]=(0,t.useState)(e);return[l,(0,t.useCallback)(e=>{a()&&i(e)},[a])]}},43755:(e,a,l)=>{l.d(a,{J:()=>t});var n=l(79634);let t=()=>{let e=(0,n.X)();return{currentUser:e&&e.current_user?e.current_user:null}}},57224:(e,a,l)=>{l.d(a,{y:()=>s});var n=l(74848),t=l(21728),i=l(49936);function s(e){let a,l,s,r=(0,t.c)(7),{children:o,appName:d,category:u,metadata:c}=e;return r[0]!==d||r[1]!==u||r[2]!==c?(l={appName:d,category:u,metadata:c},r[0]=d,r[1]=u,r[2]=c,r[3]=l):l=r[3],a=l,r[4]!==o||r[5]!==a?(s=(0,n.jsx)(i.I.Provider,{value:a,children:o}),r[4]=o,r[5]=a,r[6]=s):s=r[6],s}try{s.displayName||(s.displayName="AnalyticsProvider")}catch{}},8046:(e,a,l)=>{l.d(a,{h:()=>H,x:()=>U});var n=l(74848),t=l(51451),i=l(73189),s=l(58615),r=l(96379),o=l(96540);let d={emojiTone:0,pasteUrlsAsPlainText:!1,useMonospaceFont:!1},u=new Map,c="/settings/appearance/viewer-settings";async function m(){try{let e=await (0,r.Sr)(c);if(!e.ok)throw Error(`HTTP ${e.status}`);let a=await e.json(),l=function(e){if(!e||"object"!=typeof e)return null;let a="number"==typeof e.emojiTone?e.emojiTone:d.emojiTone,l="boolean"==typeof e.pasteUrlsAsPlainText?e.pasteUrlsAsPlainText:d.pasteUrlsAsPlainText,n="boolean"==typeof e.useMonospaceFont?e.useMonospaceFont:d.useMonospaceFont;return void 0!==e.emojiTone||void 0!==e.pasteUrlsAsPlainText||void 0!==e.useMonospaceFont?{emojiTone:a,pasteUrlsAsPlainText:l,useMonospaceFont:n}:null}(a);if(!l)throw Error("Invalid response payload");return l}catch(e){throw e}}var g=l(64515),p=l(69410),y=l(38621),k=l(40961);function f({onChange:e,inputValue:a,sourceContentFromDiffLines:l,onInsertSuggestedChange:i,shouldInsertSuggestionOnRender:s,editorRef:r}){let d=`\`\`\`suggestion
${l??""}
\`\`\``,u=()=>{i(),r.current?.focus();let l=""===a?d:`${a}
${d}`;(0,k.flushSync)(()=>{e(l)});let n=document.activeElement;if(!n||!(n instanceof HTMLTextAreaElement))return;let t=l.length-3;n.selectionStart=t-1,n.selectionEnd=t-1};return(0,o.useEffect)(()=>{if(s){let e=window.setTimeout(()=>u());return()=>{window.clearTimeout(e)}}},[]),(0,n.jsx)(t.n.ToolbarButton,{icon:y.FileDiffIcon,"aria-label":"Add a suggestion",onClick:u})}try{f.displayName||(f.displayName="AddSuggestionButton")}catch{}var h=l(16049),b=l(62173);let F={fromPropsSubject:e=>e?"project"===e.type?{subjectId:e.id?.databaseId?.toString(),subjectType:e.type}:{subjectId:e.id?.databaseId?.toString()??e.id?.id,subjectRepoId:e.repository.databaseId,subjectType:"issue_comment"===e.type?"issue":e.type}:{}},S={staleContentWarning:"CommentBox-module__staleContentWarning--i6nrw",commentBoxContainer:"CommentBox-module__commentBoxContainer--yrAth"};var I=l(94977),v=l(91835);function C({onSave:e,validationResult:a,children:l,trailingIcon:t,disabled:i,size:s}){let r=(0,n.jsx)(v.x,{variant:"primary",size:s,onClick:e,disabled:i||!a.isValid,trailingVisual:t&&i?y.AlertFillIcon:null,children:l});return a.isValid?r:(0,n.jsx)(I.A,{text:a.errorMessage,direction:"w","data-testid":"save-button-tooltip",children:r})}try{C.displayName||(C.displayName="SaveButton")}catch{}var x=l(75177),j=l(34164);let T={slashCommandContainer:"SlashCommandsProvider-module__slashCommandContainer--ZPT3l"},K=(0,o.createContext)(null),L=({children:e,subject:a,onInsertText:l,onSave:t})=>{let i=(0,o.useRef)(null),s=(0,o.useRef)(null),[{top:r,left:d},u]=(0,o.useState)({top:0,left:0});(0,o.useEffect)(()=>{let e=i.current;if(!e)return;let a=e?.querySelector("textarea"),l={top:0,left:0};for(;a!==e;){if(null===a)return;l.top+=a.offsetTop,l.left+=a.offsetLeft,a=a.offsetParent instanceof HTMLElement?a.offsetParent:null}u(l)},[]),(0,o.useEffect)(()=>{let e=s.current;if(!e)return;i.current?.querySelector("textarea")&&e.reconnect?.();let a=()=>{e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.()},l=i.current?.querySelector("textarea");return l?.addEventListener("focus",a),()=>{l?.removeEventListener("focus",a)}},[]),(0,o.useEffect)(()=>{let e=s.current;if(!e)return;let a=i.current?.querySelector("textarea")||null,l=new MutationObserver(()=>{let l=i.current?.querySelector("textarea");l&&l!==a&&(a=l,e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.())});return i.current&&l.observe(i.current,{childList:!0,subtree:!0}),()=>{l.disconnect()}},[]),(0,o.useEffect)(()=>{if(!t)return;let e=s.current;if(e)return e.addEventListener("request-submit",t),()=>{e.removeEventListener("request-submit",t)}},[t]);let c=(0,o.useMemo)(()=>({onInsertText:l}),[l]);return(0,n.jsx)(x.A,{ref:i,sx:{"& .js-slash-command-menu":{mt:`${r}px`,ml:`${d}px`}},className:(0,j.$)("js-slash-command-surface",T.slashCommandContainer),children:(0,n.jsx)("slash-command-expander",{ref:s,keys:"/","data-slash-command-url":(e=>{let a=`/${e.repository.nwo}/slash_apps?surface=${function(e){switch(e){case"issue_comment":return"issue_comment";case"issue":return"issue_body";case"pull_request":return"pull_request";case"commit":return"commit"}}(e.type)}`;return e.id&&(a+=`&subject_gid=${e.id.id}`),a})(a),children:(0,n.jsx)(K.Provider,{value:c,children:e})})})},N=()=>{let e=(0,o.useContext)(K);return e?(0,n.jsx)(t.n.ToolbarButton,{icon:y.DiffIgnoredIcon,"aria-label":"Slash commands",onClick:()=>e.onInsertText("/")}):null};try{K.displayName||(K.displayName="SlashCommandButtonContext")}catch{}try{L.displayName||(L.displayName="SlashCommandsProvider")}catch{}try{N.displayName||(N.displayName="SlashCommandsButton")}catch{}let _={isFileUploading:/<!-- Uploading[\s\S]*?-->/},A={staleContentError:"The content you are editing has changed. Please copy your edits and exit the editor.",leaveCommentLabel:"Leave a comment"};var P=l(67702),w=l(70263);function E(e){let a=(0,o.useRef)(void 0);return(0,o.useEffect)(()=>{a.current&&(a.current=void 0)},[e]),(0,o.useCallback)(()=>(a.current||(a.current=e()),a.current),[e])}async function D(e){try{let a=await (0,r.lS)(`/settings/replies${e?`?context=${e}`:""}`);return(await a.json()).map(e=>({name:e.title,content:e.body}))}catch{return[]}}async function V({subjectId:e,subjectType:a,subjectRepoId:l}){let n=e?`/${e}`:"",t="?mention_suggester=1&user_avatar=1";t=l?`${t}&repository_id=${l}`:t;let i=`/suggestions/${a}${n}${t}`,s=await (0,r.lS)(i,{method:"GET"});return await s.json()}async function R(e){try{return(await V(e)).map(e=>"login"in e?{description:e.name,identifier:e.login,avatarUrl:e.avatarUrl,participant:e.participant}:{description:e.description,identifier:e.name,avatarUrl:e.avatarUrl,participant:e.participant})}catch{return[]}}async function M({subjectId:e,subjectType:a,subjectRepoId:l}){let n=e?`/${e}`:"",t=await (0,r.lS)(`/suggestions/${a}${n}?issue_suggester=1&repository_id=${l}`,{method:"GET"});return await t.json()}async function B(e){try{let a=await M(e),l=a.icons;return a.suggestions.map(e=>({id:e.number.toString(),titleText:e.title,titleHtml:e.title,iconHtml:l[e.type]}))}catch{return[]}}let O={mentions:"loading",references:"loading",savedReplies:[]},U=t.n.ActionButton,H=(0,o.forwardRef)(({"aria-describedby":e,"data-testid":a,label:l,labelledBy:r,showLabel:y,disabled:k=!1,subject:I,viewMode:v,onChangeViewMode:x,value:j,placeholder:T,onChange:K,onSave:V,onCancel:M,validationResult:U,saveButtonText:H="Save",saveButtonTrailingIcon:$=!0,actions:q,footerButtons:Q,contentIsStale:z,fileUploadsEnabled:W=!0,minHeightLines:G,maxHeightLines:X,className:Y,onPrimaryAction:J,buttonSize:Z,suggestedChangesConfig:ee,markdownErrorMessage:ea,teamHovercardsEnabled:el,setIsFileUploading:en,markdownSuggestionsFetchMethod:et="lazy",lineNumber:ei,filePath:es,startLineNumber:er},eo)=>{let ed=F.fromPropsSubject(I),eu=I?.type==="project"?I?.id?.databaseId.toString():void 0,[ec,em]=(0,o.useState)("eager"===et),{mentions:eg,references:ep,emojis:ey,savedReplies:ek}=function(e={},a){let l=(0,w.A)(),n=function({subjectId:e,subjectType:a,subjectRepoId:l}){return E((0,o.useCallback)(()=>a&&("project"===a||l)?R({subjectId:e,subjectType:a,subjectRepoId:l}):Promise.resolve([]),[a,l,e]))}(e),t=function({subjectId:e,subjectType:a,subjectRepoId:l}){return E((0,o.useCallback)(async()=>a&&l?B({subjectId:e,subjectType:a,subjectRepoId:l}):Promise.resolve([]),[e,a,l]))}(e),i=function({subjectType:e}){return E((0,o.useCallback)(()=>D("issue"===e||"pull_request"===e?e:void 0),[e]))}(e),[s,r]=(0,o.useState)(O);(0,o.useEffect)(()=>{let e=async()=>{let[e,a,s]=await Promise.all([n(),t(),i()]);l()&&(e.length||a.length||s.length)&&r({mentions:e,references:a,savedReplies:s})};a&&e()},[n,t,i,l,a]);let d=(0,P.P)(a);return{...s,emojis:d.isPending?"loading":d.data??[]}}(ed,ec),ef=(0,b.y)({...ed,path:es,lineNumber:ei,startCommitOid:I?.type==="project"?"":I?.comparison?.startCommitOid,startLineNumber:er,endCommitOid:I?.type==="project"?"":I?.comparison?.endCommitOid,baseCommitOid:I?.type==="project"?"":I?.comparison?.startCommitOid,subject:I?.type==="project"?void 0:I?.pullRequestNumber}),eh=(0,h.fU)(ed.subjectRepoId?.toString(),eu),[eb,eF]=(0,o.useState)(v??"edit"),[eS,eI]=(0,o.useState)(!1),ev=(0,o.useRef)(null);(0,g.T)(eo,ev);let eC=(0,o.useRef)(null),ex=void 0!==I&&"repository"in I&&void 0!==I.repository,ej=ex&&I.repository.slashCommandsEnabled,[eT,eK]=(0,o.useState)(ee?.shouldInsertSuggestedChange??!1);(0,o.useEffect)(()=>(eI(z??!1),()=>{eI(!1)}),[z]);let eL=(0,o.useMemo)(()=>eS?i.l:()=>{V?.(),eF("edit")},[V,eS]);(0,o.useEffect)(()=>{eF("edit")},[ed.subjectRepoId,ed.subjectId]),(0,o.useEffect)(()=>{v&&eF(v)},[v]);let eN=(0,o.useCallback)(e=>{eF(e),x?.(e)},[x]),e_=(0,o.useCallback)(e=>{ev.current?.focus();try{document.execCommand("insertText",!1,e)}catch{}},[ev]),eA=(0,o.useCallback)(()=>{"lazy"!==et||ec||em(!0)},[ec,et]);eS&&null!==eC.current&&window.scrollY>173&&eC.current.scrollIntoView();let eP=(0,o.useMemo)(()=>_.isFileUploading.test(j),[j]);(0,o.useEffect)(()=>{en&&en(eP)},[eP,en]);let ew=(0,o.useMemo)(()=>e=>(0,o.isValidElement)(e)&&"object"==typeof e&&"symbol"==typeof e.type&&"Symbol(react.fragment)"===String(e.type)?e.props.children:o.Children.toArray(e),[]),eE=(0,o.useMemo)(()=>e=>ew(e).map((e,a)=>(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{key:a,disabled:k||eP}):e),[ew,k,eP]),eD=function(e=!1){let[a,l]=(0,s.M)("user.preferences.viewer-settings",null),[n,t]=(0,o.useState)(!0),[i,r]=(0,o.useState)(!1),g=(0,o.useRef)(!1);e&&(u.clear(),g.current=!1);let p=(0,o.useCallback)(async()=>{let e=u.get(c);try{e||(e=m(),u.set(c,e));let a=await e;l(a),r(!1)}catch{r(!0)}finally{t(!1)}},[l]);return(0,o.useEffect)(()=>{g.current?t(!1):(g.current=!0,p())},[p]),{settings:a||d,loading:n,error:i&&!a}}(!1),eV=(0,n.jsxs)(o.Suspense,{children:[eS&&(0,n.jsx)(p.A,{ref:eC,variant:"danger",className:S.staleContentWarning,children:A.staleContentError}),(0,n.jsxs)(t.n,{"aria-describedby":e,labelledBy:r,disabled:k,value:j,placeholder:void 0!==T?T:A.leaveCommentLabel,emojiSuggestions:ey,emojiTone:eD.settings.emojiTone,mentionSuggestions:eg,referenceSuggestions:ep,viewMode:eb,onChangeViewMode:eN,onChange:K,onInputFocus:eA,onRenderPreview:ef,onUploadFile:W?eh:void 0,acceptedFileTypes:W?(0,h.jw)(ex):void 0,onPrimaryAction:()=>{eL(),J?.()},ref:ev,pasteUrlsAsPlainText:eD.settings.pasteUrlsAsPlainText,savedReplies:ek,monospace:eD.settings.useMonospaceFont,minHeightLines:G,maxHeightLines:X,className:Y,teamHovercardsEnabled:el,onSavedRepliesOpen:eA,errorMessage:ea,children:[(0,n.jsx)(t.n.Label,{visuallyHidden:!y,children:l??"Markdown Editor"}),(0,n.jsxs)(t.n.Actions,{children:[eE(q),M&&(0,n.jsx)(t.n.ActionButton,{variant:"default",size:Z,onClick:M,value:"Cancel",children:"Cancel"}),eL&&U&&(0,n.jsx)(C,{onSave:eL,validationResult:U,trailingIcon:$,disabled:k||eP,size:Z,children:H})]}),(0,n.jsxs)(t.n.Toolbar,{children:[ee?.showSuggestChangesButton&&(0,n.jsx)(f,{shouldInsertSuggestionOnRender:eT,inputValue:j,onChange:K,sourceContentFromDiffLines:ee?.sourceContentFromDiffLines,editorRef:ev,onInsertSuggestedChange:()=>{ee?.onInsertSuggestedChange(),eK(!1)}}),(0,n.jsx)(t.n.DefaultToolbarButtons,{}),(0,n.jsx)(N,{})]}),Q&&(0,n.jsx)(t.n.Footer,{children:Q})]})]});return(0,n.jsx)("div",{"data-testid":a,className:S.commentBoxContainer,children:ej?(0,n.jsx)(L,{subject:I,onInsertText:e_,onSave:eL,children:eV}):eV})});H.displayName="CommentBox"},60912:(e,a,l)=>{l.d(a,{P:()=>r});var n=l(74848),t=l(34164);let i={reason:"readonly-comment-box-module__reason--QIvzf"},s={ReadonlyCommentBoxContainer:"ReadonlyCommentBox-module__ReadonlyCommentBoxContainer--qNC85",centeredContent:"ReadonlyCommentBox-module__centeredContent--bVUCp"};function r({reason:e,icon:a,...l}){return(0,n.jsx)("div",{className:(0,t.$)("blankslate",s.ReadonlyCommentBoxContainer),...l,children:(0,n.jsxs)("div",{className:s.centeredContent,children:[a&&(0,n.jsx)(a,{size:24}),(0,n.jsx)("div",{className:i.reason,children:e})]})})}try{r.displayName||(r.displayName="ReadonlyCommentBox")}catch{}},26156:(e,a,l)=>{l.d(a,{v:()=>I});var n=l(74848),t=l(77430),i=l(25407),s=l(38621),r=l(81246),o=l(89169),d=l(75177),u=l(21654),c=l(34164),m=l(96540),g=l(96901),p=l(46173),y=l(29554),k=l(13771),f=l(41248),h=l(40846);let b=({viewerDidAuthor:e,subjectType:a})=>(0,n.jsx)(h.C,{viewerDidAuthor:e,ariaLabel:g.k.commentSubjectAuthor(e??!1,a??"comment"),label:g.k.commentAuthor,testId:p.Y.commentSubjectAuthor});try{b.displayName||(b.displayName="CommentSubjectAuthor")}catch{}var F=l(85757);let S=({createdAt:e,owner:a,viewerDidAuthor:l})=>{let t=new Date(e),i=t.toLocaleString("default",{month:"long"}),s=g.k.sponsor(a,`${i} ${t.getFullYear()}`);return(0,n.jsx)(h.C,{label:g.k.sponsorBadge,ariaLabel:s,testId:p.Y.sponsorLabel,viewerDidAuthor:l})};try{S.displayName||(S.displayName="SponsorsBadge")}catch{}function I({actions:e,comment:a,commentAuthorType:l,commentAuthorSlug:t,commentAuthorLogin:I,isMinimized:C=!1,avatarUrl:x,lastEditedByMessage:j,editHistoryComponent:T,additionalHeaderMessage:K,sx:L,viewerDidAuthor:N=!1,userAvatar:_,commentSubjectAuthorLogin:A,commentSubjectType:P,isReply:w=!1,headingProps:{as:E,...D}={as:"h3"},id:V,forceInlineAvatar:R,containerStyle:M,originalDiffPathUri:B,isOutdated:O}){let U,H=M||w?{}:{backgroundColor:N?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:N?"accent.muted":"border.default",borderBottomWidth:+!C,py:R?[1,1,2,2]:1,pr:1,pl:3,...L},$=a.pendingMinimizeReason??a.minimizedReason,q=!!$||a.isHidden,Q=new Date(a.createdAt),z="Bot"===l,W="Mannequin"===l,G=z&&("Copilot"===I&&!!t||"copilot-swe-agent"===I),X=W?void 0:`/${z?"apps/":""}${t??I}`;U=G?(0,i._nf)({bot_slug:t??I}):W?void 0:(0,i.dCN)({owner:I});let Y=(0,n.jsxs)(n.Fragment,{children:[K&&(0,n.jsx)("span",{className:y.A.HeaderMutedText,children:K}),(0,n.jsxs)("span",{className:y.A.HeaderMutedText,children:[(0,n.jsx)(r.A,{href:O?function(e){if(!e)return;let a=new URL(e,window.location.origin);return a.searchParams.set("new_files_changed","true"),a.toString()}(B):a.url,"data-turbo":O?"false":"true",className:y.A.HeaderLink,children:(0,n.jsxs)(o.A,{date:Q,children:["on ",Q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),a.createdViaEmail&&(0,n.jsx)("span",{children:` ${g.k.sentViaEmail}`})]}),q&&(0,n.jsxs)("span",{className:y.A.HeaderMutedTextNoEllipsis,children:[" ","\xb7"," ",$?(0,n.jsxs)("span",{children:[g.k.hiddenCommentWithReason," ",$.replace(/_/g,"-").toLowerCase()]}):(0,n.jsx)("span",{children:g.k.hiddenComment})]}),j&&!q&&(0,n.jsx)(m.Suspense,{children:j})]});return(0,n.jsx)(d.A,{id:V,sx:{...H},"data-testid":p.Y.commentHeader,className:y.A.ActivityHeaderContainer,children:(0,n.jsxs)(d.A,{className:(0,c.$)(y.A.activityHeader,y.A.ActivityHeaderGridLayout),sx:{paddingBottom:j||R?0:"var(--base-size-6, 6px)"},children:[(0,n.jsx)(E,{...D,className:"sr-only",children:(0,n.jsxs)(n.Fragment,{children:[G?"Copilot":I," ",w?"replied":"commented"," ",(0,n.jsxs)(o.A,{date:Q,children:["on ",Q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]})}),(0,n.jsx)(d.A,{className:(0,c.$)(R?"":k.A.avatarInner,y.A.AvatarContainer),sx:{display:R?"flex":["flex","flex","none","none"]},children:_??(0,n.jsx)(v,{avatarUrl:x,login:I,isCopilot:G,isHidden:q,hovercardUrl:U,profileUrl:X})}),(0,n.jsxs)("div",{className:(0,c.$)(y.A.narrowViewportWrapper,y.A.CommentHeaderContentContainer),"data-testid":p.Y.commentHeaderLeftSideItems,children:[(0,n.jsxs)("div",{className:y.A.TitleContainer,children:[(0,n.jsx)(r.A,{"data-testid":p.Y.avatarLink,href:X,"data-hovercard-url":U,sx:{color:q?"fg.muted":"fg.default",":hover":{textDecoration:X?"underline":"none"}},className:y.A.AuthorLink,children:G?"Copilot":I}),(z||W)&&(0,n.jsx)(u.A,{variant:"secondary",className:"ml-1",children:g.k.authorLabel(z,G)})]}),(0,n.jsx)("div",{className:(0,c.$)(y.A.footer,y.A.FooterContainer),children:Y})]}),(0,n.jsxs)("div",{"data-testid":p.Y.commentHeaderRightSideItems,className:(0,c.$)(y.A.narrowViewportWrapper,y.A.ActionsContainer),children:[T&&(0,n.jsx)("div",{className:y.A.EditsContainer,children:T}),(0,n.jsxs)("div",{className:y.A.BadgesContainer,children:[(0,n.jsxs)("div",{className:y.A.BadgesGroupContainer,children:[a.state?.toUpperCase()==="PENDING"&&(0,n.jsx)(h.C,{leadingElement:(0,n.jsx)(s.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",className:y.A.CommentHeaderBadge}),!q&&!C&&a.authorToRepoOwnerSponsorship&&a.authorToRepoOwnerSponsorship.isActive&&(0,n.jsx)(S,{createdAt:a.authorToRepoOwnerSponsorship.createdAt,owner:a.repository.owner.login,viewerDidAuthor:N}),!q&&!C&&a.showSpammyBadge&&(0,n.jsx)(F.b,{}),!a.repository.isPrivate&&!q&&!C&&(0,n.jsx)(f.m,{association:a.authorAssociation,viewerDidAuthor:N,org:a.repository.owner.login,repo:a.repository.name}),I===A&&(0,n.jsx)(b,{viewerDidAuthor:N,subjectType:P})]}),(0,n.jsx)("div",{className:y.A.ActionsButtonsContainer,children:e})]})]})]})})}function v({avatarUrl:e,login:a,isHidden:l,isCopilot:i,hovercardUrl:s,profileUrl:o}){return(0,n.jsx)(r.A,{href:o,className:o?k.A.avatarLink:k.A.avatarWithoutLink,"data-hovercard-url":s,"aria-label":i?"Copilot":`@${a}'s profile`,children:(0,n.jsx)(t.r,{src:e,alt:i?"Copilot":`@${a}`,size:24,square:i,className:l?k.A.hiddenActivityAvatar:k.A.activityAvatar})})}try{I.displayName||(I.displayName="ActivityHeader")}catch{}try{v.displayName||(v.displayName="DefaultAvatar")}catch{}},71073:(e,a,l)=>{l.d(a,{p:()=>I});var n=l(74848),t=l(33643),i=l(21067),s=l(40260),r=l(59464),o=l(50167),d=l(71315),u=l(38621),c=l(87330),m=l(5945),g=l(52446),p=l(96540),y=l(46173),k=l(20459);let f={CommentActionsIconButton:"CommentActions-module__CommentActionsIconButton--EOXv7",CommentActionsListItem:"CommentActions-module__CommentActionsListItem--rBMCI"};var h=l(59123),b=l(4551),F=l(14969),S=l(14406);function I({comment:e,commentAuthorLogin:a,editComment:l,onReplySelect:I,isMinimized:v=!1,isReply:C=!1,navigate:x,onBlock:j,onUnblock:T,onMinimize:K,hideComment:L,unhideComment:N,deleteComment:_,onSuccessfulBlock:A,commentRef:P,isDisabled:w=!1}){let[E,D]=(0,p.useState)(!1),[V,R]=(0,p.useState)(null),[M,B]=(0,p.useState)(!1),[O,U]=(0,p.useState)(!1),[H,$]=(0,p.useState)(!1),[q,Q]=(0,p.useState)(!1),z=(0,p.useCallback)(l=>`${l.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${a} in [${e.referenceText}](${e.url})_`,[e.referenceText,a,e.url]),W=!!e.pendingMinimizeReason||e.isHidden,G=(0,p.useMemo)(()=>W&&!v&&e.viewerCanSeeMinimizeButton?(0,n.jsx)(c.K,{"aria-label":"hide comment",variant:"invisible",onClick:()=>K?.(!0),icon:u.FoldIcon,size:"small",className:f.CommentActionsIconButton}):null,[W,v,K,e.viewerCanSeeMinimizeButton]),X=(0,p.useMemo)(()=>W&&v&&e.viewerCanSeeUnminimizeButton?(0,n.jsx)(c.K,{"aria-label":"show comment",variant:"invisible",onClick:()=>K?.(!1),icon:u.UnfoldIcon,size:"small",className:f.CommentActionsIconButton}):null,[W,v,K,e.viewerCanSeeUnminimizeButton]),Y=(0,p.useMemo)(()=>{if(!e.author)return;let l=d.cg?.location.origin;if(!l)return;let n=`content_url=${encodeURIComponent(e.url)}&report=${a}+(user)`;return`${l}/contact/report-content?${n}`},[a,e.author,e.url]),J=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,Z=function(e){let{viewerCanBlockFromOrg:a,pendingBlock:l,hasAuthor:n,pendingUnblock:t}=e;return!!n&&!l&&(!!t||a)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),ee=function(e){let{viewerCanUnblockFromOrg:a,pendingBlock:l,hasAuthor:n,pendingUnblock:t}=e;return!!n&&!t&&(!!l||a)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),ea="boolean"!=typeof e.viewerCanReferenceInIssue||e.viewerCanReferenceInIssue,el="boolean"!=typeof e.viewerCanQuoteReply||e.viewerCanQuoteReply,en={isCreateDialogOpen:M,setIsCreateDialogOpen:B,navigate:x,optionConfig:{storageKeyPrefix:e.id,defaultDisplayMode:o.q.IssueCreation,scopedOrganization:e.repository.owner.login,issueCreateArguments:{initialValues:{body:z(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}},et=(0,t.C)(new Date(e.createdAt)),ei=`Actions for ${a}'s ${C?"reply":"comment"}, ${et}`;return(0,n.jsxs)(n.Fragment,{children:[M&&(0,n.jsx)(r.or,{...en}),O&&(0,n.jsx)(F._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:Y,contentId:e.id,onClose:()=>U(!1),contentType:"comment"}),H&&e.author&&(0,n.jsx)(h.r5,{onBlock:j,onClose:()=>{A?.(),$(!1)},organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),q&&e.author&&(0,n.jsx)(S.o,{onClose:()=>Q(!1),onUnblock:T,organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),G,X,(0,n.jsxs)(m.W,{open:E,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?R({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):R(null)}D(e)},children:[(0,n.jsx)(m.W.Anchor,{"data-testid":y.Y.commentHeaderHamburger,children:(0,n.jsx)(c.K,{disabled:w,unsafeDisableTooltip:!0,size:"small",icon:u.KebabHorizontalIcon,variant:"invisible","aria-label":ei,className:f.CommentActionsIconButton})}),(0,n.jsx)(m.W.Overlay,{children:(0,n.jsxs)(g.l,{"data-testid":y.Y.commentHeaderHamburgerOpen,children:[(0,n.jsxs)(g.l.Item,{onSelect:()=>void(0,s.D)(e.url),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.LinkIcon,{})}),"Copy link"]}),(0,i.M3)()&&(0,n.jsxs)(n.Fragment,{children:[el&&(0,n.jsxs)(g.l.Item,{onSelect:()=>{I((0,k.E)(P?.current,V,e.body))},children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.QuoteIcon,{})}),"Quote reply"]}),ea&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.l.Divider,{}),(0,n.jsxs)(g.l.Item,{"data-testid":y.Y.commentMenuRefComment,onSelect:()=>B(!0),className:f.CommentActionsListItem,children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.IssueOpenedIcon,{})}),"Reference in a new issue"]})]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,n.jsx)(g.l.Divider,{}),e.viewerCanUpdate&&(0,n.jsxs)(g.l.Item,{onSelect:()=>l(),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!W&&(0,n.jsxs)(m.W,{children:[(0,n.jsx)(m.W.Anchor,{children:(0,n.jsxs)(g.l.Item,{children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.EyeClosedIcon,{})}),"Hide"]})}),(0,n.jsx)(m.W.Overlay,{children:(0,n.jsx)(g.l,{children:(0,n.jsx)(b.w,{onSelect:L,setMenuOpen:D})})})]}),e.viewerCanMinimize&&W&&(0,n.jsxs)(g.l.Item,{onSelect:N,children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,n.jsxs)(g.l.Item,{variant:"danger",onSelect:_,children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.TrashIcon,{})}),"Delete"]}),J&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.l.Divider,{}),e.viewerCanReportToMaintainer?(0,n.jsxs)(g.l.Item,{onSelect:()=>{U(!0)},children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.ReportIcon,{})}),"Report content"]}):(0,n.jsxs)(g.l.LinkItem,{href:Y,target:"_blank",children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.ReportIcon,{})}),"Report content"]})]}),(Z||ee)&&!J&&(0,n.jsx)(g.l.Divider,{}),Z&&(0,n.jsxs)(g.l.Item,{onSelect:()=>$(!0),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.BlockedIcon,{})}),"Block user"]}),ee&&(0,n.jsxs)(g.l.Item,{onSelect:()=>Q(!0),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{I.displayName||(I.displayName="CommentActions")}catch{}},41248:(e,a,l)=>{l.d(a,{m:()=>o});var n=l(74848),t=l(46173),i=l(40846);let s={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},r={MEMBER:({viewerDidAuthor:e,org:a})=>`${e?"You are":"This user is"} a member of the ${a} organization.`,OWNER:({viewerDidAuthor:e,repo:a})=>`${e?"You are":"This user is"} the owner of the ${a} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:a})=>`${e?"You have":"This user has"} been invited to collaborate on the ${a} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:a})=>`${e?"You have":"This user has"} previously committed to the ${a} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:a})=>`${e?"You are":"This user is"} a first-time contributor to the ${a} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},o=({association:e,org:a,repo:l,viewerDidAuthor:o})=>{let d=s[e]?e:"NONE";if("NONE"===d)return null;let u=r[d]({viewerDidAuthor:o??!1,org:a,repo:l});return(0,n.jsx)(i.C,{label:s[d],ariaLabel:u,testId:t.Y.commentAuthorAssociation,viewerDidAuthor:o})};try{o.displayName||(o.displayName="CommentAuthorAssociation")}catch{}},40846:(e,a,l)=>{l.d(a,{C:()=>r});var n=l(74848),t=l(82550),i=l(21654),s=l(96540);let r=({label:e,ariaLabel:a,testId:l,viewerDidAuthor:r,variant:o,leadingElement:d,className:u})=>{let c=s.useRef(null),[m,g]=(0,t.B)({contentRef:c,"aria-label":a});return(0,n.jsxs)(i.A,{variant:o||"secondary","data-testid":l,"aria-label":a,className:u,ref:c,sx:r?{borderColor:"accent.muted"}:{},...m,children:[d,e,g]})};try{r.displayName||(r.displayName="CommentHeaderBadge")}catch{}},85757:(e,a,l)=>{l.d(a,{b:()=>r});var n=l(74848),t=l(96901),i=l(46173),s=l(40846);let r=()=>(0,n.jsx)(s.C,{variant:"danger",ariaLabel:t.k.spammyBadgeTooltip,label:t.k.spammyBadge,testId:i.Y.spammyLabel});try{r.displayName||(r.displayName="SpammyBadge")}catch{}},59123:(e,a,l)=>{l.d(a,{r5:()=>F});var n=l(74848),t=l(73189),i=l(16255),s=l(5945),r=l(52446),o=l(65029),d=l(87826),u=l(55847),c=l(96665),m=l(96540),g=l(18312),p=l(69487);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:a},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();y.hash="1cc6b979024f82ac249a77676892c1f0";let k={BlockUserDialog:"BlockUserFromOrgDialog-module__BlockUserDialog--I4tCJ",BlockUserContainer:"BlockUserFromOrgDialog-module__BlockUserContainer--EfgwE",BlockUserFormRow:"BlockUserFromOrgDialog-module__BlockUserFormRow--kI5df",BlockUserFormControl:"BlockUserFromOrgDialog-module__BlockUserFormControl--jMHp4",BlockUserHelpText:"BlockUserFromOrgDialog-module__BlockUserHelpText--znGRy",BlockUserIndentedContainer:"BlockUserFromOrgDialog-module__BlockUserIndentedContainer--lH9mJ",BlockUserLeftPadding:"BlockUserFromOrgDialog-module__BlockUserLeftPadding--XEifV",BlockUserDivider:"BlockUserFromOrgDialog-module__BlockUserDivider--xUkJ6",Button:"BlockUserFromOrgDialog-module__Button--FFeVP"};var f=l(4551);let h={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},b={ONE_DAY:"1",THREE_DAYS:"3",SEVEN_DAYS:"7",THIRTY_DAYS:"30",INDEFINITE:"0"},F=({onBlock:e,onClose:a,...l})=>{let[t,u]=(0,m.useState)("INDEFINITE"),[g,p]=(0,m.useState)(!0),[y,b]=(0,m.useState)(!1),[F,C]=(0,m.useState)(void 0),x=l.contentAuthor.login;return(0,n.jsx)(i.Z,{children:(0,n.jsx)(c.l,{title:`Block ${l.contentAuthor.login} from ${l.organization.login}`,renderFooter:()=>e?(0,n.jsx)(v,{onBlock:e,onClose:a,...l,notifyBlockedUser:g,hideComment:y,duration:t,hiddenReason:F}):(0,n.jsx)(I,{onClose:a,...l,notifyBlockedUser:g,hideComment:y,duration:t,hiddenReason:F}),width:"xlarge",height:"auto",onClose:a,className:k.BlockUserDialog,children:(0,n.jsxs)("div",{className:k.BlockUserContainer,children:[(0,n.jsx)("div",{className:k.BlockUserFormRow,children:(0,n.jsx)("div",{children:(0,n.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,n.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,n.jsx)("div",{className:k.BlockUserFormRow,children:(0,n.jsxs)(s.W,{children:[(0,n.jsxs)(s.W.Button,{children:["Block a user: ",h[t]]}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsx)(r.l,{selectionVariant:"single",children:(0,n.jsxs)(r.l.Group,{children:[(0,n.jsx)(r.l.GroupHeading,{children:"Block options"}),Object.keys(h).map(e=>(0,n.jsx)(r.l.Item,{onSelect:()=>{u(e)},selected:e===t,children:h[e]},e))]})})})]})}),(0,n.jsx)(S,{}),(0,n.jsx)("h4",{children:"More options"}),(0,n.jsxs)(o.A,{className:k.BlockUserFormControl,children:[(0,n.jsx)(d.A,{checked:g,onChange:()=>p(!g),"aria-checked":g}),(0,n.jsx)(o.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,n.jsx)(o.A.Caption,{children:(0,n.jsxs)("span",{className:k.BlockUserHelpText,children:["You can notify ",(0,n.jsx)("b",{children:x})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,n.jsx)("div",{className:k.BlockUserIndentedContainer,children:(0,n.jsxs)("blockquote",{children:["A maintainer of the @",l.organization.login," organization has blocked you because of"," ",(0,n.jsx)("a",{href:l.contentUrl,children:"this content"}),". For more information please see"," ",(0,n.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,n.jsxs)(o.A,{children:[(0,n.jsx)(d.A,{checked:y,onChange:()=>b(!y),"aria-checked":y}),(0,n.jsx)(o.A.Label,{children:"Hide this user's comments"}),(0,n.jsx)(o.A.Caption,{children:(0,n.jsxs)("span",{className:k.BlockUserHelpText,children:["All of their comments in this organization"," ",(0,n.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,n.jsx)("div",{className:k.BlockUserLeftPadding,children:(0,n.jsxs)(s.W,{children:[(0,n.jsx)(s.W.Button,{children:(F&&f.n[F])??"Choose a reason"}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsx)(r.l,{selectionVariant:"single",children:(0,n.jsx)(f.w,{onSelect:C})})})]})})]})})})},S=()=>(0,n.jsx)("div",{className:k.BlockUserDivider}),I=({organization:e,contentAuthor:a,contentId:l,notifyBlockedUser:i,hideComment:s,duration:r,hiddenReason:o,onClose:d})=>{let u=(0,g.useRelayEnvironment)(),c=(0,m.useCallback)(()=>{!function({environment:e,input:{organizationId:a,blockedUserId:l,duration:n,notifyBlockedUser:t,hiddenReason:i,contentId:s},onError:r,onCompleted:o}){let d={organizationId:a,blockedUserId:l,duration:n,notifyBlockedUser:t,contentId:s};i&&(d={...d,hiddenReason:i}),(0,g.commitMutation)(e,{mutation:y,variables:{input:d},onError:e=>r&&r(e),onCompleted:()=>{o?.()}})}({environment:u,input:{organizationId:e.id,contentId:l,blockedUserId:a.id,duration:r,hiddenReason:s&&o?o:void 0,notifyBlockedUser:i},onError:t.l,onCompleted:()=>(0,p.commitLocalUpdate)(u,e=>{let a=e.get(l);a?.setValue(!1,"pendingUnblock"),a?.setValue(!0,"pendingBlock"),o&&a?.setValue(o,"pendingMinimizeReason")})}),d()},[u,e.id,l,a.id,r,s,o,i,d]);return(0,n.jsx)(C,{hideComment:s,hiddenReason:o,onSubmit:c})},v=({contentAuthor:e,duration:a,hideComment:l,hiddenReason:t,onBlock:i,onClose:s,organization:r,notifyBlockedUser:o})=>(0,n.jsx)(C,{hideComment:l,hiddenReason:t,onSubmit:()=>{i?.(b[a]??"0",l,t,r.login,o,e.login),s()}}),C=({hideComment:e,hiddenReason:a,onSubmit:l})=>(0,n.jsx)(c.l.Footer,{children:(0,n.jsx)(u.Q,{variant:"danger",disabled:e&&!a,onClick:l,className:k.Button,children:"Block user from organization"})});try{F.displayName||(F.displayName="BlockUserFromOrgDialog")}catch{}try{S.displayName||(S.displayName="DialogDivider")}catch{}try{I.displayName||(I.displayName="BlockUserFromOrgDialogFooterWithRelay")}catch{}try{v.displayName||(v.displayName="BlockUserFromOrgDialogFooterWithoutRelay")}catch{}try{C.displayName||(C.displayName="BlockUserFromOrgDialogFooterComponent")}catch{}},4551:(e,a,l)=>{l.d(a,{n:()=>i,w:()=>s});var n=l(74848),t=l(52446);let i={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},s=({setMenuOpen:e,onSelect:a})=>(0,n.jsx)(n.Fragment,{children:Object.keys(i).map(l=>(0,n.jsx)(t.l.Item,{"aria-label":`Hide comment as ${i[l]}`,onSelect:()=>{a(l),e?.(!1)},children:i[l]},l))});try{s.displayName||(s.displayName="HideCommentActionItems")}catch{}},14969:(e,a,l)=>{l.d(a,{_:()=>h});var n=l(74848),t=l(43258),i=l(81246),s=l(5945),r=l(52446),o=l(55847),d=l(16255),u=l(89015),c=l(65029),m=l(97956),g=l(96665),p=l(96540),y=l(18312);let k=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:a},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();k.hash="8b252221b8eab001809aa2a2d583cb84";let f={ReportContentRadioLabel:"ReportContentDialog-module__ReportContentRadioLabel--V9lmm",ReportContentContainer:"ReportContentDialog-module__ReportContentContainer--N0pcI",ReportContentSpacing:"ReportContentDialog-module__ReportContentSpacing--CM9Pl",ReportContentTopMargin:"ReportContentDialog-module__ReportContentTopMargin--f_wU_",ReportContentHelpText:"ReportContentDialog-module__ReportContentHelpText--z0X7C",ReportContentSubmitButton:"ReportContentDialog-module__ReportContentSubmitButton--r7_yG",ReportContentFooterSpacing:"ReportContentDialog-module__ReportContentFooterSpacing--Eb8cV",ReportContentDialog:"ReportContentDialog-module__ReportContentDialog--WgQ4X",ReportContentRadioContainer:"ReportContentDialog-module__ReportContentRadioContainer--hWsdC"},h=({owner:e,ownerUrl:a,reportUrl:l,contentId:h,onClose:b,contentType:F="content"})=>{let S=(0,y.useRelayEnvironment)(),{addToast:I}=(0,t.Y6)(),[v,C]=(0,p.useState)("Choose a reason"),[x,j]=(0,p.useState)(!1),[T,K]=(0,p.useState)("admins"),L=(0,p.useCallback)(()=>{var e;j(!0),function({environment:e,input:{reportedContentId:a,reason:l},onError:n,onCompleted:t}){(0,y.commitMutation)(e,{mutation:k,variables:{input:{reportedContent:a,reason:l}},onError:e=>n&&n(e),onCompleted:()=>t&&t()})}({environment:S,input:{reportedContentId:h,reason:"Choose a reason"===(e=v)?"UNSPECIFIED":e},onError(e){I({type:"error",message:`Unable to submit report: ${e}`}),j(!1)},onCompleted(){I({type:"success",message:"Report submitted"}),j(!1),b()}})},[I,h,S,b,v]),N=(0,n.jsxs)("div",{className:f.ReportContentContainer,children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsxs)("span",{children:["This ",F," violates "]}),(0,n.jsx)(i.A,{href:a,children:`@${e}'s `}),(0,n.jsx)("span",{children:"Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,n.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,n.jsxs)("p",{children:["Choose a reason for reporting this ",F]})]}),(0,n.jsx)("div",{className:f.ReportContentSpacing,children:(0,n.jsxs)(s.W,{children:[(0,n.jsx)(s.W.Button,{children:v}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsxs)(r.l,{children:[(0,n.jsx)(r.l.Item,{onSelect:()=>C("ABUSE"),children:"Abuse"}),(0,n.jsx)(r.l.Item,{onSelect:()=>C("SPAM"),children:"Spam"}),(0,n.jsx)(r.l.Item,{onSelect:()=>C("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,n.jsxs)("div",{className:f.ReportContentTopMargin,children:[(0,n.jsxs)("div",{className:f.ReportContentHelpText,children:[(0,n.jsx)("span",{children:"Learn more about "}),(0,n.jsx)(i.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,n.jsx)(o.Q,{variant:"danger",onClick:()=>L(),disabled:x,className:f.ReportContentSubmitButton,children:"Report to repository admins"})]})]}),_=(0,n.jsxs)("div",{className:f.ReportContentContainer,children:[(0,n.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,n.jsxs)("div",{className:f.ReportContentFooterSpacing,children:[(0,n.jsxs)("div",{className:f.ReportContentHelpText,children:[(0,n.jsx)("span",{children:"Learn more about "}),(0,n.jsx)(i.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,n.jsx)(o.Q,{variant:"danger",as:"a",href:l,disabled:x,className:f.ReportContentSubmitButton,children:"Report abuse to GitHub support"})]})]});return(0,n.jsx)(d.Z,{children:(0,n.jsx)(g.l,{title:`Report ${F}`,width:"xlarge",height:"auto",onClose:b,className:f.ReportContentDialog,children:(0,n.jsxs)("div",{className:f.ReportContentRadioContainer,children:[(0,n.jsxs)(u.A,{name:"choiceGroup",onChange:e=>{K(e)},children:[(0,n.jsxs)(u.A.Label,{className:f.ReportContentRadioLabel,children:["Where would you like to report this ",F," to?"]}),(0,n.jsxs)(c.A,{children:[(0,n.jsx)(m.A,{value:"admins",defaultChecked:!0}),(0,n.jsx)(c.A.Label,{children:"To repository admins"})]}),(0,n.jsxs)(c.A,{children:[(0,n.jsx)(m.A,{value:"support"}),(0,n.jsx)(c.A.Label,{children:"To GitHub support"})]})]}),"admins"===T&&N,"support"===T&&_]})})})};try{h.displayName||(h.displayName="ReportContentDialog")}catch{}},14406:(e,a,l)=>{l.d(a,{o:()=>d});var n=l(74848),t=l(69948),i=l(96540),s=l(18312),r=l(69487);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:a},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();o.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=e=>e.onUnblock?(0,n.jsx)(c,{...e}):(0,n.jsx)(u,{...e}),u=({contentAuthor:e,organization:a,onClose:l,contentId:d})=>{let u=(0,s.useRelayEnvironment)(),c=(0,i.useCallback)(n=>{"confirm"===n&&function({environment:e,input:{organizationId:a,unblockedUserId:l},onError:n,onCompleted:t}){(0,s.commitMutation)(e,{mutation:o,variables:{input:{organizationId:a,unblockedUserId:l}},onError:e=>n&&n(e),onCompleted:()=>{t?.()}})}({environment:u,input:{unblockedUserId:e.id,organizationId:a.id},onCompleted:()=>(0,r.commitLocalUpdate)(u,e=>{let a=e.get(d);a?.setValue(!0,"pendingUnblock"),a?.setValue(!1,"pendingBlock")})}),l()},[l,u,e.id,a.id,d]);return(0,n.jsxs)(t.K,{title:`Unblock ${e.login} from ${a.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:c,children:["Are you sure you want to unblock ",(0,n.jsx)("strong",{children:e.login})," from ",(0,n.jsx)("strong",{children:a.login}),"?"]})},c=({contentAuthor:e,organization:a,onClose:l,onUnblock:s})=>{let r=(0,i.useCallback)(n=>{"confirm"===n&&s?.(a.login,e.login),l()},[l,s,a.login,e.login]);return(0,n.jsxs)(t.K,{title:`Unblock ${e.login} from ${a.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:r,children:["Are you sure you want to unblock ",(0,n.jsx)("strong",{children:e.login})," from ",(0,n.jsx)("strong",{children:a.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}try{u.displayName||(u.displayName="UnblockUserFromOrgDialogWithRelay")}catch{}try{c.displayName||(c.displayName="UnblockUserFromOrgDialogWithoutRelay")}catch{}},24550:(e,a,l)=>{l.d(a,{t:()=>g});var n,t=l(74848),i=l(38621),s=l(81246),r=l(75177),o=l(30729),d=l(96540),u=l(99223),c=l(34164);let m={ContributorFooterContainer:"ContributorFooter-module__ContributorFooterContainer--lDUwn",infoIconWrapper:"ContributorFooter-module__infoIconWrapper--Zrm0m"};function g({contributingFileUrl:e,securityPolicyUrl:a,codeOfConductFileUrl:l,supportFileUrl:n,sx:g,className:p}){return!(0,u.k)()&&(e||a||l||n)?(0,t.jsxs)(r.A,{"data-testid":"contributor-footer",sx:g,className:(0,c.$)(m.ContributorFooterContainer,p),children:[(0,t.jsx)(o.A,{icon:i.InfoIcon,className:m.infoIconWrapper}),(0,t.jsxs)("div",{"data-testid":"contributor-footer-text",children:[(0,t.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),(0,t.jsx)("span",{children:(0,t.jsx)(()=>{let i=[];if(e&&i.push((0,t.jsx)(s.A,{underline:!0,href:e,children:"contributing guidelines"})),a&&i.push((0,t.jsx)(s.A,{underline:!0,href:a,children:"security policy"})),l&&i.push((0,t.jsx)(s.A,{underline:!0,href:l,children:"code of conduct"})),n&&i.push((0,t.jsx)(s.A,{underline:!0,href:n,children:"Support"})),1===i.length)return(0,t.jsx)(t.Fragment,{children:i.pop()});let r=i.pop();return(0,t.jsxs)(t.Fragment,{children:[i.map((e,a)=>(0,t.jsxs)(d.Fragment,{children:[e,(0,t.jsx)("span",{children:a!==i.length-1?", ":" "})]},a)),(0,t.jsxs)("span",{children:["and ",r]})]})},{})}),(0,t.jsx)("span",{children:"."})]})]}):null}try{g.displayName||(g.displayName="ContributorFooter")}catch{}try{(n=Links).displayName||(n.displayName="Links")}catch{}},12360:(e,a,l)=>{l.d(a,{C:()=>u});var n=l(74848),t=l(21728),i=l(74807),s=l(38621),r=l(34164);let o={copilotAvatar:"CopilotAvatar-module__copilotAvatar--VK2n9",small:"CopilotAvatar-module__small--OG22P",medium:"CopilotAvatar-module__medium--onZfu",large:"CopilotAvatar-module__large--KgXbi",defaultStyle:"CopilotAvatar-module__defaultStyle--T4PhU"},d={small:{default:12,minimal:16},medium:{default:16,minimal:20},large:{default:24,minimal:32}};function u(e){let a,l,u,c=(0,t.c)(10),{size:m,minimal:g,className:p}=e,y=void 0===m?"small":m,k=void 0!==g&&g,f=void 0===p?"":p,h=k?d[y].minimal:d[y].default,b=o[y],F=!k&&o.defaultStyle;return c[0]!==f||c[1]!==b||c[2]!==F?(a=(0,r.$)(o.copilotAvatar,b,F,f),c[0]=f,c[1]=b,c[2]=F,c[3]=a):a=c[3],c[4]!==h||c[5]!==y?(l="large"===y?(0,n.jsx)(i.N,{animationType:"static",loopAnimation:!0,size:h}):(0,n.jsx)(s.CopilotIcon,{size:h}),c[4]=h,c[5]=y,c[6]=l):l=c[6],c[7]!==a||c[8]!==l?(u=(0,n.jsx)("span",{className:a,"data-testid":"copilot-avatar",role:"img","aria-label":"Copilot avatar",children:l}),c[7]=a,c[8]=l,c[9]=u):u=c[9],u}try{u.displayName||(u.displayName="CopilotAvatar")}catch{}},62180:(e,a,l)=>{l.d(a,{x:()=>d});var n=l(74848),t=l(71555),i=l(65826),s=l(96540),r=l(67702);let o=[];function d({tone:e,...a}){let[l,d]=(0,s.useState)(),u=(0,r.P)(void 0!==l),{calculateSuggestions:c,trigger:m}=(0,i.x)(u.isPending?"loading":u.data??o,{tone:e}),g=(0,s.useMemo)(()=>void 0!==l?c(l):null,[l,c]);return(0,n.jsx)(t.a,{triggers:[m],suggestions:g,onShowSuggestions:({query:e})=>d(e),onHideSuggestions:()=>d(void 0),...a})}try{d.displayName||(d.displayName="EmojiAutocomplete")}catch{}},73454:(e,a,l)=>{l.d(a,{h:()=>u});var n=l(74848),t=l(38621),i=l(75177),s=l(81246),r=l(30729);let o={ErrorWithRetryContainer:"ErrorWithRetry-module__ErrorWithRetryContainer--eDhIy",errorAlertIcon:"ErrorWithRetry-module__errorAlertIcon--Iiexz",errorMessage:"ErrorWithRetry-module__errorMessage--DNJUZ",retryActionLink:"ErrorWithRetry-module__retryActionLink--Xys2Y"};var d=l(34164);function u({message:e,retry:a,sx:l}){return(0,n.jsxs)(i.A,{sx:l,className:o.ErrorWithRetryContainer,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.A,{icon:t.AlertFillIcon,className:(0,d.$)("mr-1",o.errorAlertIcon)}),(0,n.jsx)("span",{className:o.errorMessage,children:e})]}),(0,n.jsx)(s.A,{as:"button",underline:!0,onClick:a,className:o.retryActionLink,children:(0,n.jsx)("span",{className:o.retryActionLink,children:"Try again"})})]})}try{u.displayName||(u.displayName="ErrorWithRetry")}catch{}},72767:(e,a,l)=>{l.d(a,{E:()=>D,F:()=>E});var n=l(74848);let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filename"},a={defaultValue:null,kind:"LocalArgument",name:"repoId"},l=[{kind:"Variable",name:"id",variableName:"repoId"}],n=[{kind:"Variable",name:"filename",variableName:"filename"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={kind:"Literal",name:"first",value:20},u=[d,{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},y=[c,m,i,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},g,p],k={alias:null,args:u,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:y,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},f=[{kind:"Literal",name:"first",value:10}],h={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},F={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},S={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},I=[{kind:"InlineFragment",selections:[t,c,h,i,b,F,S],type:"Actor",abstractKey:"__isActor"}],v={alias:null,args:f,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:I,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:I,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},C=[c,i,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},g,m],x={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:C,args:null,argumentDefinitions:[]}],storageKey:null},j={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},T=[d],K=[c,o,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},t],L={alias:null,args:u,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:y,storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},N={alias:null,args:f,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[t,h,i,b,F,S],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},_={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:C,storageKey:null},A={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null};return{fragment:{argumentDefinitions:[e,a],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:n,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[t,i,s,r,o,k,v,x,j],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:n,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[t,i,s,o,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},k,v,{alias:null,args:T,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:K,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"ProjectPickerRelay",selections:K,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},x,j],args:null,argumentDefinitions:[]}],storageKey:null}],args:n,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,c,{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[t,i,s,r,o,L,N,_,j],storageKey:null},{alias:null,args:n,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[t,i,s,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[t,{kind:"InlineFragment",selections:[A,P,w,E,D,V,j],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[A,P,w,E,D,V,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},j],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[A,P,w,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},V,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},j],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[A,P,w,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},V],storageKey:null},j],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},L,N,{alias:null,args:T,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:K,storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},_,j],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"1d259a158d36d77bee83095e03acf189",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}}}();t.hash="a07055edea10e255144aa55d8c188972";let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};i.hash="8a3f411e97612f6b11008dffb70a56f0";var s=l(69599),r=l(16654),o=l(43258),d=l(96540),u=l(18312),c=l(16642),m=l(96480),g=l(79531);let p={CreateIssueContainer:"CreateIssue-module__CreateIssueContainer--Laikr"};var y=l(89070),k=l(94252),f=l(98338);let h=f.k.crossRepoIssueDuplicationDefaultWarning;var b=l(92858),F=l(41057),S=l(89946);let I=["220px","250px","290px","210px"].map((e,a)=>({id:`skeleton-${a}`,width:e}));function v(){let{optionConfig:e}=(0,m.a)();return(0,n.jsx)("div",{className:`${S.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:I.map(({id:e,width:a})=>(0,n.jsx)(F.Q,{height:"xl",width:a},e))})}try{v.displayName||(v.displayName="TemplateListLoading")}catch{}var C=l(47685);function x({repository:e,setRepository:a,topRepositories:l,organization:t,onTemplateSelected:i}){let{optionConfig:s}=(0,m.a)(),o=(0,d.useId)(),u=s.insidePortal?"ml-3":"ml-0";return(0,n.jsxs)("div",{className:s.insidePortal?"pt-2":"","data-testid":b.Y.repositoryAndTemplateDialog,children:[(0,n.jsx)(j,{className:u,name:"Repository"}),(0,n.jsx)("div",{className:`${s.insidePortal?"mb-2":"mb-3"} ${u}`,children:(0,n.jsx)(r.f0,{"aria-describedby":o,initialRepository:e,onSelect:a,organization:t,topRepositories:l,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0,includeForks:!0}})}),(0,n.jsx)(d.Suspense,{fallback:(0,n.jsx)(v,{}),children:e&&(0,n.jsx)(C.N,{repositoryId:e.id,onTemplateSelected:i,descriptionId:o})})]})}function j({name:e,className:a}){return(0,n.jsxs)("div",{className:`pt-1 pb-1 ${a}`,children:[(0,n.jsx)("span",{className:"text-bold",children:e}),(0,n.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}try{x.displayName||(x.displayName="RepositoryAndTemplatePickerDialog")}catch{}try{j.displayName||(j.displayName="Field")}catch{}let T={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};T.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var K=l(38621),L=l(55847);l(69487);let N={TemplatePickerButtonContainer:"TemplatePickerButton-module__TemplatePickerButtonContainer--sNawE",repositoryConnectorText:"TemplatePickerButton-module__repositoryConnectorText--CKviI"};var _=l(50167);function A({repository:e,template:a}){let l=(0,u.useFragment)(T,e),{setDisplayMode:t}=(0,m.a)(),i=a?a.name:f.k.blankIssueName,s=(0,d.useRef)(null);return((0,d.useEffect)(()=>{s.current?.focus()},[]),l.hasAnyTemplates)?(0,n.jsx)("div",{"data-testid":"template-picker-button",className:N.TemplatePickerButtonContainer,children:(0,n.jsxs)(L.Q,{"data-testid":"template-picker-button-el",onClick:()=>t(_.q.TemplatePicker),leadingVisual:K.RepoIcon,trailingVisual:K.PencilIcon,ref:s,children:[l&&(0,n.jsxs)("span",{children:[i," ",(0,n.jsx)("span",{className:N.repositoryConnectorText,children:"in"})," ",l.nameWithOwner]}),!e&&(0,n.jsx)(n.Fragment,{children:"Select a repository"})]})}):null}try{A.displayName||(A.displayName="TemplatePickerButton")}catch{}var P=l(16378),w=l(81724);let E=t,D=({topRepositories:e,navigate:a,currentRepository:l,onCreateSuccess:t,issueFormRef:r,...f})=>{let h=(0,u.useFragment)(i,l),{addToast:b}=(0,o.Y6)(),F=(0,u.useRelayEnvironment)(),{title:S,body:I,setBody:v,repository:j,setRepository:T,template:K,setNewTitle:L,resetMetadata:N,clearSessionData:D}=(0,g.u)(),{optionConfig:M,displayMode:B,initialDefaultDisplayMode:O,setDisplayMode:U,setCreateMoreCreatedPath:H}=(0,m.a)(),$=(0,s.G7)("memex_default_issue_create_repository"),q=(0,d.useRef)({defaultIssueCreateRepoEnabled:$,isInitialRender:!0,values:{resetMetadata:N,initialDefaultDisplayMode:O,repository:j,setDisplayMode:U}});(0,d.useEffect)(()=>{if(q.current.isInitialRender){if(q.current.isInitialRender=!1,!q.current.defaultIssueCreateRepoEnabled)return;let{resetMetadata:e,initialDefaultDisplayMode:a,repository:l,setDisplayMode:n}=q.current.values;if(a!==_.q.IssueDuplication){if(e(),l?.hasAnyTemplates)return void n(_.q.TemplatePicker);if(!l?.hasAnyTemplates&&l?.isBlankIssuesEnabled)return void n(_.q.IssueCreation);n(a)}}},[]);let Q=(0,d.useCallback)(e=>{e&&(j?.id!==e.id&&(N({repository:q.current.values.repository,selectedRepository:e}),$&&(e.hasAnyTemplates?U(_.q.TemplatePicker):!e.hasAnyTemplates&&e.isBlankIssuesEnabled&&U(_.q.IssueCreation))),T(e),H({owner:e.owner.login,repo:e.name,number:void 0}))},[N,j,H,T,U,$]),z=(0,P.wT)({optionConfig:M,repository:j,navigate:a,setDisplayMode:U}),W=(0,d.useCallback)((e,l)=>{let n;if(j){if(j?.viewerInteractionLimitReasonHTML&&j.viewerInteractionLimitReasonHTML.length>0)return void a(`/${j.owner.login}/${j.name}/issues/new`);if(l!==w.t7.ContactLink){if(M.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(n={appendTitleToTemplate:M.issueCreateArguments.initialValues.appendTitleToTemplate}),l===w.t7.BlankIssue)return void z((0,w.AI)(),n,!0);(0,u.fetchQuery)(F,E,{repoId:j.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let a=(0,P.EV)(e.node);a&&z(a,n,!0)},error:()=>{reportError(Error(c.S.unableToLoadSelectedTemplate)),b({type:"error",message:c.S.unableToLoadSelectedTemplate})}})}}},[j,F,M.issueCreateArguments?.initialValues?.appendTitleToTemplate,z,b,a]),G=(0,k.K)({issueFormRef:r,handleTemplateChange:z,template:K,callback:t});if((0,d.useEffect)(()=>{j&&H({owner:j.owner?.login||"",repo:j.name||"",number:void 0})},[j,H]),!h&&!j)return(0,n.jsx)(V,{repository:j,onRepositorySelected:Q,topRepositories:e,organization:M.scopedOrganization,onTemplateSelected:W});let X=O===_.q.IssueCreation;return(0,n.jsxs)("div",{tabIndex:-1,className:p.CreateIssueContainer,children:[B===_.q.IssueCreation&&(0,n.jsxs)(n.Fragment,{children:[X&&h&&(0,n.jsx)(A,{repository:h,template:K}),j&&(0,n.jsx)(y.e,{...f,issueFormRef:r,onCreateSuccess:G,selectedTemplate:K,repository:j,title:S,setTitle:L,body:I,setBody:v,clearOnCreate:D,focusTitleInput:!X,footer:void 0})]}),B===_.q.IssueDuplication&&(0,n.jsx)(R,{navigate:a,onCreateSuccess:G,topRepositories:e,issueFormRef:r,...f}),M.showRepositoryPicker&&B===_.q.TemplatePicker&&e&&(0,n.jsx)(x,{repository:j,setRepository:Q,topRepositories:e,organization:M.scopedOrganization,onTemplateSelected:W}),!M.showRepositoryPicker&&B===_.q.TemplatePicker&&h&&(0,n.jsx)("div",{"data-hpc":!0,children:(0,n.jsx)(C.e,{repository:h,onTemplateSelected:W,...f})})]})};function V({repository:e,onRepositorySelected:a,topRepositories:l,organization:t,onTemplateSelected:i}){return l?(0,n.jsx)("div",{tabIndex:-1,className:p.CreateIssueContainer,children:(0,n.jsx)(x,{repository:e,setRepository:a,topRepositories:l,organization:t,onTemplateSelected:i})}):null}function R({onCreateSuccess:e,topRepositories:a,issueFormRef:l,...t}){let{title:i,body:s,setBody:o,repository:u,setNewTitle:c,clearSessionData:m}=(0,g.u)(),{onRepositoryChange:p,notice:k,sourceRepository:b}=(()=>{let{repository:e,setRepository:a,assignees:l,setAssignees:n,issueType:t,setIssueType:i,issueFields:s,setIssueFields:r,milestone:o,setMilestone:u,labels:c,setLabels:m}=(0,g.u)(),[p,y]=(0,d.useState)({repository:e,assignees:l,issueType:t,issueFields:s,milestone:o,labels:c}),[k,b]=(0,d.useState)(h),F=(0,d.useCallback)(e=>{if(!e)return;let l=[],t=e.id===p.repository?.id,s=e.owner?.databaseId===p.repository?.owner?.databaseId;t?(n?.(p.assignees),r?.(p.issueFields),i?.(p.issueType),u?.(p.milestone),m?.(p.labels)):(u?.(null),l.push("Milestone","Labels"),s?(n?.(p.assignees),r?.(p.issueFields),i?.(p.issueType)):(n?.([]),r?.([]),i?.(null),l.push("Assignees"),p.repository?.owner?.issueTypesEnabled&&l.push("Type"))),b(l.length>0?f.k.crossRepoIssueDuplicationWarning(l):h),a(e)},[p,n,r,i,m,u,a]);return(0,d.useEffect)(()=>{e?.databaseId===p.repository?.databaseId&&y({repository:e,assignees:l,issueType:t,issueFields:s,milestone:o,labels:c})},[e,l,t,s,o,c,p.repository?.databaseId]),{onRepositoryChange:F,notice:k,sourceRepository:p.repository}})(),F=(0,d.useCallback)(e=>e.id===b?.id?e.viewerIssueCreationPermissions.triageable:e.viewerIssueCreationPermissions.triageable&&e.isBlankIssuesEnabled,[b?.id]);return(0,n.jsx)(n.Fragment,{children:a&&u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.f0,{"aria-describedby":"Choose repository to duplicate issue in",initialRepository:u,topRepositories:a,onSelect:p,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0},notice:{text:k,variant:"warning"},repositoryFilter:F}),(0,n.jsx)(y.e,{...t,issueFormRef:l,onCreateSuccess:e,repository:u,title:i,setTitle:c,body:s,setBody:o,clearOnCreate:m,focusTitleInput:!1})]})})}try{D.displayName||(D.displayName="CreateIssue")}catch{}try{V.displayName||(V.displayName="CreateIssueWithoutRepo")}catch{}try{R.displayName||(R.displayName="CreateIssueFormWithRepoPicker")}catch{}},58335:(e,a,l)=>{l.d(a,{l:()=>F});var n=l(74848),t=l(25407),i=l(83494),s=l(38621),r=l(75177),o=l(65029),d=l(87826),u=l(81246),c=l(55847),m=l(30729),g=l(34164),p=l(96540),y=l(89064),k=l(98338),f=l(92858),h=l(96480);let b={container:"CreateIssueFooter-module__container--C49xM",Checkbox:"CreateIssueFooter-module__Checkbox--RNE52",CreateIssueFooterContainer:"CreateIssueFooter-module__CreateIssueFooterContainer--iM6Iv",fileUploadWarningSection:"CreateIssueFooter-module__fileUploadWarningSection--M7r9j",warningMessageText:"CreateIssueFooter-module__warningMessageText--fKwCF",mainContentWrapper:"CreateIssueFooter-module__mainContentWrapper--cs_cN",checkboxAndLinksSection:"CreateIssueFooter-module__checkboxAndLinksSection--TMq5G",FormControl:"CreateIssueFooter-module__FormControl--g1A8W",separatorDot:"CreateIssueFooter-module__separatorDot--HAWps",actionButtonsContainer:"CreateIssueFooter-module__actionButtonsContainer--UzT1K"},F=({className:e,sx:a,hideCreateMore:l=!1,onClose:F})=>{let{createMore:S,setCreateMore:I,createMoreCreatedPath:v,onCreateAction:C,isSubmitting:x,isFileUploading:j,isSubIssue:T,optionConfig:{insidePortal:K}}=(0,h.a)(),[L,N]=(0,p.useState)(!1),_=(0,p.useRef)(null),A=()=>!x&&(!j||(N(!0),!1)),P=async()=>{A()&&C?.current?.onCreate(x,S)};(0,p.useEffect)(()=>{_.current&&!j&&!x&&L&&(N(!1),_.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[j,x,L]);let w={"github:submit-form":P};return l||(w["issue-create:submit-and-create-more"]=()=>{I(!0),A()&&C?.current?.onCreate(x,!0)}),(0,n.jsxs)("div",{className:(0,g.$)(b.container,e,b.CreateIssueFooterContainer),children:[(0,n.jsx)(i.ak,{commands:w}),L&&(0,n.jsxs)("div",{className:b.fileUploadWarningSection,children:[(0,n.jsx)(m.A,{icon:s.InfoIcon,size:16}),(0,n.jsx)("span",{className:b.warningMessageText,children:k.k.fileUploadWarning})]}),(0,n.jsxs)(r.A,{sx:{...a},className:b.mainContentWrapper,children:[!l&&(0,n.jsxs)(r.A,{sx:{ml:2*!K},className:b.checkboxAndLinksSection,children:[(0,n.jsxs)(o.A,{className:b.FormControl,children:[(0,n.jsx)(d.A,{"data-testid":f.Y.createMoreIssuesCheckbox,checked:S,onChange:()=>{I(!S)},className:b.Checkbox}),(0,n.jsx)(o.A.Label,{children:T?y.l.createMoreSubIssues:y.l.createMore})]}),(0,n.jsx)("div",{"data-testid":f.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:v.number?k.k.lastIssueCreated(v.number):null}),v.number?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:b.separatorDot,children:"\xb7"}),(0,n.jsx)(u.A,{href:(0,t.dRG)({owner:v.owner,repo:v.repo,issueNumber:v.number}),"data-testid":f.Y.issueCreatedLink,children:k.k.lastIssueCreated(v.number)})]}):null]}),(0,n.jsxs)("div",{className:b.actionButtonsContainer,children:[F&&(0,n.jsx)(c.Q,{onClick:()=>F(),children:y.l.cancel}),(0,n.jsx)(i.cQ,{commandId:"github:submit-form",variant:"primary",inactive:x||j,"data-testid":f.Y.createIssueButton,ref:_,showKeybindingHint:!0,children:y.l.create})]})]})]})};try{F.displayName||(F.displayName="CreateIssueFooter")}catch{}},89070:(e,a,l)=>{l.d(a,{e:()=>eb});var n=l(74848),t=l(8046),i=l(24550),s=l(62559),r=l(38102),o=l(98646),d=l(977),u=l(3047),c=l(21526),m=l(51451),g=l(30459),p=l(96459),y=l(38621),k=l(96665),f=l(69410),h=l(75177),b=l(30729),F=l(39820),S=l(80249),I=l(34164),v=l(96540),C=l(18312),x=l(16642),j=l(98338),T=l(96480),K=l(79531);let L={commentBox:"CreateIssueForm-module__commentBox--vEs40",errorBanner:"CreateIssueForm-module__errorBanner--eNPfc",CreateIssueFormWrapper:"CreateIssueForm-module__CreateIssueFormWrapper--xluI0",formGridContainer:"CreateIssueForm-module__formGridContainer--SxqjE",mainContentSection:"CreateIssueForm-module__mainContentSection--rApst",metadataSection:"CreateIssueForm-module__metadataSection--r67Zi",footerButton:"CreateIssueForm-module__footerButton--pogcH"};var N=l(62180),_=l(24815),A=l(65029);let P={container:"CreateIssueFormTitle-module__container--GhqlY",formControl:"CreateIssueFormTitle-module__formControl--H5ulr",formControlLabel:"CreateIssueFormTitle-module__formControlLabel--ksDPF",subcontainer:"CreateIssueFormTitle-module__subcontainer--wchOC"},w=({title:e,titleValidationResult:a,titleInputRef:l,handleTitleChange:t,emojiTone:i})=>{let s=(0,n.jsx)(_.A,{ref:l,"aria-label":j.k.issueCreateTitleLabel,placeholder:j.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:t,onInput:t,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,n.jsx)("div",{className:P.container,children:(0,n.jsxs)(A.A,{className:P.formControl,required:!0,children:[(0,n.jsx)(A.A.Label,{className:P.formControlLabel,children:j.k.issueCreateTitleLabel}),(0,n.jsxs)("div",{className:P.subcontainer,children:[(0,n.jsx)(v.Suspense,{fallback:s,children:(0,n.jsx)(N.x,{tone:i,children:s})}),a&&(0,n.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,n.jsx)(A.A.Validation,{variant:"error",id:"title-validation",children:a})})]})]})})};try{w.displayName||(w.displayName="CreateIssueFormTitle")}catch{}var E=l(72429),D=l(52927),V=l(14111),R=l(17402),M=l(58115),B=l(77430),O=l(14034),U=l(19918),H=l(46377),$=l(25407);let q={compressedAssigneeAvatar:"CompressedAssigneeAnchor-module__compressedAssigneeAvatar--y2Hg2"},Q=(0,v.forwardRef)(({assignees:e,anchorProps:a,displayHotkey:l,MAX_DISPLAYED_ASSIGNEES:t=2,readonly:i},s)=>(0,n.jsx)(H._,{leadingIconElement:e.slice(0,t).map(e=>(0,n.jsx)(z,{assignee:e},e.login)),anchorText:e.length>1?U.k.assignees:U.k.noAssignees,anchorProps:a,sharedPickerMainValue:e.slice(0,t).map(e=>e.isCopilot?"Copilot":e.login).join(", ").concat(e.length>t?`, ${e.length-t}+`:""),ariaLabel:U.k.selectAssignees,readonly:i,leadingIcon:y.PeopleIcon,hotKey:!i&&l?O.w.assigneePicker.toUpperCase():void 0,ref:s}));function z({assignee:e}){return e.isCopilot?(0,n.jsx)(y.CopilotIcon,{}):(0,n.jsx)(B.r,{"data-hovercard-url":(0,$.dCN)({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,className:q.compressedAssigneeAvatar})}Q.displayName="CompressedAssigneeAnchor";try{z.displayName||(z.displayName="AssigneeLeadingVisual")}catch{}let W=(0,v.forwardRef)(({assignees:e,readonly:a,anchorProps:l},t)=>(0,n.jsx)(Q,{assignees:e,displayHotkey:!1,anchorProps:a?void 0:l,readonly:a,ref:t}));W.displayName="DefaultAssigneePickerAnchor";var G=l(75202),X=l(41057);let Y={MetadataFooterLoadingContainer:"MetadataFooterLoading-module__MetadataFooterLoadingContainer--MlVdF"},J=()=>(0,n.jsx)("div",{className:Y.MetadataFooterLoadingContainer,children:(0,n.jsx)(X.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{J.displayName||(J.displayName="MetadataFooterLoading")}catch{}let Z={MetadataFooterContainer:"MetadataFooter-module__MetadataFooterContainer--omn3p"},ee=({repo:e,owner:a,canSetAssignees:l,canSetLabels:t,canSetMilestone:i,canSetProjects:s,canSetType:r,issueTypesEnabled:o})=>{let{optionConfig:d}=(0,T.a)(),{repository:u,labels:c,setLabels:m,assignees:g,setAssignees:p,projects:k,setProjects:f,milestone:h,setMilestone:b,issueType:F,setIssueType:S}=(0,K.u)(),I={insidePortal:d.insidePortal,shortcutEnabled:d.singleKeyShortcutsEnabled},C=k[0]?.title||"",x=u&&(l||g.length>0)&&!d.scopedAssignees?{repo:u.name,owner:u.owner.login,readonly:!l,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:g,assigneeTokens:[],anchorElement:(e,a)=>(0,n.jsx)(W,{assignees:g,readonly:!l,anchorProps:e,ref:a,...I}),onSelectionChange:p,maximumAssignees:u.planFeatures.maximumAssignees,...I}:null,j=null;return x&&(j=(0,n.jsx)(E._g,{...x})),(0,n.jsx)(v.Suspense,{fallback:(0,n.jsx)(J,{}),children:(0,n.jsxs)("div",{className:Z.MetadataFooterContainer,children:[j,d.scopedAssignees&&(0,n.jsx)(Q,{assignees:d.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(t||c.length>0)&&(0,n.jsx)(V.tJ,{repo:e,owner:a,readonly:!t,labels:c,anchorElement:(e,a)=>(0,n.jsx)(V.vF,{readonly:!t,labels:c,anchorProps:e,ref:a,...I}),onSelectionChanged:m,...I}),o&&(r||null!==F)&&!d.scopedIssueType&&(0,n.jsx)(D.uF,{repo:e,owner:a,onSelectionChange:e=>S(e?.[0]||null),anchorElement:e=>(0,n.jsx)(D.ZQ,{readonly:!r,activeIssueType:F,anchorProps:e,...I}),readonly:!r,activeIssueType:F??null,width:"medium",...I}),d.scopedIssueType&&(0,n.jsx)(H._,{anchorText:d.scopedIssueType,leadingIcon:y.IssueOpenedIcon,readonly:!0}),u&&!d.scopedProjectTitle&&(s||k.length>0)&&(0,n.jsx)(G.t,{fallback:(0,n.jsx)(H._,{anchorText:"Projects are unavailable",leadingIcon:y.AlertIcon,readonly:!0}),children:(0,n.jsx)(M.wX,{pickerId:"create-issue-projects-picker",readonly:!s,onSave:f,selectedProjects:k,firstSelectedProjectTitle:C,owner:u.owner.login,repo:u.name,anchorElement:e=>(0,n.jsx)(M.Ci,{nested:!1,readonly:!s,anchorProps:e,firstSelectedProjectTitle:C,...I}),...I})}),d.scopedProjectTitle&&(0,n.jsx)(H._,{anchorText:d.scopedProjectTitle,leadingIcon:y.TableIcon,readonly:!0}),(i||null!==h)&&!d.scopedMilestone&&(0,n.jsx)(R.De,{repo:e,owner:a,readonly:!i,canCreateMilestone:i,activeMilestone:h,anchorElement:(e,a)=>(0,n.jsx)(R.xJ,{nested:!1,readonly:!i,activeMilestone:h,anchorProps:e,ref:a,...I}),onSelectionChanged:e=>b(e?.[0]||null),...I}),d.scopedMilestone&&(0,n.jsx)(H._,{anchorText:d.scopedMilestone,leadingIcon:y.MilestoneIcon,readonly:!0})]})})};try{ee.displayName||(ee.displayName="MetadataFooter")}catch{}var ea=l(95647),el=l(80159),en=l(44963),et=l(36365),ei=l(30107),es=l(77622);let er={MetadataSidebarContainer:"MetadataSidebar-module__MetadataSidebarContainer--Q36lm",CreateIssueAssigneesSection:"MetadataSidebar-module__CreateIssueAssigneesSection--CPHmR"},eo=({canSetAssignees:e,canSetLabels:a,canSetMilestone:l,canSetProjects:t,canSetType:i,canSetIssueFields:s,issueTypesEnabled:r})=>{let{optionConfig:o}=(0,T.a)(),{repository:d,labels:u,setLabels:c,assignees:m,setAssignees:g,projects:p,setProjects:y,milestone:k,setMilestone:f,issueType:h,setIssueType:b,setIssueFields:F}=(0,K.u)(),S={insidePortal:o.insidePortal,shortcutEnabled:o.singleKeyShortcutsEnabled};return d?(0,n.jsxs)("div",{className:er.MetadataSidebarContainer,children:[(0,n.jsx)("h2",{className:"sr-only",children:"Metadata"}),d&&(0,n.jsx)(ea.b2,{repo:d.name,owner:d.owner.login,readonly:!e,assignees:m,onSelectionChange:g,maximumAssignees:d.planFeatures.maximumAssignees,className:er.CreateIssueAssigneesSection,repository:d,issueNumber:void 0,onIssueUpdate:void 0,...S}),(0,n.jsx)(en.qn,{repo:d.name,owner:d.owner.login,readonly:!a,labels:u,onSelectionChange:c,...S}),r&&(0,n.jsx)(es.pf,{owner:d.owner.login,repo:d.name,...S,viewerCanType:i,type:h,onSelectionChange:b}),s&&(0,n.jsx)(el.u,{owner:d.owner.login,onSelectionChange:F,...S}),(0,n.jsx)(ei.PH,{owner:d.owner.login,repo:d.name,projects:p,readonly:!t,onSelectionChange:y,...S}),(0,n.jsx)(et.C5,{repo:d.name,owner:d.owner.login,milestone:k,onSelectionChange:f,viewerCanSetMilestone:l??!1,className:er.CreateIssueAssigneesSection,...S})]}):null};try{eo.displayName||(eo.displayName="MetadataSidebar")}catch{}let ed=()=>{let{optionConfig:e}=(0,T.a)(),a=!e.insidePortal,{repository:l}=(0,K.u)(),t=l?.viewerIssueCreationPermissions?.assignable??!1,i=l?.viewerIssueCreationPermissions?.labelable??!1,s=l?.viewerIssueCreationPermissions?.milestoneable??!1,r=l?.viewerIssueCreationPermissions?.triageable??!1,o=l?.viewerIssueCreationPermissions?.typeable??!1,d=l?.viewerIssueCreationPermissions?.canSetIssueFields??!1,u=l?.owner?.issueTypesEnabled??!1,c={repo:l?.name||"",owner:l?.owner.login||"",canSetAssignees:t,canSetLabels:i,canSetMilestone:s,canSetProjects:r,canSetType:o,canSetIssueFields:d,issueTypesEnabled:u};return a?(0,n.jsx)(eo,{...c}):(0,n.jsx)(ee,{...c})};try{ed.displayName||(ed.displayName="MetadataSelectors")}catch{}let eu=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},a={defaultValue:null,kind:"LocalArgument",name:"input"},l=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u=[{kind:"Literal",name:"first",value:100}],c={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},m=[c],g={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[p,s,t],storageKey:null};return{fragment:{argumentDefinitions:[e,a],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:l,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,t,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s],storageKey:null}],storageKey:null},r,o,t,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[t,{alias:null,args:u,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:l,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,t,i,y],storageKey:null},r,o,t,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[t,{alias:null,args:u,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[c,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[t,s,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},d,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,y,t],storageKey:null},n,r,o,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[t,i,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:m,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,t],storageKey:null},{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[p,g],storageKey:null}],storageKey:null}]},params:{id:"19bd7bb3bab76aa71426b77a8829b65d",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}}}();eu.hash="52d12f0951eb99b4e97acd8c5026e0f0";var ec=l(10991),em=l(73017),eg=l(55847);let ep={userRestrictedContainer:"UserRestrictedView-module__userRestrictedContainer--Ootl2",backToAllIssuesButton:"UserRestrictedView-module__backToAllIssuesButton--pt4aq"},ey=({reasonHTML:e,issuesUrl:a})=>(0,n.jsxs)("div",{className:ep.userRestrictedContainer,children:[e&&(0,n.jsx)(F.l,{"aria-label":"Warning",variant:"warning",hideTitle:!0,title:"Action restricted",children:(0,n.jsx)(F.l.Description,{children:(0,n.jsx)(em.JR,{html:e})})}),a&&(0,n.jsx)(eg.Q,{as:"a",href:a,className:ep.backToAllIssuesButton,children:j.k.backToAllIssues})]});try{ey.displayName||(ey.displayName="UserRestrictedView")}catch{}var ek=l(50167),ef=l(81724),eh=l(94007);let eb=({repository:e,title:a,setTitle:l,body:N,setBody:_,clearOnCreate:A,onCreateSuccess:P,onCreateError:E,selectedTemplate:D,footer:V,issueFormRef:R,onBeforeCreate:M,defaultValuesById:B,showUserRestrictedView:O=!1,onFieldChange:U})=>{let{optionConfig:H,createMore:$,createMoreCreatedPath:q,setCreateMoreCreatedPath:Q,isSubmitting:z,setIsSubmitting:W,onCreateAction:G,setIsFileUploading:X,displayMode:Y}=(0,T.a)(),J=!H.insidePortal,Z=(0,v.useRef)(null),[ee,ea]=(0,v.useState)("edit"),[el,en]=(0,v.useState)(void 0),[et,ei]=(0,v.useState)(void 0),[es,er]=(0,v.useState)(null),eo=(0,v.useRef)(null),em=(0,C.useRelayEnvironment)(),{sendAnalyticsEvent:eg}=(0,g.s)(),{labels:ep,assignees:eb,projects:eS,milestone:eI,issueType:ev,issueFields:eC,parentIssue:ex,usedStorageKeyPrefix:ej}=(0,K.u)(),eT=(0,n.jsx)(ey,{reasonHTML:e.viewerInteractionLimitReasonHTML,issuesUrl:`/${e.owner.login}/${e.name}/issues`}),eK=e.viewerIssueCreationPermissions.typeable,eL=e.viewerIssueCreationPermissions.canSetIssueFields,eN=e=>{let a=e.map(e=>e?.message).filter(Boolean).join(", ");return(a?a.charAt(0).toUpperCase()+a.slice(1):null)??x.S.createIssueError},e_=B||(0,eh.Zi)();(0,v.useEffect)(()=>{es&&es.length>0&&eo?.current&&eo.current.focus()},[eo,es]),(0,v.useImperativeHandle)(G,()=>({onCreate:async(l,n)=>{let t,i;if(l)return;let d=(0,s.O_)(a);en(d.errorMessage),!d.isValid&&Z.current&&(t=Z.current);let m=D&&(0,ef.GQ)(D.data),g=N;if(m&&R.current){let e=R.current.getInvalidInputs();e.length>0?t=t||e[0]:g=R.current.markdown()??""}if(t||void 0!==el||0===(a??"").trim().length||void 0===e||void 0!==et)return void t?.focus();er(null),W(!0),M&&(g=await M(g)),D&&(D.kind===ef.t7.IssueTemplate||D.kind===ef.t7.IssueForm)&&(i=D.name);let p={repositoryId:e.id,title:a?a.trim():"",body:g,labelIds:ep.length>0?ep.map(e=>e.id):void 0,assigneeIds:eb.length>0?eb.map(e=>e.id):void 0,milestoneId:eI?.id,issueTypeId:eK||i?ev?.id:null,issueFields:eL?eC.map(e=>{if(void 0===e.field.dataType||void 0===e.field.id)return null;let a=(0,u.vl)((0,o.HZ)(e.field.dataType),e.value);return{fieldId:e.field.id,...(0,o.Ft)((0,o.HZ)(e.field.dataType),a)}}).filter(e=>!!e):null,issueTemplate:i,isDuplicated:Y===ek.q.IssueDuplication,parentIssueId:ex?ex.id:null};!function({environment:e,input:{title:a,body:l,repositoryId:n,labelIds:t,milestoneId:i,assigneeIds:s,issueTemplate:r,issueTypeId:o,issueFields:d,isDuplicated:u,parentIssueId:c},onError:m,onCompleted:g}){let p={title:a,body:l,repositoryId:n,labelIds:t,milestoneId:i,assigneeIds:s,issueTemplate:r,issueTypeId:o,parentIssueId:c,issueFields:d,isDuplicated:u};(0,C.commitMutation)(e,{mutation:eu,variables:{input:p,fetchParent:!!p.parentIssueId},onError:e=>m&&m(e),onCompleted:e=>{g?.(e),(0,ec.f)()}})}({environment:em,input:p,onError:e=>{(0,r.N7)(eF(e.message)),E(e),W(!1);let a=x.S.createIssueError;e.cause&&Array.isArray(e.cause)&&e.cause.length>0&&(a=eN(e.cause)),er(a)},onCompleted:e=>{if(W(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>(0,r.N7)(eF(e.message)));let a=x.S.createIssueError;e.createIssue?.errors&&e.createIssue?.errors.length>0&&(a=eN(e.createIssue.errors)),er(a);return}let a=e.createIssue.issue;eg("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:a.id,issueNumber:a.number,issueNWO:`${a.repository.owner.login}/${a.repository.name}`}),eS.length>0&&function(e,a,l){for(let n of a)(0,c.Z)({environment:l,issueId:e,projectId:n.id})}(a.id,eS,em),n?(ea("edit"),Q({...q,number:a.number})):A(),P({issue:a,createMore:n})}})}}),[a,D,N,R,el,e,et,W,M,ep,eb,eI?.id,eK,ev?.id,eL,eC,Y,ex,em,E,eg,eS,P,Q,q,A]);let eA=D&&(0,ef.GQ)(D.data),eP=(0,v.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),ew=(0,v.useId)(),eE=[],eD=(0,p.Z)(),eV=(0,v.useRef)(null),[eR,eM]=(0,v.useState)(!1),eB=()=>{eg("analytics.click","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON",{repoNWO:`${e.owner.login}/${e.name}`}),eD(`/copilot?prompt=Create an issue in ${e.nameWithOwner} to`)};H.copilotShowFunctionality&&("PUBLIC"!==e.visibility||e.viewerCanPush)&&(!D||D.kind===ef.t7.BlankIssue)&&eE.push((0,n.jsx)(m.n.FooterButton,{ref:eV,variant:"invisible",leadingVisual:y.ArrowUpRightIcon,size:"small",className:L.footerButton,onClick:()=>{N.length||a.length?eM(!0):eB()},children:j.k.copilotCTAButton},"create-issue-with-copilot"));let eO=O?eT:(0,n.jsxs)(n.Fragment,{children:[eR&&(0,n.jsx)(k.l,{title:j.k.copilotCTADialogTitle,onClose:()=>eM(!1),footerButtons:[{buttonType:"default",content:j.k.copilotCTADialogCancelButton,onClick:()=>eM(!1)},{buttonType:"primary",content:j.k.copilotCTADialogContinueButton,onClick:eB}],returnFocusRef:eV,children:j.k.copilotCTADialogDescription}),es&&(0,n.jsx)(F.l,{ref:eo,title:"Error",description:(0,n.jsx)(S.o,{children:es}),variant:"critical",className:L.errorBanner,role:"alert"}),(0,n.jsx)(w,{title:a,titleInputRef:Z,handleTitleChange:e=>{(e=>{(0,s.O_)(e).isValid&&en(void 0),l(e)})(e.currentTarget.value)},titleValidationResult:el,emojiTone:H.emojiSkinTonePreference}),eP&&!eA&&(0,n.jsxs)("div",{className:L.commentBox,children:[(0,n.jsx)(t.h,{subject:eP,label:j.k.issueCreateBodyLabel,showLabel:!0,placeholder:j.k.issueBodyPlaceholder,viewMode:ee,onChangeViewMode:ea,value:N,onSave:()=>G?.current?.onCreate(z,$),onChange:e=>{(e=>{ei((0,s.QK)(e).errorMessage),_(e)})(e)},saveButtonTrailingIcon:!1,minHeightLines:H.insidePortal?14:20,"aria-describedby":et?ew:void 0,setIsFileUploading:X,footerButtons:eE}),et&&(0,n.jsxs)(f.A,{variant:"danger",id:ew,children:[(0,n.jsx)(b.A,{icon:y.AlertIcon}),et]})]}),eP&&eA&&(0,ef.GQ)(D.data)&&(0,n.jsx)(d.Z,{outputRef:R,issueFormRef:D.data,subject:eP,sessionStorageKey:ej,defaultValuesById:e_,onSave:()=>G?.current?.onCreate(z,$),setIsFileUploading:X,onFieldChange:U})]}),eU=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{}),(0,n.jsx)(i.t,{supportFileUrl:e.supportFileUrl??void 0,codeOfConductFileUrl:e.codeOfConductFileUrl??void 0,securityPolicyUrl:e.securityPolicyUrl??void 0,contributingFileUrl:e.contributingFileUrl??void 0})]}),eH=O?null:(0,n.jsx)(n.Fragment,{children:V&&(0,n.jsx)(h.A,{sx:{gridArea:"footer",mt:[4,4,2*!!eA]},children:V})});return J?(0,n.jsx)("div",{className:L.CreateIssueFormWrapper,children:(0,n.jsxs)(h.A,{className:(0,I.$)("width-fit",L.formGridContainer),sx:{gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `},children:[(0,n.jsx)("div",{className:L.mainContentSection,children:eO}),(0,n.jsx)("div",{className:L.metadataSection,children:eU}),eH]})}):(0,n.jsxs)(n.Fragment,{children:[eO,eU,eH]})};function eF(e){return Error(`Issue create mutation failed with error: ${e}`)}try{eb.displayName||(eb.displayName="CreateIssueForm")}catch{}},47685:(e,a,l)=>{l.d(a,{e:()=>V,N:()=>D});var n,t,i=l(74848);let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[l,n,t,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[l,n,t,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[t,i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"616cce00c4f4fa38692beac78606b059",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}}}();s.hash="48fd58d3a414612124beb28d391e3930";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};r.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var o=l(38621),d=l(18312),u=l(98338),c=l(96480);let m=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[e,a,{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[e,a,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}}();m.hash="9273ddd168cea9d6445f53cc752642e5";var g=l(41057),p=l(71315),y=l(52446);l(69487);var k=l(66108);let f={actionListTitle:"IssueTemplateItem-module__actionListTitle--wBUhO",templateItemContainer:"IssueTemplateItem-module__templateItemContainer--LLWZY"},h=({filename:e,onTemplateSelected:a,name:l,about:n,link:t,externalLink:s,trailingIcon:r})=>(0,i.jsxs)(y.l.LinkItem,{as:k.N,to:t??"#",target:s?"_blank":void 0,onClick:l=>{l.altKey||l.ctrlKey||l.metaKey||l.shiftKey||(s||t||(l.preventDefault(),l.stopPropagation()),a(e))},className:f.templateItemContainer,children:[(0,i.jsx)("span",{className:f.actionListTitle,children:l}),(0,i.jsx)(y.l.Description,{variant:"block",children:n}),(0,i.jsx)(y.l.TrailingVisual,{children:r??(0,i.jsx)(o.ArrowRightIcon,{})})]},e);try{h.displayName||(h.displayName="IssueTemplateItem")}catch{}var b=l(81724),F=l(94007);let S=({nameWithOwner:e,onTemplateSelected:a})=>(0,i.jsx)(h,{filename:b.$K,onTemplateSelected:()=>a?.(b.$K,b.t7.BlankIssue),name:u.k.blankIssueName,about:u.k.blankIssueDescription,link:a?void 0:(0,F.Qy)(e,b.$K)});try{S.displayName||(S.displayName="BlankIssueItem")}catch{}var I=l(92858);let v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};v.hash="89d8106fd30fe009b4d13c1f4908f32e";var C=l(73189);let x=({repositoryContactLink:e})=>{let a=(0,d.useFragment)(v,e);return(0,i.jsx)(h,{filename:a.name,onTemplateSelected:C.l,name:a.name,link:a.url,about:a.about,externalLink:!0,trailingIcon:(0,i.jsx)(o.LinkExternalIcon,{})})};try{x.displayName||(x.displayName="ExternalLinkTemplateRow")}catch{}let j={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};j.hash="4707734c7aff8e836f17a948f0fc6e8d";let T=({nameWithOwner:e,form:a,onTemplateSelected:l})=>{let n=(0,d.useFragment)(j,a);return(0,i.jsx)(h,{filename:n.filename,onTemplateSelected:e=>l?.(e,b.t7.IssueForm),name:n.name,about:n.description,link:l?void 0:(0,F.Qy)(e,n.filename)})};try{T.displayName||(T.displayName="IssueFormRow")}catch{}let K={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};K.hash="2047157ce521e245c1030871b4d976b7";let L=({nameWithOwner:e,template:a,onTemplateSelected:l})=>{let n=(0,d.useFragment)(K,a);return(0,i.jsx)(h,{filename:n.filename,onTemplateSelected:e=>l?.(e,b.t7.IssueTemplate),name:n.name,about:n.about,link:l?void 0:(0,F.Qy)(e,n.filename)})};try{L.displayName||(L.displayName="IssueTemplateRow")}catch{}let N=({link:e})=>(0,i.jsx)(h,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:C.l,name:u.k.securityPolicyName,about:u.k.securityPolicyDescription,trailingIcon:(0,i.jsx)(o.ShieldIcon,{})});try{N.displayName||(N.displayName="SecurityPolicyRow")}catch{}var _=l(89946),A=l(50167);function P({repository:e,onTemplateSelected:a,className:l,setIsNavigatingToNew:n}){let{optionConfig:t,displayMode:s}=(0,c.a)(),r=(0,d.useFragment)(m,e);if(!r.hasAnyTemplates&&!r.isBlankIssuesEnabled&&!r.isSecurityPolicyEnabled)return(0,i.jsx)("span",{children:u.k.noTemplates});if(t.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let a=null;if(e.issueForms){if(1===e.issueForms.length)a=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates)if(a){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(a=e.issueTemplates[0].filename);if(!a)return null;let l=p.fV?.origin??"",n=`${l}/${e.nameWithOwner}`;return(0,F.RG)({repositoryAbsolutePath:n,fileName:a})}(r);if(e)return n?.(!0),t.navigate?.(e),null;n?.(!1)}let o=[...r.issueForms||[],...r.issueTemplates||[]].sort((e,a)=>e.filename.localeCompare(a.filename)).map(e=>"IssueForm"===e.__typename?(0,i.jsx)(T,{onTemplateSelected:a,form:e,nameWithOwner:r.nameWithOwner},e.filename):(0,i.jsx)(L,{onTemplateSelected:a,template:e,nameWithOwner:r.nameWithOwner},e.filename)),g=(0,i.jsxs)(i.Fragment,{children:[o,r.isBlankIssuesEnabled&&(0,i.jsx)(S,{onTemplateSelected:a,nameWithOwner:r.nameWithOwner},b.$K),r.isSecurityPolicyEnabled&&(0,i.jsx)(N,{link:r.securityPolicyUrl},"security_policy"),r.contactLinks&&r.contactLinks.map(e=>(0,i.jsx)(x,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.l,{className:l,"data-testid":I.Y.templateList,showDividers:!0,variant:"inset",children:t.showRepositoryPicker&&s===A.q.TemplatePicker?(0,i.jsxs)(y.l.Group,{children:[(0,i.jsx)(y.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!t.insidePortal&&"border-top-0"} ${_.A.templateHeader}`,children:u.k.templatesFormsTitle}),g]}):g})})}let w=["220px","250px","290px","210px"].map((e,a)=>({id:`skeleton-${a}`,width:e}));try{P.displayName||(P.displayName="TemplateList")}catch{}try{(n=function(){let{optionConfig:e}=(0,c.a)();return(0,i.jsx)("div",{className:`${_.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:w.map(({id:e,width:a})=>(0,i.jsx)(g.Q,{height:"xl",width:a},e))})}).displayName||(n.displayName="TemplateListLoading")}catch{}try{(t=function({id:e}){return(0,i.jsx)("span",{id:e,children:u.k.noTemplates})}).displayName||(t.displayName="NoTemplates")}catch{}let E={disabledStateGap:"TemplateListPane-module__disabledStateGap--AF9Nn"};function D({repositoryId:e,...a}){let l=(0,d.useLazyLoadQuery)(s,{id:e});return l.node?(0,i.jsx)(V,{repository:l.node,...a}):null}function V({repository:e,descriptionId:a,...l}){let{optionConfig:n}=(0,c.a)(),{insidePortal:t}=n,s=(0,d.useFragment)(r,e);return(0,i.jsx)("div",{children:s.hasIssuesEnabled?(0,i.jsx)(P,{repository:s,...l,className:`${!t?`border borderColor-muted rounded-2 overflow-hidden
                ${n.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`:""}`}):(0,i.jsxs)("div",{className:`${E.disabledStateGap} d-flex flex-row flex-items-center m-3`,children:[(0,i.jsx)(o.InfoIcon,{}),(0,i.jsx)("span",{id:a,children:u.k.issuesDisabledForRepo})]})})}try{D.displayName||(D.displayName="TemplateListPaneFromRepo")}catch{}try{V.displayName||(V.displayName="TemplateListInternal")}catch{}},96480:(e,a,l)=>{l.d(a,{a:()=>d,o:()=>o});var n=l(74848),t=l(40104),i=l(96540),s=l(79403);let r=(0,i.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:a,children:l}){let{issueCreateMore:o}=s.tT.localStorageKeys,[d,u]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),[g,p]=(0,t.Fo)(`config.${o(e.storageKeyPrefix)}`,!1),[y,k]=(0,i.useState)({owner:"",repo:"",number:void 0}),f=e.getDefaultDisplayMode(a),[h,b]=(0,i.useState)(f),F=(0,i.useRef)(null),S=(0,i.useMemo)(()=>({optionConfig:e,createMore:g,setCreateMore:p,createMoreCreatedPath:y,setCreateMoreCreatedPath:k,displayMode:h,setDisplayMode:b,initialDefaultDisplayMode:f,isSubmitting:d,isFileUploading:c,setIsFileUploading:m,setIsSubmitting:u,onCreateAction:F,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id}),[e,g,p,y,k,h,f,d,c]);return(0,n.jsx)(r.Provider,{value:S,children:l})}let d=()=>{let e=(0,i.useContext)(r);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e};try{r.displayName||(r.displayName="IssueCreateContext")}catch{}try{o.displayName||(o.displayName="IssueCreateConfigContextProvider")}catch{}},49246:(e,a,l)=>{l.d(a,{S:()=>s});var n=l(74848),t=l(96480),i=l(79531);function s({children:e,...a}){return(0,n.jsx)(t.o,{...a,children:(0,n.jsx)(i.s,{...a,children:e})})}try{s.displayName||(s.displayName="IssueCreateContextProvider")}catch{}},79531:(e,a,l)=>{l.d(a,{s:()=>p,u:()=>y});var n=l(74848),t=l(72429),i=l(52927),s=l(14111),r=l(58115),o=l(71315),d=l(40104),u=l(96540),c=l(79403),m=l(81724);let g=(0,u.createContext)(null);function p({optionConfig:e,preselectedData:a,children:l}){let{storageKeyPrefix:p,issueCreateArguments:y}=e,{issueTitle:k,issueBody:f}=c.tT.localTitleAndBodyStorageKeys,{issueLabels:h,issueAssignees:b,issueProjects:F,issueMilestone:S,issueIssueType:I,issueIssueFields:v}=c.tT.localStorageMetadataKeys,[C,x]=(0,u.useState)(a?.repository),[j,T]=(0,u.useState)(a?.template),[K,L]=(0,u.useState)(`${p}.${j?.fileName||m.$K}`),N="";if(y?.initialValues?.discussion)N=y?.initialValues?.discussion.title;else if(y?.initialValues?.title)N=y?.initialValues?.title;else if(j){let e,a=(e="",j?.data&&(e=j?.data.title||""),e),l="";y?.initialValues?.appendTitleToTemplate&&(l=` ${y?.initialValues?.appendTitleToTemplate}`),N=[a,l].join("").trimStart()}else y?.initialValues?.appendTitleToTemplate&&(N=y?.initialValues?.appendTitleToTemplate);let[_,A,P]=(0,d.Fo)(k(K),N),w="";if(y?.initialValues?.discussion)w=y?.initialValues?.discussion.formattedBody;else if(y?.initialValues?.body)w=y?.initialValues?.body;else{let e;j&&(e="",j?.data&&(0,m.Al)(j?.data)&&(e=j?.data.body||""),w=e)}let[E,D,V]=(0,d.Fo)(f(K),w),R=[];if(y?.initialValues?.discussion)R=y?.initialValues?.discussion?.labels||[];else if(y?.initialValues?.labels)R=y?.initialValues?.labels;else{let e;j&&(e=[],j?.data&&(e=j?.data.labels?.edges?.flatMap(e=>e?.node?[(0,s.P5)(e?.node)]:[])||[]),R=e)}let[M,B,O]=(0,d.Fo)(h(K),R),U=[];if(y?.initialValues?.assignees)U=y?.initialValues?.assignees;else{let e;j&&(e=[],j?.data&&(e=j?.data.assignees?.edges?.flatMap(e=>e?.node?[(0,t.uX)(e?.node)]:[])||[]),U=e)}let[H,$,q]=(0,d.Fo)(b(K),U),Q=[];if(y?.initialValues?.projects)Q=y?.initialValues?.projects;else{let e;j&&(e=[],j?.data&&(0,m.GQ)(j?.data)&&(e=j.data.projects?.edges?.flatMap(e=>e?.node?[(0,r.Kx)(e?.node)]:[])||[]),Q=e)}let[z,W,G]=(0,d.Fo)(F(K),Q),X=(0,u.useMemo)(()=>y?.initialValues?.projects??[],[y?.initialValues?.projects]),Y=null;y?.initialValues?.milestone&&(Y=y?.initialValues?.milestone);let[J,Z,ee]=(0,d.Fo)(S(K),Y),ea=(0,u.useMemo)(()=>y?.initialValues?.milestone??null,[y?.initialValues?.milestone]),el=null;if(y?.initialValues?.type)el=y?.initialValues?.type;else{let e;j&&(e=null,j?.data&&((0,m.GQ)(j?.data)||(0,m.Al)(j?.data))&&(e=j?.data.type?(0,i.iO)(j?.data.type):null),el=e)}let[en,et,ei]=(0,d.Fo)(I(K),el),[es,er]=(0,d.Fo)(v(K),[]),[eo,ed]=(0,u.useState)(_),[eu,ec]=(0,u.useState)(E),em=(0,u.useCallback)(e=>{A(e),ed(e)},[A,ed]),eg=(0,u.useCallback)(e=>{D(e),ec(e)},[D,ec]),ep=(0,u.useCallback)(e=>{$([]),B([]),er([]);let l=function(e,a,l,n){if(!e)return{shouldPreserveProjects:!1,shouldPreserveMilestone:!1,projectsToSet:[],milestoneToSet:null};let t=n?.repository?.owner.login===n?.selectedRepository?.owner.login,i=t&&n?.repository?.name===n?.selectedRepository?.name,s=t&&a.length>0,r=s?a:[],o=i&&!!l;return{shouldPreserveProjects:s,shouldPreserveMilestone:o,projectsToSet:r,milestoneToSet:o?l:null}}(!!a?.parentIssue,X,ea,e);W(l.projectsToSet),Z(l.milestoneToSet)},[$,B,er,a?.parentIssue,ea,X,W,Z]),ey=(0,u.useCallback)(()=>{(0,d.D6)((0,c.wK)(K))},[K]),ek=(0,u.useCallback)(()=>{(0,d.D6)((0,c.Zf)(K))},[K]),ef=(0,u.useCallback)(()=>{(0,d.D6)((0,c.bV)(K))},[K]),eh=(0,u.useCallback)(()=>{(0,d.D6)([`config.${c.tT.localStorageKeys.issueCreateMore(p)}`])},[p]),eb=(0,u.useCallback)(()=>{A(""),D(""),ed(""),ec("")},[A,D,ed,ec]),eF=o.fV?.origin??"",eS=C?.nameWithOwner??"",eI=(0,u.useMemo)(()=>`${eF}/${eS}`,[eF,eS]),ev=a?.parentIssue??null,eC=(0,u.useCallback)(e=>{T(e),L(`${p}.${e?.fileName||m.$K}`)},[p]),ex=(0,u.useMemo)(()=>({reinitTitle:P,reinitBody:V,reinitAssignees:q,reinitLabels:O,reinitProjects:G,reinitMilestone:ee,reinitIssueType:ei,usedStorageKeyPrefix:K,clearSessionData:ey,clearSessionMetadata:ek,clearSessionTitleAndBody:ef,clearSessionCreateMore:eh,resetMetadata:ep,clearTitleAndBody:eb,setNewTitle:em,setNewBody:eg,originalTitle:eo,setOriginalTitle:ed,originalBody:eu,setOriginalBody:ec,title:_,setTitle:A,body:E,setBody:D,repository:C,setRepository:x,repositoryAbsolutePath:eI,template:j,setTemplate:eC,preselectedRepository:a?.repository,preselectedTemplate:a?.template,labels:M,setLabels:B,assignees:H,setAssignees:$,projects:z,setProjects:W,milestone:J,setMilestone:Z,issueType:en,setIssueType:et,issueFields:es,setIssueFields:er,parentIssue:ev}),[P,V,q,O,G,ee,ei,K,ey,ek,ef,eh,ep,eb,em,eg,eo,eu,_,A,E,D,C,eI,j,eC,a?.repository,a?.template,M,B,H,$,z,W,J,Z,en,et,es,er,ev]);return(0,n.jsx)(g.Provider,{value:ex,children:l})}let y=()=>{let e=(0,u.useContext)(g);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e};try{g.displayName||(g.displayName="IssueCreateDataContext")}catch{}try{p.displayName||(p.displayName="IssueCreateDataContextProvider")}catch{}},59464:(e,a,l)=>{l.d(a,{or:()=>D,vN:()=>V});var n=l(74848);let t=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},a={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},n=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],t={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},g={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},F={alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},S={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},T={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:[e,a,l],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t,i,s,{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[r,o,d,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[o,c,m,g],storageKey:null},p,y,k,f,s,t,h,b,i,F,S,I,v,C,x,j,T],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,a,e],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t,i,s,r,o,d,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[K,o,c,m,g,r],storageKey:null},p,y,k,f,h,b,F,S,I,v,C,x,j,T,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[K,L,d,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[K,L,d,N],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[d,N,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"607bb767f587cd6f39468ec750afb444",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}}}();t.hash="3637b8207b4416b73b8db4727054b1cd";var i=l(16654),s=l(73189),r=l(25407),o=l(96540),d=l(18312),u=l(79403),c=l(49246),m=l(50167),g=l(90651),p=l(35669);let y={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};y.hash="2462dd98bf9bee7cbb97c2e845715e7c";var k=l(16255),f=l(96665);l(69487);var h=l(96480),b=l(79531),F=l(72767),S=l(58335),I=l(3872);let v={CreateIssueDialogContainer:"CreateIssueDialog-module__CreateIssueDialogContainer--paAFp"};var C=l(98755),x=l(69599),j=l(83494),T=l(38621),K=l(87330),L=l(89064),N=l(98338),_=l(81724),A=l(94007);let P={CreateIssueDialogHeaderContainer:"CreateIssueDialogHeader-module__CreateIssueDialogHeaderContainer--_BhIA",dialogTitleSection:"CreateIssueDialogHeader-module__dialogTitleSection--M7S4F",CopyToClipboardButton:"CreateIssueDialogHeader-module__CopyToClipboardButton--P4HRy"},w=({navigate:e,dialogLabelId:a,onClose:l})=>{let{displayMode:t,setDisplayMode:i,optionConfig:r,isSubIssue:d}=(0,h.a)(),{repository:u,repositoryAbsolutePath:c,template:g,resetMetadata:p,setTemplate:y}=(0,b.u)(),k=(0,x.G7)("memex_default_issue_create_repository"),F=(0,o.useCallback)(()=>{l("close-button")},[l]),S=(0,o.useMemo)(()=>(0,A.jk)(c),[c]),I=t===m.q.TemplatePicker&&void 0!==u,v=t===m.q.IssueCreation&&r.showFullScreenButton&&e!==s.l&&void 0!==u,w=(0,o.useCallback)(()=>{p({repository:u,selectedRepository:u}),y(void 0),i(m.q.TemplatePicker)},[p,y,i,u]),E=(0,o.useMemo)(()=>{if(t===m.q.TemplatePicker||!u?.nameWithOwner){let e=r.issueCreateArguments?.initialValues?.title;return N.k.issueCreateDialogTitleTemplatePane+(e?` - "${e}"`:"")}let e=g&&g.kind!==_.t7.BlankIssue?g.name:void 0,a=d?"sub-issue":"issue";return t===m.q.IssueDuplication?N.k.issueCreateDialogTitleDuplicationPane(u.nameWithOwner,a):N.k.issueCreateDialogTitleCreationPane(u.nameWithOwner,e,a)},[t,d,u?.nameWithOwner,g,r]);return(0,n.jsxs)(f.l.Header,{children:[(0,n.jsx)(j.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!v)return;let a=`/${u.nameWithOwner}/issues/new`,l=g&&g.kind!==_.t7.BlankIssue?g.fileName:void 0;e(l?`${a}?template=${encodeURIComponent(l)}`:a)}}}),(0,n.jsxs)("div",{className:P.CreateIssueDialogHeaderContainer,children:[k&&t===m.q.IssueCreation&&(0,n.jsx)(K.K,{icon:T.ArrowLeftIcon,"aria-label":"Back to templates",variant:"invisible",onClick:w,className:P.CopyToClipboardButton}),(0,n.jsx)("div",{className:P.dialogTitleSection,children:(0,n.jsx)(f.l.Title,{id:a,children:E})}),I&&(0,n.jsx)(C.T,{textToCopy:S,ariaLabel:L.l.copyUrl,icon:T.CopyIcon,tooltipProps:{direction:"n"},className:P.CopyToClipboardButton}),v&&(0,n.jsx)(j.N5,{variant:"invisible",commandId:"issue-create:open-fullscreen",icon:T.ScreenFullIcon,className:P.CopyToClipboardButton}),(0,n.jsx)(f.l.CloseButton,{onClose:F})]})]})};try{w.displayName||(w.displayName="CreateIssueDialogHeader")}catch{}let E=({onCreateSuccess:e,onCancel:a,navigate:l,currentRepository:t,isNavigatingToNew:i,returnFocusRef:s,...r})=>{let{optionConfig:u,initialDefaultDisplayMode:c,setDisplayMode:g,displayMode:p,setCreateMore:C}=(0,h.a)(),{usedStorageKeyPrefix:x}=(0,b.u)(),j=(0,d.useFragment)(y,t),T=(0,o.useCallback)(()=>{C(!1),g(c),a()},[c,a,C,g]),{onSafeClose:K}=(0,I.Z)({storageKeyPrefix:x,issueFormRef:r.issueFormRef,onCancel:T}),L=(0,o.useCallback)(({issue:a,createMore:l})=>{e({issue:a,createMore:l}),l||g(c)},[c,e,g]),N={...r,onCancel:K},_=(0,o.useMemo)(()=>!i||!u.canBypassTemplateSelection,[i,u.canBypassTemplateSelection]);return(0,n.jsx)(k.Z,{children:(0,n.jsx)(f.l,{returnFocusRef:s,renderHeader:e=>(0,n.jsx)(w,{navigate:l,...e}),renderFooter:()=>p===m.q.IssueCreation||p===m.q.IssueDuplication?(0,n.jsx)(f.l.Footer,{children:(0,n.jsx)(S.l,{onClose:()=>K(),...r})}):null,renderBody:()=>(0,n.jsx)("div",{className:`${p===m.q.IssueCreation||p===m.q.IssueDuplication?"p-3":"p-0"}`,children:(0,n.jsx)(F.E,{onCreateSuccess:L,navigate:l,currentRepository:j,...N})}),onClose:K,width:"xlarge",height:"auto",sx:{visibility:_?"visible":"hidden"},className:v.CreateIssueDialogContainer})})};try{E.displayName||(E.displayName="CreateIssueDialog")}catch{}let D=({...e})=>(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(V,{...e})}),V=({navigate:e,isCreateDialogOpen:a,setIsCreateDialogOpen:l,onCancel:s,onCreateSuccess:c,onCreateError:m,optionConfig:p,isNavigatingToNew:y,setIsNavigatingToNew:k,returnFocusRef:f})=>{let h=(0,d.useRelayEnvironment)(),[b,F]=(0,o.useState)(null),[S,I,v]=(0,d.useQueryLoader)(t),C=(0,g.S)(p),x=C.showRepositoryPicker;(0,o.useEffect)(()=>{let e=async()=>{F(await (0,i.St)(h,{first:u.tT.repositoriesPreloadCount,hasIssuesEnabled:!0}))};x&&e()},[]);let j=(0,o.useMemo)(()=>C.issueCreateArguments?.repository?{owner:C.issueCreateArguments.repository.owner,name:C.issueCreateArguments.repository.name}:null,[C.issueCreateArguments?.repository]);(0,o.useEffect)(()=>(j&&I({...j,includeTemplates:!0},{fetchPolicy:"store-or-network"}),()=>v()),[v,j,I]);let T=()=>{s?.(),l(!1)};return a&&(!x||b)&&(S||!j)?(0,n.jsx)(R,{createIssueProps:{topRepositories:b,onCreateSuccess:({issue:a,createMore:l})=>{c?c({issue:a,createMore:l}):l||(T(),e((0,r.dRG)({owner:a.repository.owner.login,repo:a.repository.name,issueNumber:a.number})))},onCreateError:e=>m?.(e),onCancel:T,navigate:e,isNavigatingToNew:y,setIsNavigatingToNew:k},config:C,currentRepoQueryRef:S??null,returnFocusRef:f}):null},R=({currentRepoQueryRef:e,...a})=>e?(0,n.jsx)(M,{currentRepoQueryRef:e,...a}):(0,n.jsx)(B,{currentRepoData:null,...a}),M=({currentRepoQueryRef:e,...a})=>{let l=(0,d.usePreloadedQuery)(t,e);return(0,n.jsx)(B,{currentRepoData:l,...a})},B=({createIssueProps:e,config:a,currentRepoData:l,returnFocusRef:t})=>{let r=e.navigate??s.l,d=l&&l.repository?(0,i.Jo)(l.repository):null,u=(0,o.useRef)(null),g={repository:d??void 0,template:void 0,parentIssue:a.issueCreateArguments?.parentIssue},y={...e,issueFormRef:u},k=l?.repository,f=!1;return(k?.hasIssuesEnabled&&a.defaultDisplayMode!==m.q.IssueDuplication&&(f=r!==s.l&&!!d&&!!k&&!k.hasAnyTemplates&&k.isBlankIssuesEnabled),(0,o.useEffect)(()=>{if(f&&d){let e=(0,p.H_)({includeRepository:!1,repository:d,templateFileName:void 0,...a.issueCreateArguments?.initialValues});r(`/${d.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[r,f,d,a.issueCreateArguments?.initialValues]),f)?null:(0,n.jsx)(c.S,{optionConfig:a,overrideFallbackDisplaymode:m.q.TemplatePicker,preselectedData:g,children:(0,n.jsx)(E,{currentRepository:l?.repository,...y,returnFocusRef:t})})};try{D.displayName||(D.displayName="CreateIssueDialogEntry")}catch{}try{V.displayName||(V.displayName="CreateIssueDialogEntryInternal")}catch{}try{R.displayName||(R.displayName="CreateIssueEntry")}catch{}try{M.displayName||(M.displayName="CreateIssueEntryWithRepo")}catch{}try{B.displayName||(B.displayName="CreateIssueEntryInternal")}catch{}},977:(e,a,l)=>{l.d(a,{Z:()=>J});var n=l(74848);let t={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};t.hash="8c027995abd00c22fac1d025a14e2a8d";var i=l(40104),s=l(96540),r=l(18312);let o=function(){var e={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null}}();o.hash="66c71c2357977009e7b34571e8a11e21";var d=l(62559),u=l(73017),c=l(19797),m=l(65029),g=l(87826),p=l(10286);let y="_No response_";function k(e,a){return(0===a.length&&(a=y),e)?`### ${e}

${a}`:a}let f=(e,a,l,n)=>{if("markdown"===a)return"";let t=""===a?l:`${a}-${l}`;return`${e}-${t}-${n}`},h={CheckboxesElementGroup:"CheckboxesElement-module__CheckboxesElementGroup--cz_dJ",CheckboxesElementGroupLabel:"CheckboxesElement-module__CheckboxesElementGroupLabel--wixq_",CheckboxesElementGroupDescription:"CheckboxesElement-module__CheckboxesElementGroupDescription--DoWqf",checkboxOptionLabel:"CheckboxesElement-module__checkboxOptionLabel--kENEm"};function b({itemId:e,indexOfFormElement:a,defaultValuesById:l,checkboxCount:n}){if(!e)return Array(n).fill(!1);let t=(0,p.k)({id:e,value:"",indexOfFormElement:a,defaultValuesById:l}).split(",").map(e=>"true"===e.trim());return t.length===n?t:Array(n).fill(!1)}let F=(0,s.forwardRef)(({elementRef:e,index:a,sessionStorageKey:l,defaultValuesById:t,onFieldChange:i},s)=>{let d=(0,r.useFragment)(o,e);if(!d.checkboxOptions)return null;let u=f(l,"",d.label,d.__id);return(0,n.jsx)(S,{...d,type:"checkboxes",index:a,ref:s,sessionStorageKey:u,defaultValuesById:t,onFieldChange:i})}),S=(0,s.forwardRef)(({itemId:e,index:a,sessionStorageKey:l,label:t,descriptionHTML:r,checkboxOptions:o,defaultValuesById:p,onFieldChange:y},f)=>{let F=(0,s.useRef)(null),S=(0,s.useMemo)(()=>b({itemId:e,indexOfFormElement:a,defaultValuesById:p,checkboxCount:o.length}),[o.length,p,a,e]),[I,v]=(0,i.Fo)(l,S),C=(0,s.useRef)(I);(0,s.useEffect)(()=>{C.current=I},[I]),(0,s.useEffect)(()=>{if(y&&p){let l=b({itemId:e,indexOfFormElement:a,defaultValuesById:p,checkboxCount:o.length});v(l),C.current=l}},[p,a,e,o.length,v,y]),(0,s.useEffect)(()=>{if(y){let l=C.current,n=b({itemId:e,indexOfFormElement:a,defaultValuesById:p,checkboxCount:o.length});l.length===n.length&&l.every((e,a)=>e===n[a])||y(e,a,l.map(e=>e.toString()).join(","))}},[I,e,a,y,p,o.length]);let[x,j]=(0,s.useState)(void 0);return(0,s.useImperativeHandle)(f,()=>({focus:()=>F.current?.focus(),markdown:()=>k(t,o.map((e,a)=>{var l,n;return l=e.label,n=I[a],`- [${n?"x":" "}] ${l}`}).join(`
`)),validate:()=>{for(let[e,a]of o.entries())if(a.required&&!I[e])return j(d.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{v(S),j(void 0)},hasChanges:()=>!S.every((e,a)=>e===I[a]),getSessionStorageKey:()=>l}),[o,S,t,I,l,v]),(0,s.useEffect)(()=>{x&&o.every((e,a)=>!e.required||I[a])&&j(void 0)},[o,I,x]),(0,n.jsxs)(c.A,{className:h.CheckboxesElementGroup,children:[(0,n.jsx)(c.A.Label,{className:h.CheckboxesElementGroupLabel,children:t}),r&&(0,n.jsx)(c.A.Caption,{className:h.CheckboxesElementGroupDescription,children:(0,n.jsx)(u.vb,{html:r,className:"markdown-body note text-small mb-2"})}),o.map((e,a)=>(0,n.jsxs)(m.A,{required:e.required??!1,children:[(0,n.jsx)(g.A,{ref:0===a?F:void 0,checked:I[a],onChange:()=>{v(I.map((e,l)=>l===a?!e:e))}}),(0,n.jsx)(m.A.Label,{className:h.checkboxOptionLabel,children:(0,n.jsx)(u.JR,{html:e.labelHTML})})]},a)),x&&(0,n.jsx)(c.A.Validation,{variant:"error",children:x})]})});F.displayName="CheckboxesElement",S.displayName="CheckboxesElementInternal";let I={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};I.hash="c5f5c78821adbd1825aa041b7a1063bf";var v=l(5945),C=l(3614),x=l(52446);let j={dropdownElementButtonText:"DropdownElement-module__dropdownElementButtonText--NRhbg",dropdownElementContainer:"DropdownElement-module__dropdownElementContainer--ME35C",dropdownMenuOverlay:"DropdownElement-module__dropdownMenuOverlay--qDXwf"};var T=l(34164);let K={elementWrapperContainer:"ElementWrapper-module__elementWrapperContainer--Zviz8",elementLabel:"ElementWrapper-module__elementLabel--qX9VS",elementLabelWithDescription:"ElementWrapper-module__elementLabelWithDescription--c2FAt",elementDescription:"ElementWrapper-module__elementDescription--EA7D6",validationMessage:"ElementWrapper-module__validationMessage--P3NuI"};function L({children:e,label:a,required:l,description:t,validationResult:i,className:r}){let o=(0,s.useId)(),d=(0,s.useId)(),c=(0,s.useId)();return(0,n.jsxs)("div",{className:(0,T.$)(K.elementWrapperContainer,r),children:[(0,n.jsxs)(m.A,{required:l??!1,children:[(0,n.jsx)(m.A.Label,{id:o,className:(0,T.$)(K.elementLabel,t&&K.elementLabelWithDescription),children:a}),t&&(0,n.jsx)(m.A.Caption,{id:d,className:K.elementDescription,children:(0,n.jsx)(u.vb,{html:t,className:"markdown-body note text-small mb-2"})})]}),e({labelId:o,descriptionIds:`${d} ${c}`}),i&&(0,n.jsx)(m.A.Validation,{id:c,variant:"error",className:K.validationMessage,children:i})]})}try{L.displayName||(L.displayName="ElementWrapper")}catch{}function N({itemId:e,indexOfFormElement:a,defaultValuesById:l,optionChoices:n}){if(!e)return[];let t=new Set(function(e){if(!e.trim())return[];try{let a=`[${e}]`;return JSON.parse(a)}catch{return[]}}((0,p.k)({id:e,indexOfFormElement:a,value:"",defaultValuesById:l})));return n.filter(e=>t.has(e))}let _=(0,s.forwardRef)(({elementRef:e,index:a,sessionStorageKey:l,defaultValuesById:t,onFieldChange:i},s)=>{let o=(0,r.useFragment)(I,e);if(!o.options)return null;let d=f(l,"",o.label,o.__id);return(0,n.jsx)(A,{...o,index:a,ref:s,type:"dropdown",sessionStorageKey:d,defaultValuesById:t,onFieldChange:i})}),A=(0,s.forwardRef)(({itemId:e,index:a,sessionStorageKey:l,label:t,options:r,descriptionHTML:o,required:u,multiple:c,defaultOptionIndex:m,defaultValuesById:g,onFieldChange:p},y)=>{let f=(0,s.useRef)(null),h=(0,s.useRef)(null),b=null!=m,F=(0,s.useMemo)(()=>c||u||b?r:["None",...r],[b,c,r,u]),S=(0,s.useMemo)(()=>{let l=N({itemId:e,indexOfFormElement:a,defaultValuesById:g,optionChoices:F});return 0===l.length&&b&&m>=0&&m<F.length?[F[m]]:(0===l.length&&F.length>0&&!c&&(l=[F[0]]),l)},[m,g,b,a,e,c,F]),[I,T]=(0,i.Fo)(l,S),K=(0,s.useRef)(I);(0,s.useEffect)(()=>{K.current=I},[I]),(0,s.useEffect)(()=>{if(p&&g){let l=N({itemId:e,indexOfFormElement:a,defaultValuesById:g,optionChoices:F});T(l),K.current=l}},[g,a,e,F,T,p]),(0,s.useEffect)(()=>{if(p){let l=K.current,n=N({itemId:e,indexOfFormElement:a,defaultValuesById:g,optionChoices:F}),t=new Set(l),i=new Set(n);t.size===i.size&&[...t].every(e=>i.has(e))||p(e,a,l.map(e=>`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`).join(", "))}},[I,e,a,p,g,F]);let[_,A]=(0,s.useState)(void 0),P=(0,s.useCallback)(e=>()=>{I.includes(e)?c&&T(I.filter(a=>a!==e)):c?T([...I,e]):T([e])},[c,I,T]);(0,s.useImperativeHandle)(y,()=>({focus:()=>f.current?.focus(),markdown:()=>k(t,I.join(", ")),validate:()=>!u||0!==I.length||(A(d.wY.missingDropdownSelection),!1),reset:()=>{T(S),A(void 0)},hasChanges:()=>{if(I.length!==S.length)return!0;for(let e of I)if(!S.includes(e))return!0;return!1},getSessionStorageKey:()=>l}),[S,t,u,I,l,T]),(0,s.useEffect)(()=>{I.length>0&&A(void 0)},[I]);let[w,E]=(0,s.useState)(!1),D=0===I.length?"None":I.join(", ");return(0,s.useEffect)(()=>{h.current&&E(h.current.scrollWidth>h.current.clientWidth)},[h,E]),(0,n.jsx)(L,{label:t,description:o,required:u,validationResult:_,className:j.dropdownElementContainer,children:({labelId:e,descriptionIds:a})=>(0,n.jsxs)(v.W,{anchorRef:f,children:[w?(0,n.jsx)(C.m,{text:D,children:(0,n.jsx)(v.W.Button,{"aria-labelledby":e,"aria-describedby":a,children:(0,n.jsx)("span",{ref:h,className:j.dropdownElementButtonText,children:D})})}):(0,n.jsxs)(v.W.Button,{"aria-labelledby":e,"aria-describedby":a,children:[" ",(0,n.jsx)("span",{ref:h,className:j.dropdownElementButtonText,children:D})]}),(0,n.jsx)(v.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",className:j.dropdownMenuOverlay,children:(0,n.jsx)(x.l,{selectionVariant:c?"multiple":"single",children:F.map((e,a)=>(0,n.jsx)(x.l.Item,{selected:I.includes(e),onSelect:P(e),children:e},a))})})]})})});_.displayName="DropdownElement",A.displayName="DropdownElementInternal";let P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};P.hash="bcf5223d492443ecf5db4594632948d9";var w=l(26076),E=l(41057);let D={loadingSkeletonContainer:"FormElementLoading-module__loadingSkeletonContainer--QboQa"},V=()=>(0,n.jsx)("div",{className:D.loadingSkeletonContainer,children:(0,n.jsx)(E.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{V.displayName||(V.displayName="FormElementLoading")}catch{}let R=({elementRef:e})=>{let a=(0,r.useFragment)(P,e);return(0,n.jsx)(M,{verifiedHTML:a.contentHTML,type:"markdown"})},M=({verifiedHTML:e})=>(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)(V,{}),children:(0,n.jsx)(w.G,{verifiedHTML:e})});try{R.displayName||(R.displayName="MarkdownElement")}catch{}try{M.displayName||(M.displayName="MarkdownElementInternal")}catch{}let B={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};B.hash="77263c4a3e8e6f76c8ddc25b88931e27";var O=l(8046),U=l(75298);let H={TextAreaElementContainer:"TextAreaElement-module__TextAreaElementContainer--efGjO",codeViewTextArea:"TextAreaElement-module__codeViewTextArea--uyz8K"},$=(0,s.forwardRef)(({elementRef:e,index:a,sessionStorageKey:l,...t},i)=>{let s=(0,r.useFragment)(B,e),o=f(l,"",s.label,s.__id);return(0,n.jsx)(q,{...s,...t,index:a,ref:i,type:"textarea",sessionStorageKey:o})}),q=(0,s.forwardRef)(({itemId:e,sessionStorageKey:a,index:l,label:t,descriptionHTML:r,placeholder:o,required:u,value:c,render:m,subject:g,defaultValuesById:f,onSave:h,setIsFileUploading:b,onFieldChange:F},S)=>{let I=(0,s.useMemo)(()=>(0,p.k)({id:e,indexOfFormElement:l,value:c,defaultValuesById:f}),[e,l,c,f]),[v,C]=(0,i.Fo)(a,I),[x,j]=(0,s.useState)(!1),T=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(F&&f&&!x){let a=(0,p.k)({id:e,indexOfFormElement:l,value:c,defaultValuesById:f});a!==v&&a!==c&&C(a)}},[f,l,e,F,C,c,x,v]);let K=a=>{j(!0),C(a),F&&F(e,l,a),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{j(!1),T.current=null},500)},N=(0,s.useRef)(null),[_,A]=(0,s.useState)(void 0);return(0,s.useImperativeHandle)(S,()=>({focus:()=>N.current?.focus(),markdown:()=>k(t,function(e,a){return a&&e!==y?`\`\`\`${a}
${e.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:e}(v,m)),validate:()=>{let e=(0,d.sT)(v,u??!1);return A(e.errorMessage),e.isValid},reset:()=>{C(I),A(void 0)},hasChanges:()=>v!==I,getSessionStorageKey:()=>a}),[I,t,m,u,a,C,v]),(0,s.useEffect)(()=>{_&&(0,d.sT)(v,u??!1).isValid&&A(void 0)},[u,v,_]),(0,n.jsx)(L,{label:t,required:u,description:r,validationResult:_,className:H.TextAreaElementContainer,children:({labelId:e,descriptionIds:a})=>m?(0,n.jsx)(U.Ay,{"aria-labelledby":e,"aria-describedby":a,ref:N,placeholder:o??void 0,value:v,className:H.codeViewTextArea,onChange:e=>{K(e.target.value)}}):(0,n.jsx)(O.h,{labelledBy:e,"aria-describedby":a,ref:N,placeholder:o??void 0,value:v,onChange:e=>{K(e)},onSave:h,saveButtonTrailingIcon:!1,subject:g,setIsFileUploading:b})})});$.displayName="TextAreaElement",q.displayName="TextAreaElementInternal";let Q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};Q.hash="20ef068a2834313afaaf43e8b01d0d49";var z=l(24815);let W={issueFormTextField:"TextInputElement-module__issueFormTextField--dG9jp"},G=(0,s.forwardRef)(({elementRef:e,sessionStorageKey:a,...l},t)=>{let i=(0,r.useFragment)(Q,e),s=f(a,"",i.label,i.__id);return(0,n.jsx)(X,{ref:t,...i,...l,type:"input",sessionStorageKey:s})}),X=(0,s.forwardRef)(({sessionStorageKey:e,itemId:a,index:l,label:t,descriptionHTML:r,placeholder:o,required:u,value:c,defaultValuesById:m,onFieldChange:g},y)=>{let f=(0,s.useMemo)(()=>(0,p.k)({id:a,indexOfFormElement:l,value:c,defaultValuesById:m}),[a,l,c,m]),[h,b]=(0,i.Fo)(e,f),[F,S]=(0,s.useState)(!1),I=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(g&&m&&!F){let e=(0,p.k)({id:a,indexOfFormElement:l,value:c,defaultValuesById:m});e!==h&&e!==c&&b(e)}},[m,l,F,a,g,b,c,h]);let v=(0,s.useRef)(null),[C,x]=(0,s.useState)(void 0);return(0,s.useImperativeHandle)(y,()=>({focus:()=>v.current?.focus(),markdown:()=>k(t,h),validate:()=>{let e=(0,d.sT)(h,u??!1);return x(e.errorMessage),e.isValid},reset:()=>{b(f),x(void 0)},hasChanges:()=>h!==f,getSessionStorageKey:()=>e}),[f,t,u,e,b,h]),(0,s.useEffect)(()=>{C&&(0,d.sT)(h,u??!1).isValid&&x(void 0)},[u,h,C]),(0,n.jsx)(L,{label:t,description:r,required:u,validationResult:C,children:({labelId:e,descriptionIds:t})=>(0,n.jsx)(z.A,{ref:v,"aria-labelledby":e,"aria-describedby":t,placeholder:o??void 0,value:h,className:W.issueFormTextField,onChange:e=>{(e=>{S(!0),b(e),g&&g(a,l,e),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{S(!1),I.current=null},500)})(e.target.value)}})})});G.displayName="TextInputElement",X.displayName="TextInputElementInternal";let Y={formElementsContainer:"IssueFormElements-module__formElementsContainer--v0fMt",markdownElementWrapper:"IssueFormElements-module__markdownElementWrapper--sr15G"},J=e=>"elements"in e?(0,n.jsx)(Z,{...e}):(0,n.jsx)(ee,{...e}),Z=({elements:e,outputRef:a,sessionStorageKey:l,...t})=>{let i=ea(e.length,a);return(0,n.jsx)("div",{className:Y.formElementsContainer,children:e.map((e,a)=>{let s=((e,a,l)=>"markdown"===a.type?"":f(e,a.type,a.label,l))(l,e,a);switch(e.type){case"markdown":return(0,n.jsx)(M,{...e},a);case"textarea":return(0,n.jsx)(q,{index:a,...e,ref:i[a],sessionStorageKey:s,...t},a);case"input":return(0,n.jsx)(X,{index:a,...e,ref:i[a],sessionStorageKey:s,...t},a);case"dropdown":return(0,n.jsx)(A,{index:a,...e,ref:i[a],sessionStorageKey:s},a);case"checkboxes":return(0,n.jsx)(S,{index:a,...e,ref:i[a],sessionStorageKey:s},a)}})})},ee=({issueFormRef:e,outputRef:a,...l})=>{let i=(0,r.readInlineData)(t,e),s=ea(i.elements.length,a);return(0,n.jsx)("div",{className:Y.formElementsContainer,children:i.elements.map((e,a)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,n.jsx)("div",{className:Y.markdownElementWrapper,children:(0,n.jsx)(R,{elementRef:e})},a);case"IssueFormElementInput":return(0,n.jsx)(G,{index:a,elementRef:e,ref:s[a],...l},a);case"IssueFormElementDropdown":return(0,n.jsx)(_,{index:a,elementRef:e,ref:s[a],...l},a);case"IssueFormElementTextarea":return(0,n.jsx)($,{index:a,elementRef:e,ref:s[a],...l},a);case"IssueFormElementCheckboxes":return(0,n.jsx)(F,{index:a,elementRef:e,ref:s[a],...l},a);default:return null}})})},ea=(e,a)=>{let l=(0,s.useMemo)(()=>Array.from({length:e},()=>(0,s.createRef)()),[e]);return(0,s.useImperativeHandle)(a,()=>({markdown:()=>l.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join(`

`),getInvalidInputs:()=>l.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!l.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:()=>{for(let e of l)e.current?.reset();a.current?.clearSessionStorage()},hasChanges:()=>l.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=l.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,i.D6)(e)}}),[l,a]),l};try{J.displayName||(J.displayName="IssueFormElements")}catch{}try{Z.displayName||(Z.displayName="IssueFormElementsViaPayload")}catch{}try{ee.displayName||(ee.displayName="IssueFormElementsViaQuery")}catch{}},2495:(e,a,l)=>{l.d(a,{h:()=>i});var n=l(74848),t=l(21798);function i({title:e,headingProps:{...a}={},...l}){return(0,n.jsx)(t.X,{title:e,headingProps:a,...l,readonly:!0})}try{i.displayName||(i.displayName="ReadonlySectionHeader")}catch{}},16810:(e,a,l)=>{l.d(a,{w:()=>r});var n=l(74848),t=l(75177),i=l(34164);let s={SectionContainer:"Section-module__SectionContainer--bIlEv",headerContentWrapper:"Section-module__headerContentWrapper--OIm9m",emptyText:"Section-module__emptyText--qZ0Bc",hiddenChildrenContainer:"Section-module__hiddenChildrenContainer--X126P",childrenContainer:"Section-module__childrenContainer--bY_oH"};function r({children:e,emptyText:a,sectionHeader:l,sectionFooter:r,hideDivider:o,id:d,sx:u,className:c}){return(0,n.jsxs)(t.A,{"data-testid":d??"sidebar-section",sx:{marginBottom:2*!o,":after":o?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",right:"8px",bg:"border.muted"},...u},className:(0,i.$)(s.SectionContainer,c),children:[(0,n.jsxs)("div",{className:s.headerContentWrapper,children:[l,a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:s.emptyText,children:a}),(0,n.jsx)("div",{className:s.hiddenChildrenContainer,children:e})]})]}),!a&&(0,n.jsx)("div",{className:s.childrenContainer,children:e}),r]})}try{r.displayName||(r.displayName="Section")}catch{}},21798:(e,a,l)=>{l.d(a,{X:()=>c});var n=l(74848),t=l(38621),i=l(75177),s=l(63557),r=l(55847),o=l(34164),d=l(96540);let u={SectionHeaderTitle:"SectionHeader-module__SectionHeaderTitle--TxSJL",editButton:"SectionHeader-module__editButton--pMar1",screenReaderText:"SectionHeader-module__screenReaderText--O1ZJ0"},c=(0,d.forwardRef)(({id:e,title:a,buttonProps:l,headingProps:{as:d="h3",...c}={},readonly:m,...g},p)=>{let y=m?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...g.sx}:{width:"100%",position:"relative",display:"flex",alignItems:"center",...g.sx};return(0,n.jsxs)(i.A,{sx:y,children:[(0,n.jsx)(s.A,{id:e,as:d,sx:{position:m?"relative":"absolute",...c},className:u.SectionHeaderTitle,children:a}),!m&&(0,n.jsx)(r.Q,{ref:p,...l,variant:"invisible",size:"small",trailingAction:t.GearIcon,block:!0,className:u.editButton,children:(0,n.jsx)("span",{className:(0,o.$)("sr-only",u.screenReaderText),children:`Edit ${a}`})})]})});c.displayName="SectionHeader"},95647:(e,a,l)=>{l.d(a,{b2:()=>Z,rC:()=>el,sC:()=>ee,Qq:()=>ea});var n=l(74848);let t=function(){var e=[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:e,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:e,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"suggestedActors(first:10)"}],type:"Issue",abstractKey:null}}();t.hash="7d51fedd8ee25f918730e6ceb8c88436";let i=function(){var e=[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:e,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:e,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"assignedActors(first:20)"}],type:"Issue",abstractKey:null}}();i.hash="6c8faeb0804fa3bbc15bb2ca49b90f10";let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionCopilotRepositoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],type:"Repository",abstractKey:null};s.hash="334278d4818675b89da4d52e5d035343";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionCopilotRepositoryFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};r.hash="3649220e98c7c5b5c84635ab17228b87";let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionViewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};o.hash="4ad6855a942f3fb6246836cfe7562826";var d=l(21728),u=l(38621),c=l(55847);function m(e){let a,l=(0,d.c)(2),{onClick:t}=e;return l[0]!==t?(a=(0,n.jsx)(c.Q,{leadingVisual:u.CopilotIcon,size:"small",onClick:t,children:"Assign to Copilot"}),l[0]=t,l[1]=a):a=l[1],a}try{m.displayName||(m.displayName="CopilotAssignmentButton")}catch{}var g=l(79512),p=l(2635),y=l(22337),k=l(96665),f=l(46309),h=l(12004),b=l(39820),F=l(96540),S=l(96379);async function I(e,a,l,n){try{let t=await (0,S.lS)(`/${e}/${a}/issues/agent_assignments`,{method:"POST",body:{issue_ids:[l],repo_name_with_owner:n.targetRepo,base_ref:n.targetBranch,custom_instructions:n.instructions}});if(t.ok){let e=await t.json();return{ok:!0,status:t.status,data:e}}{let e;try{e=(await t.json()).error||`Request failed with status ${t.status}`}catch{e=`Request failed with status ${t.status}`}return{ok:!1,status:t.status,errorMessage:e}}}catch(e){return{ok:!1,status:0,errorMessage:e instanceof Error?e.message:"An unexpected error occurred"}}}function v({isOpen:e,onClose:a,repository:l,issueNumber:t,onAssignmentComplete:i}){let[s,r]=(0,F.useState)(!1),[o,d]=(0,F.useState)(null),u=(0,y.o)(),c=l.owner.login,m=l.name,S=(0,F.useCallback)(async(e,l,n)=>{if(l&&t){r(!0),d(null);try{let s=await I(c,m,t,{instructions:e,targetRepo:l.nameWithOwner,targetBranch:n});s.ok?(a(),i?.()):d(s.errorMessage||"Failed to assign issue to Copilot")}catch(e){d(e instanceof Error?e.message:"An unexpected error occurred")}finally{r(!1)}}},[c,m,t,i,a]),v=l?{id:l.databaseId||0,name:l.name,ownerLogin:l.owner.login,defaultBranch:"",private:l.isPrivate||!1,createdAt:"",currentUserCanPush:!1,isFork:!1,isEmpty:!1,ownerAvatar:"",public:!l.isPrivate,isOrgOwned:!1}:null;return e?(0,n.jsxs)(k.l,{title:"Assign to Copilot",onClose:a,width:"large",children:[(0,n.jsx)("p",{style:{marginBottom:"16px",color:"var(--fgColor-muted)"},children:"Select a repository and provide instructions for Copilot to work on this issue."}),o&&(0,n.jsx)("div",{style:{marginBottom:"16px"},children:(0,n.jsx)(b.l,{variant:"critical",title:"Assignment Failed",hideTitle:!0,description:o,secondaryAction:(0,n.jsx)(b.l.SecondaryAction,{onClick:()=>d(null),children:"Dismiss"})})}),u?(0,n.jsx)(p.Mj,{workerPath:u.findFileWorkerPath,threadId:null,refs:u.refs||[],mode:"assistive",ssoOrganizations:u.ssoOrganizations||[],copilotUpsellBannerDismissed:!0,copilotChatPayload:u,children:(0,n.jsx)(g.Q,{handleUserSubmit:S,initialRepo:v,hideRepoSelector:!1})}):(0,n.jsx)(f.B,{padding:"spacious",justify:"center",align:"center",direction:"vertical",gap:"spacious",children:(0,n.jsx)(h.A,{size:"medium",srText:"Loading Copilot assignment interface\u2026"})}),s&&(0,n.jsx)("div",{style:{marginTop:"8px",fontSize:"14px",color:"var(--fgColor-muted)"},children:"Submitting assignment..."})]}):null}try{v.displayName||(v.displayName="CopilotAssignmentModal")}catch{}var C=l(69599);function x(e){let a,l,t,i,s,r=(0,d.c)(10),{repository:o,issueNumber:u,onAssignmentComplete:c}=e,[g,p]=(0,F.useState)(!1),y=(0,C.G7)("issues_copilot_cross_repo_assign");r[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{p(!0)},r[0]=a):a=r[0];let k=a;r[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{p(!1)},r[1]=l):l=r[1];let f=l;r[2]!==c?(t=()=>{f(),c?.()},r[2]=c,r[3]=t):t=r[3];let h=t;return y?(r[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(m,{onClick:k}),r[4]=i):i=r[4],r[5]!==h||r[6]!==u||r[7]!==g||r[8]!==o?(s=(0,n.jsxs)(n.Fragment,{children:[i,(0,n.jsx)(v,{isOpen:g,onClose:f,repository:o,issueNumber:u,onAssignmentComplete:h})]}),r[5]=h,r[6]=u,r[7]=g,r[8]=o,r[9]=s):s=r[9],s):null}try{x.displayName||(x.displayName="CopilotAssignmentModalButton")}catch{}var j=l(52446);function T(e){let a=e.toLocaleLowerCase();return"copilot-swe-agent"===a||"copilot"===a}var K=l(12360),L=l(77430);let N={GitHubAvatar:"AssigneeVisual-module__GitHubAvatar--gUHvy"};function _({login:e,id:a,avatarUrl:l}){return T(e)?(0,n.jsx)(K.C,{}):(0,n.jsx)(L.r,{src:l,size:20,alt:`@${e}`,className:N.GitHubAvatar},a)}try{_.displayName||(_.displayName="AssigneeVisual")}catch{}var A=l(20403);let P={copilot:{displayName:"Copilot"}},w={assigneesList:"Assignees-module__assigneesList--JFnuE",assigneeNameLabel:"Assignees-module__assigneeNameLabel--f9fCg"};function E({assignees:e,testId:a}){return(0,n.jsx)(j.l,{variant:"full",className:w.assigneesList,children:e.sort(D).map(e=>{let{login:l,avatarUrl:t,profileResourcePath:i}=e,s=T(l)?P.copilot.displayName:l;return(0,n.jsxs)(j.l.LinkItem,{href:i??void 0,target:"_blank",...(0,A.S)(l,{isCopilot:T(l)}),children:[(0,n.jsx)(j.l.LeadingVisual,{children:(0,n.jsx)(_,{login:l,id:e.id,avatarUrl:t})}),(0,n.jsx)("div",{"data-testid":a,className:w.assigneeNameLabel,children:s})]},e.id)})})}function D(e,a){return e.login===a.login?0:e.login>a.login?1:-1}try{E.displayName||(E.displayName="Assignees")}catch{}var V=l(72429);let R=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{kind:"Literal",name:"first",value:20}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},u=[{kind:"InlineFragment",selections:[t,l,i,s,r,o,d],type:"Actor",abstractKey:"__isActor"}],c=[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:u,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:u,args:null,argumentDefinitions:[]}],m=[{kind:"Literal",name:"first",value:10}],g={kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableMutation",selections:[{alias:null,args:a,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:n,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:m,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"replaceActorsForAssignableMutation",selections:[{alias:null,args:a,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[t,{kind:"InlineFragment",selections:[l,{alias:null,args:n,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:[l,i,s,r,o,d],type:"Actor",abstractKey:"__isActor"},g],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:m,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:[t,i,s,r,o,d],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null},g],storageKey:null}],storageKey:null}]},params:{id:"b1178c19006434c87a6124a5005ddd25",metadata:{},name:"replaceActorsForAssignableMutation",operationKind:"mutation",text:null}}}();R.hash="db66177116a1f04e79a767ab6867b543";var M=l(18312),B=l(90388),O=l(67126),U=l(73189),H=l(43258),$=l(34784),q=l(93513),Q=l(20177),z=l(2495),W=l(16810),G=l(21798);let X={selfAssignButton:"AssigneesSection-module__selfAssignButton--U9FC1"},Y=()=>(0,n.jsx)(z.h,{title:q.k.sectionTitles.assignees}),J=({sectionHeader:e,onSelfAssignClick:a,assignees:l,readonly:t,copilotAssignmentButton:i})=>{let s=t?q.k.emptySections.assignees(!1):(0,n.jsxs)(n.Fragment,{children:[q.k.emptySections.assignees(!0),(0,n.jsx)(c.Q,{variant:"link",onClick:a,className:X.selfAssignButton,children:q.k.emptySections.selfAssign})]}),r=i?(0,n.jsx)("div",{className:"width-full d-flex flex-column flex-items-stretch pt-2 px-2",children:i}):void 0;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W.w,{sectionHeader:e,sectionFooter:r,emptyText:l.length>0?void 0:s,children:(0,n.jsx)(E,{assignees:l,testId:Q.Y.assignees})})})};function Z({repo:e,owner:a,readonly:l,assignees:t,onSelectionChange:i,maximumAssignees:s,className:r,sx:o,repository:d,issueNumber:u,onIssueUpdate:c,...m}){let g=(0,B.u)(),p={repo:e,owner:a,readonly:l,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:t,onSelectionChange:i,anchorElement:(e,a)=>(0,n.jsx)(G.X,{title:q.k.sectionTitles.assignees,buttonProps:e,ref:a}),maximumAssignees:s,...m},y=l?(0,n.jsx)(Y,{}):(0,n.jsx)(V._g,{...p});return(0,n.jsx)(J,{sectionHeader:y,onSelfAssignClick:()=>i(g?[g]:[]),assignees:t,readonly:l,sx:o,className:r})}let ee=i,ea=r;function el({issue:e,viewer:a,lazyKey:l,onIssueUpdate:i,singleKeyShortcutsEnabled:r,insideSidePanel:d}){let u=(0,$.useFragment)(ea,e),{repository:c,repository:{owner:{login:m},name:g,isArchived:p,planFeatures:y},number:k}=u,f=(0,$.useFragment)(s,u.repository),h=y?.maximumAssignees||10,b=(0,$.useFragment)(ee,u),S=(0,$.useFragment)(o,a),{id:I,viewerCanAssign:v}=u,j=(0,$.useFragment)(t,l),T=(0,F.useMemo)(()=>(j?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,V.uX)(e)]:[]),[j?.suggestedActors?.nodes]),K=(0,F.useMemo)(()=>(b.assignedActors?.nodes||[]).flatMap(e=>e?[(0,V.uX)(e)]:[]),[b.assignedActors?.nodes]),{addToast:L}=(0,H.Y6)(),N=(0,M.useRelayEnvironment)(),_=(0,F.useCallback)(e=>{!function({environment:e,input:{issueId:a,assignedActors:l,participants:n},onError:t,onCompleted:i}){let s=[...new Map([...l,...n].filter(e=>!e.isCopilot).map(e=>[e.login,e])).values()].slice(0,5);(0,M.commitMutation)(e,{mutation:R,variables:{input:{assignableId:a,actorIds:l.map(e=>e.id)}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:a,assignedActors:{nodes:l.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},participants:{nodes:s.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})}}}},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:N,input:{issueId:I,assignedActors:e,participants:T},onError:()=>L({type:"error",message:O.S.couldNotUpdateAssignees}),onCompleted:i})},[L,N,I,i,T]),A=!v||p,P=(0,C.G7)("issues_copilot_cross_repo_assign"),w=v&&!p&&P?(0,n.jsx)(x,{repository:{...c,nameWithOwner:f.nameWithOwner,databaseId:f.databaseId,isPrivate:f.isPrivate,isArchived:f.isArchived,planFeatures:{maximumAssignees:h}},issueNumber:k,onAssignmentComplete:i,insideSidePanel:d}):void 0,E=(0,F.useMemo)(()=>A?(0,n.jsx)(Y,{}):(0,n.jsx)(V.Ir,{repo:g,owner:m,number:k,anchorElement:(e,a)=>(0,n.jsx)(G.X,{title:q.k.sectionTitles.assignees,buttonProps:e,ref:a}),readonly:A,shortcutEnabled:r,assignees:K,onSelectionChange:e=>_(e),maximumAssignees:h,insidePortal:d,suggestions:T}),[A,g,m,k,r,K,T,h,d,_]);return(0,n.jsx)(J,{sectionHeader:E,assignees:K,onSelfAssignClick:()=>S?_([S]):U.l,readonly:A,copilotAssignmentButton:w})}try{Y.displayName||(Y.displayName="ReadonlyAssigneesSectionHeader")}catch{}try{J.displayName||(J.displayName="AssigneesSection")}catch{}try{Z.displayName||(Z.displayName="CreateIssueAssigneesSection")}catch{}try{el.displayName||(el.displayName="EditIssueAssigneesSection")}catch{}},80159:(e,a,l)=>{l.d(a,{u:()=>eK,E:()=>eL});var n,t=l(74848);let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{args:null,kind:"FragmentSpread",name:"FieldsSectionFieldValues"}],type:"Issue",abstractKey:null};i.hash="c42e75dc2e54880bcf4ff395c9c0656e";let s=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l=[e,a,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],n={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFieldValues",selections:[e,{alias:null,args:[{kind:"Literal",name:"first",value:25}],concreteType:"IssueFieldValueConnection",kind:"LinkedField",name:"issueFieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"IssueFieldText",abstractKey:null}],storageKey:null},n],type:"IssueFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"IssueFieldDate",abstractKey:null}],storageKey:null},n],type:"IssueFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"IssueFieldNumber",abstractKey:null}],storageKey:null},{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null}],storageKey:"issueFieldValues(first:25)"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null}],type:"Issue",abstractKey:null}}();s.hash="f9ef5715d92af5006e5b267da8c84fbe";var r=l(98646),o=l(44251),d=l(73189),u=l(75202),c=l(3614),m=l(96540),g=l(18312);l(69487);var p=l(3047),y=l(38621),k=l(55847);let f={container:"AddIssueFieldButton-module__container--vCxXw",button:"AddIssueFieldButton-module__button--GCUMC"},h=(0,m.forwardRef)((e,a)=>{let{anchorProps:l,inactive:n=!1,disabled:i=!1,onClick:s}=e;return(0,t.jsx)("div",{className:f.container,children:(0,t.jsx)(k.Q,{leadingVisual:n?y.AlertIcon:void 0,trailingVisual:n?void 0:y.PlusIcon,size:"small",ref:a,...l,className:f.button,inactive:n||i,onClick:e=>{i||(s(),l?.onClick?.(e))},children:"Add field"})})});h.displayName="AddIssueFieldButton";let b={mutationErrorMessage:"Something went wrong while setting the field value. Please try again.",loadingFieldsTooltipMessage:"Couldn't load issue fields",loadingFieldsErrorMessage:"We couldn't load the issue fields. Please try again later or if the problem persists contact support",setDate:"Set date",selectOption:"Select option",setText:"Set text",setValue:"Set value",textValidationMaxLength:(e,a)=>`Value cannot be more than ${a} characters (${e})`,textValidationEmpty:"Text cannot be empty.",textEditorLabel:e=>`The value for the ${e} field`,textEditorToolbarLabel:e=>`Toolbar for ${e} field`,textEditorPlaceholder:"Type text\u2026",numberEditorPlaceholder:"Type number\u2026",numberValidation:{errorMessage:"Must contain only numbers, decimals, and optional negative sign",max:e=>`Cannot be greater than ${e}`,min:e=>`Cannot be less than ${e}`},textEditorUpdateButton:"Update",textEditorRemoveFieldButtonLabel:e=>`Remove field ${e}`,textEditorUpdateButtonAriaLabel:e=>`Update field ${e} (press enter to submit)`,textEditorCancelButton:"Cancel"},F={kind:"InlineDataFragment",name:"IssueFieldPickerIssueField"};F.hash="dbe6e8472f786ace16467736d0195721";let S=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"}],kind:"Fragment",metadata:{connection:[{count:"issueFieldsPageSize",cursor:null,direction:"forward",path:["issueFields"]}]},name:"IssueFieldPickerPaginated",selections:[{alias:"issueFields",args:null,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"__Organization_issueFields_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueFieldPickerIssueField",selections:[{kind:"InlineFragment",selections:e,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldNumber",abstractKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}}();S.hash="8a6dd6e5fd4fe5d70ead8019af2bbe61";let I=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"},a={defaultValue:null,kind:"LocalArgument",name:"name"},l=[{kind:"Variable",name:"login",variableName:"name"}],n=[{kind:"Variable",name:"first",variableName:"issueFieldsPageSize"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{fragment:{argumentDefinitions:[e,a],kind:"Fragment",metadata:null,name:"IssueFieldPickerQuery",selections:[{alias:null,args:l,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{args:[{kind:"Variable",name:"issueFieldsPageSize",variableName:"issueFieldsPageSize"}],kind:"FragmentSpread",name:"IssueFieldPickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e],kind:"Operation",name:"IssueFieldPickerQuery",selections:[{alias:null,args:l,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:n,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"issueFields",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIssueFields"},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:n,filters:null,handle:"connection",key:"Organization_issueFields",kind:"LinkedHandle",name:"issueFields"},t],storageKey:null}]},params:{id:"fb985764c1863f8eba8ffad331a1b759",metadata:{},name:"IssueFieldPickerQuery",operationKind:"query",text:null}}}();I.hash="9a4fe5cc933711b34b06c8deb4838e9d";var v=l(18815),C=l(19918),x=l(86391),j=l(81289),T=l(81709),K=l(30721),L=l(71315),N=l(14307),_=l(75177);try{(n=IssueSingleSelectFieldPickerItemLeadingVisual).displayName||(n.displayName="IssueSingleSelectFieldPickerItemLeadingVisual")}catch{}function A({shortcutEnabled:e,anchorElement:a,...l}){return(0,t.jsx)(j.y,{anchorElement:e=>a(e),createChild:()=>(0,t.jsx)(P,{anchorElement:(e,l)=>a(e,l),shortcutEnabled:e,...l}),insidePortal:l.insidePortal,keybindingCommandId:"item-pickers:open-fields"})}function P({owner:e,anchorElement:a,...l}){let n=(0,g.useRelayEnvironment)(),[i,s]=(0,m.useState)(!0),[r,o]=(0,m.useState)(0),[d,u]=(0,m.useState)(!1),[c,p]=(0,m.useState)(null);(0,m.useEffect)(()=>{L.X3||(0,K.SD)({environment:n,query:I,variables:{name:e,issueFieldsPageSize:v.AE}}).subscribe({next:e=>{p(e.organization??null),s(!1),u(!1)},error:()=>{u(!0),s(!1)}})},[n,r,e]);let{createFallbackComponent:y}=(0,T.j)({errorMessage:C.k.cantEditItems("fields"),anchorElement:a,open:!0});return d?y(()=>o(e=>e+1)):(0,t.jsx)(w,{owner:e,fields:c,isLoading:i,anchorElement:a,...l})}function w({title:e=C.k.fieldsHeader,width:a="medium",fields:l,fieldsSet:n,onSelectionChange:i,insidePortal:s,anchorElement:r,isLoading:o,nested:d}){let[u,c]=(0,m.useState)(""),p=(0,g.useFragment)(S,l),k=(0,m.useMemo)(()=>(p?.issueFields?.edges?.flatMap(e=>e?.node?[(0,g.readInlineData)(F,e.node)]:[])||[]).filter(e=>!!e&&(!(n.length>0)||!e.name||-1===n.indexOf(e.name))),[p,n]),f=(0,m.useMemo)(()=>u?k.filter(e=>e.name&&e.name.toLowerCase().indexOf(u.toLowerCase())>=0):k,[k,u]),h=(0,m.useCallback)(e=>{c(e)},[]),b=(0,m.useCallback)(e=>e.id||"",[]),I=(0,m.useCallback)(e=>{var a;return{id:e.id,text:e.name,description:"",descriptionVariant:"block",leadingVisual:"TEXT"===(a=e.dataType||"TEXT")?y.TypographyIcon:"SINGLE_SELECT"===a?y.SingleSelectIcon:"DATE"===a?y.CalendarIcon:"NUMBER"===a?y.NumberIcon:void 0,source:e}},[]),v=(0,m.useRef)(null),j=(0,m.useMemo)(()=>0===f.length,[f.length]);return(0,t.jsx)(x.O,{loading:o,items:f,initialSelectedItems:[],filterItems:h,title:e,getItemKey:b,convertToItemProps:I,placeholderText:"Filter fields",selectionVariant:"single",onSelectionChange:i,renderAnchor:e=>r(e,v),insidePortal:s,height:"large",width:a,nested:d,resultListAriaLabel:"Issue Fields results",triggerOpen:!0,selectPanelRef:v,keybindingCommandId:"item-pickers:open-fields",improvedNoMatchAccessibility:j,noMatchMessage:j?{title:"No issue fields were found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}try{A.displayName||(A.displayName="IssueFieldPicker")}catch{}try{P.displayName||(P.displayName="IssueFieldPickerFetcher")}catch{}try{w.displayName||(w.displayName="ItemPickerWrapper")}catch{}function E({owner:e,fieldsSet:a,onIssueFieldSelected:l,shortcutEnabled:n,markInteractionStart:i,inactive:s=!1,disabled:o=!1}){let d=(0,m.useMemo)(()=>(e,a)=>(0,t.jsx)(h,{anchorProps:e,ref:a,onClick:i,inactive:s,disabled:o}),[i,s,o]),u=(0,m.useCallback)(e=>{let a=e[0];a&&l((0,r.YQ)(a))},[l]);return(0,t.jsx)(A,{owner:e,fieldsSet:a,onSelectionChange:u,shortcutEnabled:n,anchorElement:d,insidePortal:!1})}try{E.displayName||(E.displayName="FieldsSelector")}catch{}var D=l(69948),V=l(83463),R=l(8816),M=l(16810),B=l(21798);let O={dateAnchorContainer:"FieldEditors-module__dateAnchorContainer--I3CxZ",dateAnchorContainerInteractive:"FieldEditors-module__dateAnchorContainerInteractive--EFP_p",dateText:"FieldEditors-module__dateText--SPr35",noValueContainer:"FieldEditors-module__noValueContainer--jjEy0"},U=({formattedDate:e})=>e?(0,t.jsx)("span",{className:O.dateText,children:e}):(0,t.jsx)("span",{className:O.noValueContainer,children:b.setDate}),H=({fieldId:e,fieldName:a,value:l,readonly:n,onCommit:i,hideDivider:s,shouldOpen:r=!1,isDraft:o=!1})=>{let d=(0,m.useMemo)(()=>l?(0,R.b)(l):"",[l]),[u,c]=(0,m.useState)(r),g=(0,m.useCallback)(()=>{o&&i(e,null),c(!1)},[o,i,e]);return(0,t.jsx)(M.w,{sectionHeader:(0,t.jsx)(B.X,{title:a,readonly:n,buttonProps:n?void 0:{onClick:()=>c(!0)}}),hideDivider:s,children:n?(0,t.jsx)("div",{className:O.dateAnchorContainer,children:(0,t.jsx)(U,{formattedDate:d})}):(0,t.jsx)(V.DatePicker,{anchor:e=>(0,t.jsx)("div",{...e,className:`${O.dateAnchorContainer} ${O.dateAnchorContainerInteractive}`,children:(0,t.jsx)(U,{formattedDate:d})}),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:a=>{i(e,a),c(!1)},value:l,placeholder:"Set date",open:u,onOpen:()=>c(!0),onClose:g},a)})};try{U.displayName||(U.displayName="DateDisplay")}catch{}try{H.displayName||(H.displayName="IssueFieldDateEditor")}catch{}var $=l(83494),q=l(9745),Q=l(65029),z=l(24815),W=l(87330);let G={issuesFieldTextInputContainer:"IssueFieldTextToken-module__issuesFieldTextInputContainer--BYChH",issuesFieldTextError:"IssueFieldTextToken-module__issuesFieldTextError--AZz7r",issuesFieldToolbar:"IssueFieldTextToken-module__issuesFieldToolbar--gb7A0",issuesFieldToolbarActions:"IssueFieldTextToken-module__issuesFieldToolbarActions--gYxXu",issuesFieldText:"IssueFieldTextToken-module__issuesFieldText--WUTvu",noValueContainer:"IssueFieldTextToken-module__noValueContainer--GU_ur"};var X=l(81246),Y=l(8645);let J=/^([(['"]*)(.*?)([.,:;!?\])"']*)$/;try{J.displayName||(J.displayName="PUNCTUATION_REGEX")}catch{}let Z=e=>(e=>{let{length:a}=e;return a>255?b.textValidationMaxLength(a,255):0===a?b.textValidationEmpty:null})(e),ee=({fieldId:e,fieldName:a,readonly:l,initialValue:n,onCommit:i,hideDivider:s,shouldOpen:r=!1,validate:o=Z,inputProps:d,isDraft:u=!1,isNumber:c=!1})=>{let[g,p]=(0,m.useState)(!0),[f,h]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=e=>{f&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[f]);let[F,S]=(0,m.useState)(n),I=(0,m.useMemo)(()=>g?null:o(F),[g,F,o]),v=(0,m.useMemo)(()=>g||!!I,[g,I]),[C,x]=(0,m.useState)(r),j=(0,m.useCallback)(()=>{i(e,c?null:""),h(!1)},[e,c,i]),T=(0,m.useCallback)(()=>{n?(S(n),x(!1),p(!0),h(!1)):j()},[n,j]),K=(0,m.useCallback)(()=>{i(e,F),x(!1),p(!0),h(!1)},[e,i,F]),L=(0,m.useCallback)(()=>x(!0),[]),N=(0,m.useCallback)(()=>{if(u)return void j();g||h(!0),x(!1)},[g,u,j]),_=(0,m.useMemo)(()=>({commands:{"github:cancel":T,"github:submit-form":v?void 0:K},keys:{"github:cancel":["Escape"],"github:submit-form":["Enter"]}}),[v,T,K]),A=(0,m.useRef)(null),[P,w]=(0,m.useState)("256px");(0,m.useEffect)(()=>{if(C&&A.current){let e=A.current.getBoundingClientRect().width;e>0&&w(`${e}px`)}},[C]);let E=(0,m.useMemo)(()=>f?`${a} (edited)`:a,[a,f]),D=(0,t.jsx)(q.T,{open:C,anchorRef:A,renderAnchor:e=>(0,t.jsx)(B.X,{ref:A,title:E,readonly:l,buttonProps:e}),onClose:N,onOpen:L,overlayProps:{sx:{width:P}},children:(0,t.jsxs)($.tL,{..._,children:[(0,t.jsx)("div",{className:G.issuesFieldTextInputContainer,children:(0,t.jsxs)(Q.A,{children:[(0,t.jsx)(Q.A.Label,{visuallyHidden:!0,children:b.textEditorLabel(a)}),(0,t.jsx)(z.A,{block:!0,value:F,placeholder:b.textEditorPlaceholder,onChange:e=>{let{value:a}=e.target;S(a),a===n?p(!0):p(!1)},...d}),I&&(0,t.jsx)(Q.A.Validation,{variant:"error",className:G.issuesFieldTextError,children:I})]})}),(0,t.jsxs)("div",{className:G.issuesFieldToolbar,role:"toolbar","aria-label":b.textEditorToolbarLabel(a),children:[(0,t.jsx)("div",{children:(0,t.jsx)(W.K,{icon:y.TrashIcon,size:"small",variant:"invisible","aria-label":b.textEditorRemoveFieldButtonLabel(a),onClick:j})}),(0,t.jsxs)("div",{className:G.issuesFieldToolbarActions,children:[(0,t.jsx)(k.Q,{size:"small",onClick:T,trailingVisual:(0,t.jsx)($.hh,{commandId:"github:cancel"}),children:b.textEditorCancelButton}),(0,t.jsx)(k.Q,{size:"small",variant:"primary",onClick:K,disabled:v,"aria-disabled":v,"aria-label":b.textEditorUpdateButtonAriaLabel(a),trailingVisual:(0,t.jsx)($.hh,{commandId:"github:submit-form",variant:v?"normal":"onPrimary"}),children:b.textEditorUpdateButton})]})]})]})});return(0,t.jsx)(M.w,{sectionHeader:D,hideDivider:s,children:n?(0,t.jsx)("span",{className:G.issuesFieldText,children:function(e){if(!e)return null;let a=e.split(/(\s+)/);return(0,t.jsx)(t.Fragment,{children:a.map((e,a)=>{let l=`${e}-${a}`;if(!e.trim())return(0,t.jsx)(m.Fragment,{children:e},l);let{cleanText:n,prefix:i,suffix:s}=function(e){let a=e.match(J);if(!a)return{cleanText:e,prefix:"",suffix:""};let[l,n="",t="",i=""]=a;return{cleanText:t,prefix:n,suffix:i}}(e);if(!n)return(0,t.jsx)(m.Fragment,{children:e},l);let r=(0,Y.o2)(n),o=(0,Y.ml)(r);return(0,Y.Y9)(o)&&(0,Y.cE)(o)?(0,t.jsxs)(m.Fragment,{children:[i,(0,t.jsx)(X.A,{href:o,rel:"noopener noreferrer",children:r}),s]},l):(0,t.jsx)(m.Fragment,{children:e},l)})})}(n)}):(0,t.jsx)("span",{className:G.noValueContainer,children:c?b.setValue:b.setText})})};try{ee.displayName||(ee.displayName="IssueFieldTextEditor")}catch{}let ea=/^-?\d+(\.\d+)?$/,el=e=>{if(!ea.test(e))return b.numberValidation.errorMessage;let a=parseFloat(e);return a>0x7fffffff?b.numberValidation.max(0x7fffffff):a<-0x80000000?b.numberValidation.min(-0x80000000):null},en=e=>(0,t.jsx)(ee,{...e,inputProps:{placeholder:b.numberEditorPlaceholder,type:"number"},validate:el,isNumber:!0});try{ea.displayName||(ea.displayName="NUMBER_PATTERN")}catch{}try{en.displayName||(en.displayName="IssueFieldNumberEditor")}catch{}let et={kind:"InlineDataFragment",name:"IssueSingleSelectFieldPickerOption"};et.hash="d8bcb73a6758269a0f127f7a03e396bc";let ei=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[l,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueSingleSelectFieldPickerOption",selections:n,args:null,argumentDefinitions:[]}],storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:n,storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null},l],storageKey:null}]},params:{id:"c64e6ba36203e1baee1d8517134d7d4c",metadata:{},name:"IssueSingleSelectFieldPickerFieldQuery",operationKind:"query",text:null}}}();function es({shortcutEnabled:e,anchorElement:a,isLazy:l,shouldOpen:n=!1,...i}){return l&&!n?(0,t.jsx)(j.y,{anchorElement:(e,l)=>a(e,l),createChild:()=>(0,t.jsx)(er,{anchorElement:(e,l)=>a(e,l),shortcutEnabled:e,...i})}):(0,t.jsx)(er,{anchorElement:(e,l)=>a(e,l),shortcutEnabled:e,...i})}function er({fieldId:e,anchorElement:a,...l}){let n=(0,g.useRelayEnvironment)(),[i,s]=(0,m.useState)(!0),[r,o]=(0,m.useState)(0),[d,u]=(0,m.useState)(!1),[c,p]=(0,m.useState)([]);(0,m.useEffect)(()=>{L.X3||(0,K.SD)({environment:n,query:ei,variables:{id:e}}).subscribe({next:e=>{p(e.node?.options??[]),s(!1),u(!1)},error:()=>{u(!0),s(!1)}})},[n,r,e]);let{createFallbackComponent:y}=(0,T.j)({errorMessage:C.k.cantEditItems("fields"),anchorElement:a,open:!0});return d?y(()=>o(e=>e+1)):(0,t.jsx)(eo,{fieldId:e,values:c,isLoading:i,anchorElement:a,...l})}function eo({title:e=C.k.fieldSingleSelectHeader,width:a="medium",values:l,fieldName:n,selectedOption:i,onSelectionChange:s,onClose:r,insidePortal:o,anchorElement:d,isLoading:u}){let[c,p]=(0,m.useState)(""),y=n?C.k.fieldSingleSelectHeaderWithName(n):e,k=l.flatMap(e=>e?[(0,g.readInlineData)(et,e)]:[]),f=(0,m.useMemo)(()=>c?k.filter(e=>e.name&&e.name.toLowerCase().indexOf(c.toLowerCase())>=0):k,[k,c]),h=(0,m.useCallback)(e=>{p(e)},[]),b=(0,m.useCallback)(e=>e.id||"",[]),F=(0,m.useCallback)(e=>{let a;return{id:e.id,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(a=e.color,function(){let e=N.i4.find(e=>e===a),{bg:l,accent:n}=(0,N.Wk)(e);return(0,t.jsx)(_.A,{sx:{bg:l,borderColor:n,borderWidth:2,borderStyle:"solid",width:12,height:12,borderRadius:8,flexShrink:0}})}),source:e}},[]),S=(0,m.useMemo)(()=>{if(i){let e=k.find(e=>e.name===i);if(e)return[e]}return[]},[k,i]),I=(0,m.useRef)(null),v=(0,m.useMemo)(()=>0===f.length,[f]);return(0,t.jsx)(x.O,{loading:u,items:f,initialSelectedItems:S,filterItems:h,title:y,getItemKey:b,convertToItemProps:F,placeholderText:"Filter option",selectionVariant:"single",onSelectionChange:e=>s(e&&e.length>0&&e[0]?e[0]:null),onClose:r,renderAnchor:e=>d(e,I),insidePortal:o,height:"large",width:a,resultListAriaLabel:"Issue field option results",triggerOpen:!0,selectPanelRef:I,improvedNoMatchAccessibility:v,noMatchMessage:v?{title:"No option found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}ei.hash="0979e35fc8348ec832d8c8f2a2b59fec";try{es.displayName||(es.displayName="IssueSingleSelectFieldPicker")}catch{}try{er.displayName||(er.displayName="IssueSingleSelectFieldPickerFetcher")}catch{}try{eo.displayName||(eo.displayName="ItemPickerWrapper")}catch{}var ed=l(90928);let eu={container:"IssueFieldSingleSelectValueToken-module__container--lARRk",tokenText:"IssueFieldSingleSelectValueToken-module__tokenText--U98W6",token:"IssueFieldSingleSelectValueToken-module__token--TxIqq",fieldEditorContainer:"IssueFieldSingleSelectValueToken-module__fieldEditorContainer--Ya3I1",noValueContainer:"IssueFieldSingleSelectValueToken-module__noValueContainer--FlWSG"},ec=({name:e,color:a,getTooltipText:l,size:n,sx:i})=>{let s=(0,m.useRef)(null),[r,o]=(0,m.useState)(!1);(0,m.useEffect)(()=>o(em(s.current)),[o,s]);let d=(0,t.jsx)(ed.A,{className:eu.token,"data-color":a,ref:s,sx:i,text:(0,t.jsx)("span",{className:eu.tokenText,children:e})}),u=l(r);return(0,t.jsx)("div",{className:eu.container,"data-size":n,children:u?(0,t.jsx)(c.m,{text:u,children:d}):d})},em=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{ec.displayName||(ec.displayName="IssueFieldSingleSelectValueToken")}catch{}let eg=({fieldId:e,fieldName:a,readonly:l,initialValue:n,onCommit:i,hideDivider:s,shouldOpen:r=!1,isDraft:o=!1})=>{let d=(0,m.useCallback)(a=>{i(e,a)},[e,i]),u=(0,m.useCallback)(()=>{o&&i(e,null)},[e,o,i]),c=(0,m.useMemo)(()=>(0,t.jsx)(es,{fieldId:e,fieldName:a,selectedOption:n?n.name:null,onSelectionChange:d,anchorElement:(e,n)=>(0,t.jsx)(B.X,{title:a||"",buttonProps:e,ref:n,readonly:l}),readonly:!1,isLazy:!0,shortcutEnabled:!0,onClose:u,shouldOpen:r}),[e,a,n,u,d,l,r]),g=n?.name===""&&n?.color===""&&n?.description==="";return(0,t.jsx)(M.w,{sectionHeader:c,hideDivider:s,children:(0,t.jsx)("div",{className:eu.fieldEditorContainer,children:g?(0,t.jsx)("div",{className:eu.noValueContainer,children:b.selectOption}):(0,t.jsx)(ec,{name:n?.name||"",color:n?.color||"",getTooltipText:e=>e?n?.description??"":void 0})})})};try{eg.displayName||(eg.displayName="IssueFieldSingleSelectEditor")}catch{}function ep({fieldValue:e,readonly:a,hideDivider:l,onCommit:n}){let i=""===e.value;switch(e.field.dataType){case"TEXT":return(0,t.jsx)(ee,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:e.value||"",readonly:a,onCommit:(e,a)=>n(e,a),hideDivider:l},e.field.name);case"SINGLE_SELECT":return(0,t.jsx)(eg,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:{name:i||!e?.name?"":e.name,color:i||!e?.color?"":e.color,description:i||!e?.description?"":e.description},readonly:a,onCommit:(e,a)=>n(e,a),hideDivider:l},e.field.name);case"DATE":{let i=e.value?new Date(e.value):null;return(0,t.jsx)(H,{fieldId:e.field.id,fieldName:e.field.name||"",value:i,readonly:a,onCommit:(e,a)=>n(e,a),hideDivider:l},e.field.name)}case"NUMBER":{let i=e.numberValue?e.numberValue.toString():e.value||"0";return(0,t.jsx)(en,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:i,readonly:a,onCommit:(e,a)=>{null===a?n(e,null):n(e,Number(a))},hideDivider:l},e.field.name)}default:throw Error(`Unsupported field type: ${e.field.dataType}`)}}function ey({fieldSelection:e,hideDivider:a,onCommit:l}){switch(e.dataType){case"text":return(0,t.jsx)(ee,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),hideDivider:a,shouldOpen:!0,isDraft:!0},e.id);case"single_select":return(0,t.jsx)(eg,{fieldId:e.id,fieldName:e.name||"",initialValue:{name:"",color:"",description:""},readonly:!1,onCommit:(e,a)=>l(e,a),hideDivider:a,shouldOpen:!0,isDraft:!0},e.name);case"date":return(0,t.jsx)(H,{fieldId:e.id,fieldName:e.name||"",value:null,readonly:!1,onCommit:(e,a)=>l(e,a),hideDivider:a,shouldOpen:!0,isDraft:!0},e.name);case"number":return(0,t.jsx)(en,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),hideDivider:a,shouldOpen:!0,isDraft:!0},e.id);default:throw Error(`Unsupported field type: ${e.dataType}`)}}function ek({onClose:e,message:a}){return(0,t.jsx)(D.K,{title:"Error",confirmButtonContent:"OK",confirmButtonType:"primary",onClose:e,children:a})}try{ek.displayName||(ek.displayName="ErrorDialog")}catch{}let ef=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[l,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],t={kind:"InlineFragment",selections:n,type:"IssueFieldTextValue",abstractKey:null},i={kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},s={kind:"InlineFragment",selections:n,type:"IssueFieldDateValue",abstractKey:null},r={kind:"InlineFragment",selections:[l,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null},o=[l],d={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:o,storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createIssueFieldValueMutation",selections:[{alias:null,args:a,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[t,i,s,r],storageKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createIssueFieldValueMutation",selections:[{alias:null,args:a,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,s,r,{kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null}]},params:{id:"7d34c7a47ddc5e24a7fe4d1980651c76",metadata:{},name:"createIssueFieldValueMutation",operationKind:"mutation",text:null}}}();ef.hash="efaa5ef3592a90da63e7e17d2645f75c";let eh=e=>void 0!==e.singleSelectOptionId?r.KO:void 0!==e.dateValue?r.fk:void 0!==e.numberValue?r.qg:r.qH,eb=(e,a,l)=>{if(a){if(void 0!==l.textValue&&a.setValue(l.textValue,"value"),void 0!==l.singleSelectOptionId&&null!==l.singleSelectOptionId){let n=(e.get(l.fieldId)?.getLinkedRecords("options")||[]).find(e=>e.getDataID()===l.singleSelectOptionId);a.setValue(n?.getValue("name")??null,"name"),a.setValue(n?.getValue("color")??null,"color"),a.setValue(n?.getValue("description")??null,"description")}void 0!==l.dateValue&&a.setValue(l.dateValue,"value"),void 0!==l.numberValue&&a.setValue(l.numberValue,"value")}},eF=(e,a,l)=>{if(!e||!l)return;let n=(e.getLinkedRecords("nodes")||[]).filter(e=>e?.getLinkedRecord("field")?.getDataID()!==a);n.push(l),e.setLinkedRecords(n,"nodes")};function eS({environment:e,input:a,onCompleted:l,onError:n}){return(0,g.commitMutation)(e,{mutation:ef,variables:{input:a},onCompleted:()=>{l?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let l=e.get(a.issueId);if(!l)return;let n=a.issueField,t=l.getLinkedRecord("issueFieldValues",{first:25}),i=t?.getLinkedRecords("nodes")||[],s=eh(n),r=e.create(`client:newFieldValue:${n.fieldId}`,s);r.setValue(`client:newFieldValue:${n.fieldId}`,"id");let o=e.get(n.fieldId);o&&r.setLinkedRecord(o,"field"),eb(e,r,n),i.push(r),t&&t.setLinkedRecords(i,"nodes")},updater:e=>{let l=e.get(a.issueId),n=l?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("createIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue");if(!l||!i||!n)return;let s=a.issueField;if(!i.getLinkedRecord("field")){let a=e.get(s.fieldId);a&&i.setLinkedRecord(a,"field")}eF(n,s.fieldId,i)}})}let eI=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteIssueFieldValuePayload",kind:"LinkedField",name:"deleteIssueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteIssueFieldValueMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteIssueFieldValueMutation",selections:a},params:{id:"07154732cd6de9c83b93caf7e4fdb17b",metadata:{},name:"deleteIssueFieldValueMutation",operationKind:"mutation",text:null}}}();function ev({environment:e,input:a,onCompleted:l,onError:n}){return(0,g.commitMutation)(e,{mutation:eI,variables:{input:a},onCompleted:()=>{l?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let l=e.get(a.issueId);l&&eC(l,a.fieldId)},updater:e=>{let l=e.get(a.issueId);l&&eC(l,a.fieldId)}})}eI.hash="ade9c121a42280fa29046520cd641e3c";let eC=(e,a)=>{if(!e)return;let l=e.getLinkedRecord("issueFieldValues",{first:25});if(!l)return;let n=l.getLinkedRecords("nodes")||[],t=n.find(e=>e?.getLinkedRecord("field")?.getDataID()===a);if(!t)return;let i=t.getType();if((0,r.RI)(i)){let e=n.filter(e=>e?.getLinkedRecord("field")?.getDataID()!==a);l.setLinkedRecords(e,"nodes")}else(0,r.fy)(t,i)},ex=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[l,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],t={kind:"InlineFragment",selections:n,type:"IssueFieldTextValue",abstractKey:null},i={kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},s={kind:"InlineFragment",selections:n,type:"IssueFieldDateValue",abstractKey:null},r={kind:"InlineFragment",selections:[l,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null},o=[l],d={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:o,storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueFieldValueMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[t,i,s,r],storageKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueFieldValueMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,s,r,{kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null}]},params:{id:"c9b8f156814615ff82eb2393351e0719",metadata:{},name:"updateIssueFieldValueMutation",operationKind:"mutation",text:null}}}();function ej({environment:e,input:a,onCompleted:l,onError:n}){return(0,g.commitMutation)(e,{mutation:ex,variables:{input:a},onCompleted:()=>{l?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let l=e.get(a.issueId),n=l?.getLinkedRecord("issueFieldValues",{first:25}),t=n?.getLinkedRecords("nodes")||[],i=a.issueField,s=eh(i),r=t.find(e=>e.getLinkedRecord("field")?.getDataID()===i.fieldId);if(!r){r=e.create(`client:updateFieldValue:${i.fieldId}`,s);let a=e.get(i.fieldId);a&&r.setLinkedRecord(a,"field")}eb(e,r,i),eF(n,i.fieldId,r)},updater:e=>{let l=e.get(a.issueId),n=l?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("updateIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue"),s=a.issueField;if(i){if(!i.getLinkedRecord("field")){let a=e.get(s.fieldId);a&&i.setLinkedRecord(a,"field")}eF(n,s.fieldId,i)}}})}function eT({mutationFn:e,input:a,environment:l,action:n,fieldId:t,fieldType:i,inProjectsPage:s,reportUsage:r,onError:o}){let d=Date.now();e({environment:l,input:a,onCompleted:()=>{r({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"success",duration:Date.now()-d})},onError:e=>{let a=Date.now()-d;r({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"error",errorDetails:e instanceof Error?e.message:String(e),duration:a}),o?.(e)}})}function eK({owner:e,onSelectionChange:a,shortcutEnabled:l}){let[n,i]=(0,m.useState)([]),[s,d]=(0,m.useState)([]),[u,c]=(0,m.useState)(null),{markInteractionStart:g,reportUsage:y}=(0,o.k)();(0,m.useEffect)(()=>{a(n)},[n,a]);let k=(0,m.useCallback)(e=>{g(),e.id&&(c(e),e.name&&d(a=>[...a,e.name]))},[g]),f=(0,m.useCallback)((e,a)=>{i(l=>{let n,t=l.map(l=>l.field.id===e?n=(0,p.IE)(l.field,a):l).filter(e=>e.value);return n&&!n.value&&d(e=>e.filter(e=>e!==n?.field.name)),n&&n.field.dataType&&y({page:"issue#new",action:"create",fieldId:e,fieldType:(0,r.HZ)(n.field.dataType),status:"success"}),t})},[y]),h=(0,m.useCallback)((e,a)=>{if(!u||u.id!==e)return;c(null);let l=(0,r.HZ)(u.dataType),n=(0,p.vl)(l,a),t="string"==typeof n?!n.trim():!n;if(u.name&&t)return void d(e=>e.filter(e=>e!==u.name));t||i(e=>{let l=[...e];return u.name&&!l.some(e=>e.field.name===u.name)&&l.push((0,p.Y0)(u,a)),l})},[u]);return(0,t.jsxs)(t.Fragment,{children:[n.map((e,a)=>{if(!e.field.id)return null;let l=a===n.length-1;return ep({fieldValue:"object"==typeof e.value&&null!==e.value?{...e,...e.value}:e,readonly:!1,hideDivider:l,onCommit:f})}),u&&ey({fieldSelection:u,readonly:!1,hideDivider:!1,onCommit:h}),(0,t.jsx)(E,{owner:e,fieldsSet:s,onIssueFieldSelected:k,shortcutEnabled:l,markInteractionStart:g,disabled:null!==u})]})}function eL({issue:e,singleKeyShortcutsEnabled:a,inProjectsPage:l}){let[n,s]=(0,m.useState)([]),[y,k]=(0,m.useState)(!1),[f,F]=(0,m.useState)(!1),[S,I]=(0,m.useState)(null),v=(0,g.useRelayEnvironment)(),{markInteractionStart:C,reportUsage:x}=(0,o.k)(),j=(0,g.useFragment)(i,e),{repository:{owner:{login:T}},viewerCanSetFields:K}=j,L=(0,m.useCallback)(()=>{k(!0)},[]),N=(0,m.useCallback)((e,a)=>{if(!S||S.id!==e)return;I(null);let n=(0,p.vl)(S.dataType,a||""),t="string"==typeof n?!n.trim():!n;if(S.name&&t)return void s(e=>e.filter(e=>e!==S.name));t||eT({mutationFn:eS,input:{issueId:j.id,issueField:{fieldId:e,...(0,r.Ft)(S.dataType,n)}},environment:v,action:"create",fieldId:e,fieldType:(0,r.HZ)(S.dataType),inProjectsPage:l,reportUsage:x,onError:L})},[v,j.id,L,x,l,S]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.t,{fallback:(0,t.jsxs)("div",{children:[(0,t.jsx)(c.m,{text:b.loadingFieldsTooltipMessage,children:(0,t.jsx)("span",{children:(0,t.jsx)(h,{inactive:!0,anchorProps:{onClick:()=>F(!0)},onClick:d.l})})}),f&&(0,t.jsx)(ek,{onClose:()=>F(!1),message:b.loadingFieldsErrorMessage})]}),children:[(0,t.jsx)(eN,{issue:j,fieldsSet:n,setFieldsSet:s,inProjectsPage:l,hasPendingFields:null!==S}),S&&ey({fieldSelection:S,readonly:!1,hideDivider:!1,onCommit:N}),K&&(0,t.jsx)(E,{owner:T,fieldsSet:n,onIssueFieldSelected:e=>{e.id&&(I(e),e.name&&s(a=>[...a,e.name]))},shortcutEnabled:a,markInteractionStart:C,disabled:null!==S})]}),y&&(0,t.jsx)(ek,{onClose:()=>k(!1),message:b.mutationErrorMessage})]})}function eN({issue:e,fieldsSet:a,setFieldsSet:l,inProjectsPage:n,hasPendingFields:i=!1}){let d=(0,g.useRelayEnvironment)(),[u,c]=(0,m.useState)(!1),{reportUsage:y}=(0,o.k)(),k=(0,g.useFragment)(s,e),f=(k.issueFieldValues?.nodes||[]).map(e=>e),h=f.map(e=>e?.field?.name||""),[F,S]=(0,m.useState)(f.filter(e=>e?.field!=null)),I=(0,m.useCallback)(()=>{c(!0)},[]);(0,m.useEffect)(()=>{a.join(",")!==h.join(",")&&h.length>0&&l(h)},[a,h,l]);let v=(0,m.useCallback)((e,a,l)=>{let t=(0,r.HZ)(a),i=(0,p.vl)(t,l);""===l||null===l?eT({mutationFn:ev,input:{issueId:k.id,fieldId:e},environment:d,action:"delete",fieldId:e,fieldType:t,inProjectsPage:n,reportUsage:y,onError:I}):eT({mutationFn:ej,input:{issueId:k.id,issueField:{fieldId:e,...(0,r.Ft)(t,i)}},environment:d,action:"update",fieldId:e,fieldType:t,inProjectsPage:n,reportUsage:y,onError:I})},[k.id,d,I,n,y]);(0,m.useMemo)(()=>{let{addedFields:e,updatedFields:a,removedFields:l}=(0,p.kO)(F,f);if(0===e.length&&0===a.length&&0===l.length)return;let n=e.length>0,t=F.map(e=>{let t=a.find(a=>a?.field?.id===e?.field?.id);if(t)return(0,p.zo)(t,e)||(n=!0),t;if(l.some(a=>a?.field?.id===e?.field?.id)){let a=(0,p.uV)(e);return(0,p.zo)(a,e)||(n=!0),a}return e}).filter(e=>null!=e);n&&S([...t,...e])},[f,F]);let C=F.map((e,a)=>{if(!e||!e.field||!e.field.id)return null;let l=!i&&a===F.length-1;return void 0===e.field||void 0===e.field.dataType?null:function({errorPresent:e,setErrorPresent:a,fieldValue:l,...n}){if(!l.field)return null;let i=ep({fieldValue:l,...n});return(0,t.jsxs)(m.Fragment,{children:[i,e&&(0,t.jsx)(ek,{onClose:a,message:b.mutationErrorMessage})]},l.field.name)}({errorPresent:u,setErrorPresent:()=>c(!1),fieldValue:e,readonly:!k.viewerCanSetFields,hideDivider:l,onCommit:(a,l)=>v(a,e.field.dataType,l)})});return(0,t.jsx)(t.Fragment,{children:C})}ex.hash="42fa492eab38e97eb091a4309e4f4202";try{eK.displayName||(eK.displayName="CreateIssueFieldsSection")}catch{}try{eL.displayName||(eL.displayName="EditIssueFieldsSection")}catch{}try{eN.displayName||(eN.displayName="IssueFields")}catch{}},44963:(e,a,l)=>{l.d(a,{qn:()=>B,ku:()=>H,Wj:()=>U,Pv:()=>O});var n=l(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};t.hash="89d173296b36dd6c47d64eaffcd8fa74";let i=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,{kind:"InlineFragment",selections:[{alias:null,args:t,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"3f223f279562986721373d3a32894caa",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}}}();i.hash="d02c16e470c17cf4b7318894d9aaf592";let s=function(){var e=["labels"],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:i,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}();s.hash="d02c16e470c17cf4b7318894d9aaf592";var r=l(69599),o=l(53419);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=["orderBy"];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"setLabelsForLabelableMutation",selections:[{alias:null,args:a,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerAssignedLabels"},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"setLabelsForLabelableMutation",selections:[{alias:null,args:a,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:n,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:n,filters:i,handle:"connection",key:"LabelPicker_labels",kind:"LinkedHandle",name:"labels"},{alias:null,args:n,filters:i,handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"1a9b64da5b2e0647df87635409c321a8",metadata:{},name:"setLabelsForLabelableMutation",operationKind:"mutation",text:null}}}();d.hash="33a830ba5b9ce06282b14d356c1e10d1";var u=l(18312),c=l(14111),m=l(67126),g=l(41305),p=l(43258),y=l(96540),k=l(34784),f=l(93513),h=l(20177);let b=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RemoveLabelsFromLabelablePayload",kind:"LinkedField",name:"removeLabelsFromLabelable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeLabelsFromLabelableMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeLabelsFromLabelableMutation",selections:a},params:{id:"cce4e0522a0bbf89aa28f9e4da5d7beb",metadata:{},name:"removeLabelsFromLabelableMutation",operationKind:"mutation",text:null}}}();b.hash="9f3ee532d3745a09f037181e4a226f48";var F=l(89252);let S=(0,l(82075).A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:2592e6});function I(e){return`favorite-labels:${e}`}function v(e){let a=I(e),l=S.getItem(a);if(!l)return{labels:{}};try{return JSON.parse(l)}catch{return{labels:{}}}}var C=l(55007),x=l(2495),j=l(16810),T=l(21798),K=l(45244),L=l(38621),N=l(87330),_=l(21654);let A={copilotDraftLabelsContainer:"CopilotLabelsSection-module__copilotDraftLabelsContainer--qCnJj",copilotDraftLabel:"CopilotLabelsSection-module__copilotDraftLabel--H8mX9",copilotLoadingText:"CopilotLabelsSection-module__copilotLoadingText--TPE_h",copilotDraftIndividualLabel:"CopilotLabelsSection-module__copilotDraftIndividualLabel--WmjvS",copilotIcon:"CopilotLabelsSection-module__copilotIcon--jhl3v"};function P({issueId:e,sectionHeader:a,setShouldShowCopilotComponent:l,suggestedLabels:t,labelsStatus:i,onConfirmLabels:s,onErrorRetry:r}){let[d,u]=(0,y.useTransition)(),c=(0,y.useCallback)(()=>{u(()=>{l(!1),(0,o.BI)("copilot_suggested_labels.dismiss",{labels:t.map(e=>e.name).join(","),issueId:e}),(0,F.ff)(e)})},[t,e,l,u]),m=(0,y.useCallback)(()=>{u(()=>{l(!1),(0,o.BI)("copilot_suggested_labels_error.cancel")})},[l,u]);return(0,n.jsx)(y.Suspense,{fallback:(0,n.jsx)(w,{}),children:(0,n.jsxs)(j.w,{sectionHeader:a,children:["loading"===i&&(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-live":"polite","aria-busy":d,children:[(0,n.jsx)(L.CopilotIcon,{className:A.copilotIcon}),(0,n.jsx)(K.b,{children:(0,n.jsx)("span",{className:A.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===i&&(0,n.jsx)(E,{labels:t,onConfirm:s,onCancel:c,setShouldShowCopilotComponent:l,startContentTransition:u,issueId:e}),"error"===i&&(0,n.jsx)(D,{onRetry:r,onCancel:m})]})})}function w(){return(0,n.jsx)(j.w,{sectionHeader:(0,n.jsx)(T.X,{title:f.k.sectionTitles.labels,readonly:!0}),children:(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,n.jsx)(L.CopilotIcon,{className:A.copilotIcon}),(0,n.jsx)(K.b,{children:(0,n.jsx)("span",{className:A.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function E({labels:e,onConfirm:a,onCancel:l,setShouldShowCopilotComponent:t,startContentTransition:i,issueId:s}){let[r,d]=(0,y.useState)(e);return((0,y.useEffect)(()=>{(0===e.length||0===r.length)&&i(()=>{t(!1)})},[e,t,i,r]),0===e.length)?null:((0,o.BI)("copilot_suggested_labels.shown",{issueId:s}),(0,n.jsxs)("span",{className:"d-flex flex-items-start flex-justify-between pl-0",children:[(0,n.jsx)("div",{className:A.copilotDraftLabelsContainer,children:r.map(e=>(0,n.jsx)(V,{name:e.name,onRemove:()=>d(r.filter(a=>a.id!==e.id))},e.id))}),(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,n.jsx)(N.K,{variant:"invisible",size:"small",icon:L.CheckIcon,onClick:()=>a(r),"aria-label":"Accept suggestions"}),(0,n.jsx)(N.K,{variant:"invisible",size:"small",icon:L.XIcon,onClick:l,"aria-label":"Dismiss suggestions"})]})]}))}function D({onRetry:e,onCancel:a}){return(0,n.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,n.jsx)(L.CopilotErrorIcon,{className:A.copilotIcon}),(0,n.jsx)("span",{className:A.copilotLoadingText,children:"Error. Please try again."})]}),(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,n.jsx)(N.K,{variant:"invisible",size:"small",icon:L.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,n.jsx)(N.K,{variant:"invisible",size:"small",icon:L.XIcon,onClick:a,"aria-label":"Dismiss"})]})]})}function V({onRemove:e,name:a}){let l=(0,n.jsx)(N.K,{variant:"invisible",size:"small",icon:L.XIcon,onClick:e,"aria-label":`Dismiss ${a}`,style:{color:"var(--fgColor-muted)"},unsafeDisableTooltip:!0});return(0,n.jsx)("div",{className:A.copilotDraftLabel,children:(0,n.jsxs)(_.A,{className:A.copilotDraftIndividualLabel,children:[a," ",l]})})}try{P.displayName||(P.displayName="CopilotLabelsSection")}catch{}try{w.displayName||(w.displayName="CopilotLabelsSectionLoading")}catch{}try{E.displayName||(E.displayName="CopilotLabelsSectionSuccess")}catch{}try{D.displayName||(D.displayName="CopilotLabelsSectionError")}catch{}try{V.displayName||(V.displayName="CopilotDraftLabels")}catch{}let R=()=>(0,n.jsx)(x.h,{title:f.k.sectionTitles.labels}),M=({sectionHeader:e,onDelete:a,labels:l})=>(0,n.jsx)(j.w,{sectionHeader:e,emptyText:l.length>0?void 0:f.k.emptySections.labels,children:(0,n.jsx)(g.w,{labels:l,onDelete:a,testId:h.Y.issueLabels})}),B=({repo:e,owner:a,readonly:l,labels:t,onSelectionChange:i,...s})=>{let r=l?(0,n.jsx)(R,{}):(0,n.jsx)(c.tJ,{repo:e,owner:a,readonly:l,labels:t,onSelectionChanged:i,showNoMatchItem:!0,anchorElement:(e,a)=>(0,n.jsx)(T.X,{title:f.k.sectionTitles.labels,buttonProps:e,ref:a}),...s});return(0,n.jsx)(M,{sectionHeader:r,labels:t})},O=t,U=s;function H({issue:e,onIssueUpdate:a,singleKeyShortcutsEnabled:l,insideSidePanel:t}){let i=(0,k.useFragment)(O,e),{repository:{owner:{login:s},name:g,isArchived:h}}=i,{data:x}=(0,k.usePaginationFragment)(U,i),{id:j,viewerCanLabel:K}=i,L=(0,y.useMemo)(()=>x.labels?.edges?.flatMap(e=>e?.node?[(0,c.P5)(e?.node)]:[])||[],[x]),{getSuggestions:N,suggestedLabels:_,labelsStatus:A}=(0,C.G)(),w=(0,k.useRelayEnvironment)(),E=(0,r.G7)("copilot_auto_assign_metadata"),D=(0,r.G7)("issues_react_favorite_labels"),[V,B]=(0,y.useState)(E&&K&&0===L.length&&!(0,F.nS)(j));(0,y.useEffect)(()=>{V&&N({issueId:j,environment:w,issueTitle:i.title,issueBody:i.body,repositoryName:g,repositoryOwner:s,type:"labels"})},[V,j,w,i.title,i.body,g,s,N]);let H=!K||h,{addToast:$}=(0,p.Y6)(),q=(0,y.useCallback)(e=>{V&&e.length>0&&(B(!1),(0,o.BI)("copilot_suggested_labels.skipped",{issueId:j})),V&&0===e.length&&B(!0),function({environment:e,input:{labelableId:a,labels:l,labelableTypeName:n},onError:t,onCompleted:i}){(0,u.commitMutation)(e,{mutation:d,variables:{input:{labelableId:a,labelIds:l.map(e=>e.id)}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:n,__isNode:"true",__isLabelable:"true",id:a,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:l.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:w,input:{labelableId:j,labels:e,labelableTypeName:"Issue"},onError:()=>$({type:"error",message:m.S.couldNotUpdateLabels}),onCompleted:()=>{D&&e.length>0&&function(e,a){if(0===a.length)return;let l=v(e),n=Date.now();for(let e of a){let a=l.labels[e];l.labels[e]={labelId:e,count:a?a.count+1:1,lastUsed:n}}let t=I(e);try{S.setItem(t,JSON.stringify(l))}catch{}}(`${s}/${g}`,e.map(e=>e.id)),a?.()}})},[$,w,j,a,V,s,g,D]),Q=(0,y.useCallback)(e=>{q(e),B(!1),(0,o.BI)("copilot_suggested_labels.confirm",{pickedLabels:e.map(e=>e.name).join(","),suggestedLabels:_.map(e=>e.name).join(","),pickedCount:e.length,suggestedCount:_.length,issueId:j})},[_,j,q]),z=(0,y.useCallback)(()=>{N({issueId:j,environment:w,issueTitle:i.title,issueBody:i.body,repositoryName:g,repositoryOwner:s,type:"labels"}),(0,o.BI)("copilot_suggested_labels_error.retry",{issueId:j})},[N,j,w,i.title,i.body,g,s]),W=(0,r.G7)("issues_react_remove_labels_oneclick"),G=(0,y.useCallback)(e=>{!function({environment:e,input:a,onError:l,onCompleted:n}){let t=e=>{let l=u.ConnectionHandler.getConnectionID(a.labelableId,"MetadataSectionAssignedLabels_labels"),n=e.get(`${l}(orderBy:{"direction":"ASC","field":"NAME"})`);n&&a.labelIds[0]&&u.ConnectionHandler.deleteNode(n,a.labelIds[0])};(0,u.commitMutation)(e,{mutation:b,variables:{input:a},onError:e=>l&&l(e),onCompleted:e=>n&&n(e),updater:t,optimisticUpdater:t})}({environment:w,input:{labelableId:j,labelIds:[e]}})},[w,j]),X=(0,y.useMemo)(()=>{if(H)return(0,n.jsx)(R,{});let e=D?(function(e,a=10,l=4){let n=v(e),t=Date.now()-24*a*36e5;return Object.values(n.labels).filter(e=>e.lastUsed>=t).sort((e,a)=>e.count!==a.count?a.count-e.count:a.lastUsed-e.lastUsed).slice(0,l)})(`${s}/${g}`).map(e=>e.labelId):[];return(0,n.jsx)(c.tJ,{repo:g,owner:s,readonly:H,shortcutEnabled:l,labels:L,copilotSuggestedLabels:_,favoriteLabelIds:e,onSelectionChanged:q,anchorElement:(e,a)=>(0,n.jsx)(T.X,{title:f.k.sectionTitles.labels,buttonProps:e,ref:a}),insidePortal:t,showNoMatchItem:!0})},[H,D,s,g,l,L,_,q,t]);return V?(0,n.jsx)(P,{issueBody:i.body,issueId:j,issueTitle:i.title,repositoryName:g,repositoryOwner:s,sectionHeader:X,setShouldShowCopilotComponent:B,suggestedLabels:_,labelsStatus:A,onConfirmLabels:Q,onErrorRetry:z}):(0,n.jsx)(M,{sectionHeader:X,onDelete:W&&!H?G:void 0,labels:L})}try{R.displayName||(R.displayName="ReadonlyLabelsSectionHeader")}catch{}try{M.displayName||(M.displayName="LabelsSection")}catch{}try{B.displayName||(B.displayName="CreateIssueLabelsSection")}catch{}try{H.displayName||(H.displayName="EditIssueLabelsSection")}catch{}},36365:(e,a,l)=>{l.d(a,{C5:()=>x,eJ:()=>K,Bk:()=>T,zD:()=>j});var n=l(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="d2746ea22e8922796964d26b977262e7";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[l,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:n,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"816c5a915fa9ac873e161bc88c6c7cd7",metadata:{},name:"updateIssueMilestoneMutation",operationKind:"mutation",text:null}}}();s.hash="7302553b3cbaeec71894985dcc50a52b";var r=l(18312),o=l(17402),d=l(67126),u=l(43258),c=l(52446),m=l(96540),g=l(93513),p=l(2495),y=l(16810),k=l(21798),f=l(80800),h=l(73189),b=l(20177);let F={hiddenPlaceholder:"Milestone-module__hiddenPlaceholder--b_yit"},S=({progress:e})=>(0,n.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":b.Y.milestoneProgressIcon,children:[e<1?null:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,n.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,n.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});try{S.displayName||(S.displayName="ProgressIcon")}catch{}function I({milestone:e,anchorProps:a}){return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsxs)(c.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":b.Y.milestoneContainer,...a,onClick:h.l,children:[(0,n.jsx)(c.l.LeadingVisual,{children:(0,n.jsx)(S,{progress:e.progressPercentage/100})}),e.title,(0,n.jsx)(c.l.Description,{variant:"block",children:(0,n.jsx)(f.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,n.jsx)("div",{className:F.hiddenPlaceholder,...a})})}try{I.displayName||(I.displayName="Milestone")}catch{}let v=()=>(0,n.jsx)(p.h,{title:g.k.sectionTitles.milestones}),C=({sectionHeader:e,milestone:a,sx:l,className:t})=>(0,n.jsx)(y.w,{sx:l,className:t,sectionHeader:e,emptyText:a?void 0:g.k.emptySections.milestones,children:(0,n.jsx)(c.l,{variant:"full",children:(0,n.jsx)(I,{milestone:a})})});function x({milestone:e,onSelectionChange:a,viewerCanSetMilestone:l,className:t,sx:i,...s}){let r=l?(0,n.jsx)(o.De,{onSelectionChanged:e=>{a(e?.[0]||null)},readonly:l,canCreateMilestone:l,activeMilestone:e,anchorElement:(e,a)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:a}),showMilestoneDescription:!0,...s}):(0,n.jsx)(v,{});return(0,n.jsx)(C,{sx:i,className:t,sectionHeader:r,milestone:e})}let j=t,T=i;function K({issue:e,onIssueUpdate:a,singleKeyShortcutsEnabled:l,insideSidePanel:t}){let i=(0,r.useFragment)(T,e),{repository:{owner:{login:c},name:p},id:y,viewerCanSetMilestone:f}=i,{milestone:h}=(0,r.useFragment)(j,i),b=h?(0,o.Hf)(h):null,{addToast:F}=(0,u.Y6)(),S=(0,r.useRelayEnvironment)(),I=(0,m.useCallback)(e=>{!function({environment:e,input:{issueId:a,milestone:l},onError:n,onCompleted:t}){(0,r.commitMutation)(e,{mutation:s,variables:{input:{id:a,milestoneId:l?l.id:null}},optimisticResponse:{updateIssue:{issue:{id:a,milestone:l?{id:l.id,title:l.title,closed:l.closed,dueOn:l.dueOn,progressPercentage:l.progressPercentage,url:l.url,closedAt:l.closedAt}:null}}},onError:e=>n&&n(e),onCompleted:e=>t&&t(e)})}({environment:S,input:{issueId:y,milestone:e.length>0?e.at(-1):null},onError:()=>F({type:"error",message:d.S.couldNotUpdateMilestone}),onCompleted:a})},[F,S,y,a]),x=(0,m.useMemo)(()=>f?(0,n.jsx)(o.De,{repo:p,owner:c,onSelectionChanged:I,anchorElement:(e,a)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:a}),readonly:!f,canCreateMilestone:f,shortcutEnabled:l,activeMilestone:b??null,insidePortal:t,showMilestoneDescription:!0,showNoMatchItem:!0}):(0,n.jsx)(v,{}),[f,p,c,I,l,b,t]);return(0,n.jsx)(C,{sectionHeader:x,milestone:b??null})}try{v.displayName||(v.displayName="ReadonlyMilestonesSectionHeader")}catch{}try{C.displayName||(C.displayName="MilestonesSection")}catch{}try{x.displayName||(x.displayName="CreateIssueMilestonesSection")}catch{}try{K.displayName||(K.displayName="EditIssueMilestonesSection")}catch{}},30107:(e,a,l)=>{l.d(a,{PH:()=>ez,le:()=>eG,ym:()=>eQ,nf:()=>eW});var n=l(74848);let t=function(){var e={count:null,cursor:null,direction:"forward",path:["projectItemsNext"]},a={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},l={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Literal",name:"allowSameEnterprise",value:!0},{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],i={args:null,kind:"FragmentSpread",name:"ProjectItemSection"},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u=[n,s,r,a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},d],c={kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:u,args:null,argumentDefinitions:[]},m={kind:"InlineDataFragmentSpread",name:"ProjectPickerRelay",selections:u,args:null,argumentDefinitions:[]},g={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},p={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[e,e]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[a,l,n,{alias:"projectItemsNext",args:t,concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[c,m,r,s,n],storageKey:null},d],storageKey:null},g],storageKey:null},p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[a,l,n,{alias:"projectItemsNext",args:t,concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[r,c,m,s,n],storageKey:null},d],storageKey:null},g],storageKey:null},p],storageKey:null},o],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"}}();t.hash="f0873599de7f69b888a3a11cfbf6effc";var i=l(58115),s=l(21526),r=l(75202),o=l(43258),d=l(38621),u=l(52446),c=l(55847),m=l(96540),g=l(18312),p=l(69487);let y={couldNotUpdateProjects:"Could not update projects",projectsUnavailable:"Projects are currently unavailable",tryAgainLater:"Please try again later"};var k=l(93513);let f=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:a,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[l],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:a,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[l,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}}}();f.hash="b546b455603fb197fd8347b4cec2351a";var h=l(2495),b=l(16810),F=l(21798);let S=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null}}();S.hash="d514f44f54887c87d0f242aa077953b2";let I={ProjectItemSectionContainer:"ProjectItemSection-module__ProjectItemSectionContainer--BQnwM"},v=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],o={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},g=[t,s,u,c,m],p={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:g,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:g,storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},h=[t],b={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"},F={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,d],type:"ProjectV2Field",abstractKey:null},b],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[l,n,t],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[l,n,t,s,{alias:null,args:r,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,o,d],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[t,o,d,p],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[t,o,d,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[t,y,d,k,f,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},b],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:r,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,F,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[t,F,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[t,F,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:h,type:"ProjectV2SingleSelectField",abstractKey:null},b],storageKey:null},y,d,k,f],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,d,p],type:"ProjectV2IterationField",abstractKey:null},b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},s,u,c,m],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"38fa9f63b6217ff4c44708911b395768",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}}}();v.hash="b0347ba7355910f2a5163bb08004baef";var C=l(81246);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:a,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[l],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:a,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}}}();x.hash="774df17c4810f952c016355065fbcd6c";let j={restoreLink:"ProjectItemSectionFieldList-module__restoreLink--npi95"},T=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[e,a,l,{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[e,a,l,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[e,a,l,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null}}();T.hash="c174cea8029c1e3c10fd650fe09d5fb4";let K=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[e],l=[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"ProjectV2Field",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:l,type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:l,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:l,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null}}();K.hash="6064e6f5025ede2958816599a371f827";var L=l(34164);let N={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};N.hash="77aee2b1b5d211b322b848ac87e2ca19";let _={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};_.hash="137f1e064b5aa98d4b4aa184ee4db814";var A=l(83463);let P=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},t=[l],i={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:t,storageKey:null},s=[{kind:"Literal",name:"name",value:"Status"}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={kind:"InlineFragment",selections:[r],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={kind:"InlineFragment",selections:t,type:"Node",abstractKey:"__isNode"},m={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[u,{kind:"InlineFragment",selections:[l,r],type:"ProjectV2Field",abstractKey:null},c],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},f=[l,g,p,y,k];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:a,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[l,n,i,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[o],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:a,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[l,n,i,{alias:null,args:d,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[l,m,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[l,m,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[l,m,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[u,{kind:"InlineFragment",selections:t,type:"ProjectV2SingleSelectField",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[u,{kind:"InlineFragment",selections:[l,r,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:f,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:f,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},g,p,y,k],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:d,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[u,o,c],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function w({environment:e,input:a,onError:l,onCompleted:n}){return(0,g.commitMutation)(e,{mutation:P,variables:{input:a},optimisticUpdater:e=>(function(e,a){let l=`${g.ConnectionHandler.getConnectionID(a.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,n=e.get(l);n&&n.getLinkedRecords("edges")?.map((e,l)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===a.fieldId){let e=n.getLinkedRecords("edges")||[];e.splice(l,1),n.setLinkedRecords(e,"edges")}})})(e,a),onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}P.hash="1cc97421540c4997953175725e1f92c9";let E=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l=[{kind:"Literal",name:"name",value:"Status"}],n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={kind:"InlineFragment",selections:[n],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},i=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[r],d={kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"},u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[s,{kind:"InlineFragment",selections:[r,n],type:"ProjectV2Field",abstractKey:null},d],storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},y=[r,c,m,g,p];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:a,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[t],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:a,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s,{kind:"InlineFragment",selections:[r,u,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[r,u,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[r,u,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[s,{kind:"InlineFragment",selections:o,type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[s,{kind:"InlineFragment",selections:[r,n,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:y,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:y,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},c,m,g,p],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:i,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[s,t,d],storageKey:'fieldValueByName(name:"Status")'},r],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function D({environment:e,input:a,onError:l,onCompleted:n}){return(0,g.commitMutation)(e,{mutation:E,variables:{input:a},optimisticUpdater:e=>(function(e,a){let l=`${g.ConnectionHandler.getConnectionID(a.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,n=e.get(l);if(!n)return;let t=(n.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let l=e.getLinkedRecord("field");return!!l&&l.getDataID()===a.fieldId});if(t)switch(t.getType()){case"ProjectV2ItemFieldTextValue":t.setValue(a.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":t.setValue(a.value.number,"number");break;case"ProjectV2ItemFieldDateValue":t.setValue(a.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!a.value.singleSelectOptionId)return;let l=e.get(a.value.singleSelectOptionId);if(!l)return;for(let e of(t.setValue(a.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))t.setValue(l.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!a.value.iterationId)return;let l=e.get(a.value.iterationId);if(!l)return;for(let e of(t.setValue(a.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))t.setValue(l.getValue(e),e)}}})(e,a),onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}E.hash="de3a39d4584b64ead2a58f140d26d900";var V=l(8816),R=l(73189),M=l(75177),B=l(87330);let O={FieldListLi:"ProjectsSections-module__FieldListLi--wheLp",FieldListUl:"ProjectsSections-module__FieldListUl--nweud",FieldListLiText:"ProjectsSections-module__FieldListLiText--zEDBh",FieldListInternal:"ProjectsSections-module__FieldListInternal--NLirt",ListFieldWrapper:"ProjectsSections-module__ListFieldWrapper--XmHs2",ListFieldWrapperText:"ProjectsSections-module__ListFieldWrapperText--cXqRk",FieldBasisAuto:"ProjectsSections-module__FieldBasisAuto--kiwmO",FieldWrapperInputContainer:"ProjectsSections-module__FieldWrapperInputContainer--Vem8C",FieldWrapperLabel:"ProjectsSections-module__FieldWrapperLabel--EzGZt"},U={metadataFieldButton:"FieldWrapper-module__metadataFieldButton--qr7tn",fieldContentContainer:"FieldWrapper-module__fieldContentContainer--UA6kk",fieldValueText:"FieldWrapper-module__fieldValueText--CgERg",fieldPlaceholderText:"FieldWrapper-module__fieldPlaceholderText--qU9l7"};function H({children:e,onClick:a,anchorProps:l,disabled:t,isStatusField:i=!1,placeholder:s}){return(0,n.jsx)(M.A,{as:t?void 0:"button","aria-label":t?"Field is not editable":s,onClick:t?R.l:a,sx:{py:i?1:"var(--control-medium-paddingBlock)",minHeight:i?"var(--control-small-size)":"var(--control-xsmall-size)",...t?{paddingLeft:"6px",paddingRight:"6px"}:{"&:hover":{backgroundColor:"actionListItem.default.hoverBg"}}},className:U.metadataFieldButton,...l,children:(0,n.jsx)("div",{className:U.fieldContentContainer,children:e})})}let $=(0,m.forwardRef)(function({name:e,placeholder:a,value:l,input:t,inputRef:i,anchorProps:s,showInput:r,setShowInput:o,canUpdate:u=!0,isStatusField:c=!1,onCommit:g=R.l},p){let y=(0,m.useRef)(null),k=(0,m.useId)(),f=(0,m.useCallback)(e=>{!s&&u?o(!0):s?.onClick&&s.onClick(e)},[s,u,o]);(0,m.useEffect)(()=>{!0===r&&i&&i.current&&i.current.focus()},[i,r]);let h=(0,L.$)(O.ListFieldWrapperText,c&&O.FieldBasisAuto);return(0,n.jsx)("span",{ref:p||y,className:O.ListFieldWrapper,children:r?(0,n.jsxs)("label",{className:O.FieldWrapperLabel,children:[(0,n.jsx)("p",{className:h,children:e}),(0,n.jsxs)("span",{className:O.FieldWrapperInputContainer,children:[t,(0,n.jsx)(B.K,{"aria-label":"Update","data-testid":"commit",size:"small",icon:d.CheckIcon,onClick:()=>{g(),o(!1)},disabled:!u})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{id:k,className:h,children:e}),(0,n.jsx)(H,{isStatusField:c,anchorProps:{...s,"aria-describedby":k},onClick:f,placeholder:"string"==typeof a?a:void 0,disabled:!u,children:l?(0,n.jsx)("span",{className:U.fieldValueText,children:l}):(0,n.jsx)("span",{className:U.fieldPlaceholderText,children:a})})]})})});try{H.displayName||(H.displayName="MetadataButton")}catch{}try{$.displayName||($.displayName="FieldWrapper")}catch{}function q({viewerCanUpdate:e,itemId:a,projectId:l,field:t,value:i,onIssueUpdate:s}){let r=(0,g.useRelayEnvironment)(),o=(0,g.useFragment)(_,t),d=(0,g.useFragment)(N,i),u=o.id,c=o.name,p=d?new Date(d.date):null,y=p?(0,V.b)(p):"No date",[f,h]=(0,m.useState)(p),[b,F]=(0,m.useState)(!1),S=(0,m.useCallback)(e=>{h(e),e?D({environment:r,input:{fieldId:u,itemId:a,projectId:l,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:s}):w({environment:r,input:{fieldId:u,itemId:a,projectId:l},onCompleted:s})},[r,u,a,s,l]),I=(0,m.useCallback)(e=>(0,n.jsx)($,{showInput:b,setShowInput:F,anchorProps:e,placeholder:k.k.emptySections.datePlaceholder,value:y||k.k.emptySections.noValue(c),name:c}),[y,c,b]);return e?(0,n.jsx)(A.DatePicker,{variant:"single",showClearButton:!0,value:f,onChange:S,anchor:I}):(0,n.jsx)($,{showInput:b,setShowInput:F,placeholder:k.k.emptySections.noValue(c),canUpdate:!1,name:c,value:y})}try{q.displayName||(q.displayName="DateField")}catch{}let Q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};Q.hash="57212d5c33092763cd6c9ea8afef0615";let z=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:a,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null}}();z.hash="1820eb43fb63bb62abf4c8f24979732c";let W={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};W.hash="28591c2749a30e9b111acd7e77a057f9";var G=l(86391),X=l(73017),Y=l(84929);let J={IterationItemContainer:"IterationItem-module__IterationItemContainer--DDoTl",iterationTitleContainer:"IterationItem-module__iterationTitleContainer--Dlq2Q",iterationDateRange:"IterationItem-module__iterationDateRange--V5IVr",currentIndicator:"IterationItem-module__currentIndicator--vXDTT"};function Z({startDate:e,durationInDays:a,titleHTML:l}){var t,i;let s=new Date,r=(0,Y.H)(e),o=(t=r,i=a,new Date(t.getTime()+(i-1)*864e5)),d=r<=s&&s<=o,u=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,n.jsxs)("div",{className:J.IterationItemContainer,children:[(0,n.jsx)("div",{className:J.iterationTitleContainer,children:(0,n.jsx)(X.JR,{html:l})}),(0,n.jsx)(n.Fragment,{children:"\u2022 "}),(0,n.jsxs)("span",{className:J.iterationDateRange,children:[`${u(r)} - ${u(o)}`," ",d&&(0,n.jsx)(n.Fragment,{children:"\u2022 "})]}),d&&(0,n.jsx)("span",{className:J.currentIndicator,children:"Current"})]})}try{Z.displayName||(Z.displayName="IterationItem")}catch{}let ee={groupId:"completed",header:{title:"Completed",variant:"filled"}},ea={groupId:"active",header:{title:"Active",variant:"filled"}};function el({viewerCanUpdate:e,itemId:a,projectId:l,field:t,value:i,onIssueUpdate:s}){let[r,o]=(0,m.useState)(!1),d=(0,g.useRelayEnvironment)(),u=(0,g.useFragment)(z,t),c=(0,g.useFragment)(Q,i),p=u.id,y=u.name,[f,h]=(0,m.useState)(""),b=(0,m.useCallback)(e=>{1===e.length?D({environment:d,input:{fieldId:p,itemId:a,projectId:l,value:{iterationId:e[0].id}},onCompleted:s}):0===e.length&&w({environment:d,input:{fieldId:p,itemId:a,projectId:l},onCompleted:s}),o(!1)},[d,p,a,l,s]),F=(0,m.useCallback)(e=>{h(e)},[]),S=(0,m.useMemo)(()=>{let e=(u.configuration?.iterations||[]).concat(u.configuration?.completedIterations||[]).map(e=>(0,g.readInlineData)(W,e));return f?e.filter(e=>e.title.toLowerCase().indexOf(f.toLowerCase())>=0):e},[u.configuration?.completedIterations,u.configuration?.iterations,f]),I=(0,m.useMemo)(()=>new Set((u.configuration?.completedIterations||[]).map(e=>(0,g.readInlineData)(W,e).id)),[u.configuration?.completedIterations]),v=(0,m.useMemo)(()=>{let e=u.configuration?.iterations||[],a=u.configuration?.completedIterations||[];return e.concat(a).map(e=>(0,g.readInlineData)(W,e)).filter(e=>e.id===c?.iterationId)},[u.configuration?.completedIterations,u.configuration?.iterations,c?.iterationId]),C=(0,m.useCallback)(e=>({id:e.id,children:(0,n.jsx)(Z,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:I.has(e.id)?ee.groupId:ea.groupId}),[I]),x=(0,m.useCallback)(e=>(0,n.jsx)($,{showInput:r,setShowInput:o,anchorProps:e,placeholder:k.k.emptySections.iterationPlaceholder,value:c?(0,n.jsx)(Z,{startDate:c.startDate,durationInDays:c.duration,titleHTML:c.titleHTML}):null,name:y}),[y,r,c]),j=(0,m.useMemo)(()=>I.size>0?[ea,ee]:[ea],[I.size]);return e?(0,n.jsx)(G.O,{items:S,groups:j,initialSelectedItems:v,filterItems:F,getItemKey:e=>e.id,convertToItemProps:C,placeholderText:k.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:b,renderAnchor:x,height:"large"}):(0,n.jsx)($,{showInput:r,setShowInput:o,value:c?(0,n.jsx)(Z,{startDate:c.startDate,durationInDays:c.duration,titleHTML:c.titleHTML}):null,placeholder:k.k.emptySections.noValue(y),canUpdate:!1,name:y})}try{el.displayName||(el.displayName="IterationField")}catch{}let en={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};en.hash="ac86c256f18719392417c8d6f6be4c01";let et={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};et.hash="aa7c72083a9ec843850d1089ba1ddda3";var ei=l(66718),es=l(24815),er=l(32226);let eo={errorMessagePointer:"NumberField-module__errorMessagePointer--OzQjU",numberInput:"NumberField-module__numberInput--niEAY"};function ed({viewerCanUpdate:e,itemId:a,projectId:l,field:t,value:i,onIssueUpdate:s}){let[r,o]=(0,m.useState)(!1),d=(0,m.useRef)(null),u=(0,g.useRelayEnvironment)(),c=(0,g.useFragment)(et,t),p=(0,g.useFragment)(en,i),y=c.id,f=c.name,h=p?.number?.toString()??"",[b,F]=(0,m.useState)(h),[S,I]=(0,m.useState)(void 0),v=(0,m.useCallback)(()=>{S?(F(h),I(void 0)):D({environment:u,input:{fieldId:y,itemId:a,projectId:l,value:{number:""===b?null:(0,ei.$J)(b)}},onCompleted:s})},[b,u,y,S,a,s,h,l]),C=(0,m.useCallback)(e=>{I((0,ei.Ge)(e.target.value)),F(e.currentTarget.value)},[]),x=(0,m.useCallback)(e=>{"Enter"===e.key&&(v(),o(!1)),"Escape"===e.key&&(e.stopPropagation(),d.current&&(F(h),d.current.blur(),o(!1)))},[v,h]);return e?(0,n.jsx)($,{showInput:r,setShowInput:o,value:b,name:f,placeholder:k.k.emptySections.numberPlaceholder,inputRef:d,onCommit:v,input:(0,n.jsxs)("div",{children:[(0,n.jsx)(es.A,{"data-testid":"number-field-input",ref:d,size:"small",type:"number",onChange:C,onKeyDown:x,value:b,className:eo.numberInput}),S?(0,n.jsx)(er.A,{caret:"top-left",className:eo.errorMessagePointer,children:(0,n.jsx)("span",{children:S})}):null]})}):(0,n.jsx)($,{showInput:r,setShowInput:o,placeholder:k.k.emptySections.noValue(f),canUpdate:!1,value:b,name:f})}try{ed.displayName||(ed.displayName="NumberField")}catch{}let eu={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};eu.hash="46251798d3a30836a6711ecaa3cc54e8";let ec={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};ec.hash="be640a30fa15271b4fa34e75d3ddb9b1";let em=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[e,a,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},e,a,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null}}();em.hash="7609e6b1ac2a8d003401b9f85fcd3e61";var eg=l(90928);let ep={overflow:"hidden",cursor:"inherit","> span":{overflow:"hidden",textOverflow:"ellipsis"}},ey={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}},ek={optionContent:"SingleSelectField-module__optionContent--xJjmm",VerifiedHTMLText:"SingleSelectField-module__VerifiedHTMLText--zOUZc",statusPlaceholder:"SingleSelectField-module__statusPlaceholder--VhnZp",selectedValueContainer:"SingleSelectField-module__selectedValueContainer--kmRuq"};var ef=l(14307);let eh={Token:"SingleSelectToken-module__Token--FOSN8",colorIndicator:"SingleSelectToken-module__colorIndicator--mFcTC"},eb=({inputName:e,inputColor:a})=>{let l=(0,ef.Wk)(a);return(0,n.jsx)(eg.A,{sx:{bg:l.bg,color:l.fg,borderColor:l.border,":hover":{bg:l.bg,color:l.fg,borderColor:l.border},...ey},size:"medium",text:e,className:eh.Token})},eF=({inputColor:e})=>{let{bg:a,accent:l}=(0,ef.Wk)(e);return(0,n.jsx)(M.A,{sx:{bg:a,borderColor:l},className:eh.colorIndicator})};try{eb.displayName||(eb.displayName="SingleSelectToken")}catch{}try{eF.displayName||(eF.displayName="SingleSelectLeadingVisual")}catch{}function eS({viewerCanUpdate:e,itemId:a,projectId:l,field:t,value:i,onIssueUpdate:s,isStatusField:r}){let[o,u]=(0,m.useState)(!1),c=(0,g.useRelayEnvironment)(),p=(0,g.useFragment)(em,t),y=(0,g.useFragment)(eu,i),f=p.id,h=p.name,[b,F]=(0,m.useState)(""),S=(0,m.useCallback)(e=>{1===e.length?D({environment:c,input:{fieldId:f,itemId:a,projectId:l,value:{singleSelectOptionId:e[0].optionId}},onCompleted:s}):0===e.length&&w({environment:c,input:{fieldId:f,itemId:a,projectId:l},onCompleted:s}),u(!1)},[c,f,a,s,l]),I=(0,m.useCallback)(e=>{F(e)},[]),v=(0,m.useMemo)(()=>{let e=(p.options||[]).map(e=>(0,g.readInlineData)(ec,e));return b?e.filter(e=>e.name.toLowerCase().indexOf(b.toLowerCase())>=0):e},[p.options,b]),C=(0,m.useMemo)(()=>(p.options||[]).map(e=>(0,g.readInlineData)(ec,e)).filter(e=>e.optionId===y?.optionId),[p.options,y?.optionId]),x=(0,m.useCallback)(e=>({id:e.optionId,children:(0,n.jsxs)("div",{className:ek.optionContent,children:[(0,n.jsx)(X.JR,{html:e.nameHTML}),(0,n.jsx)(X.JR,{html:e.descriptionHTML,className:ek.VerifiedHTMLText})]}),source:e,leadingVisual:()=>(0,n.jsx)(eF,{inputColor:e.color})}),[]),j=(0,m.useCallback)(e=>(0,n.jsx)($,{showInput:o,setShowInput:u,name:h,isStatusField:r,placeholder:r?(0,n.jsxs)("div",{className:ek.statusPlaceholder,children:[k.k.emptySections.status,(0,n.jsx)(d.TriangleDownIcon,{})]}):(0,n.jsx)(n.Fragment,{children:k.k.emptySections.singleSelectFilterPlaceholder}),value:y?.name&&y?.color?(0,n.jsxs)("div",{className:ek.selectedValueContainer,children:[(0,n.jsx)(eb,{inputName:y.name,inputColor:y.color}),r&&(0,n.jsx)(d.TriangleDownIcon,{})]}):null,anchorProps:e}),[h,r,o,y?.color,y?.name]);if(!e)return(0,n.jsx)($,{showInput:o,setShowInput:u,canUpdate:!1,name:h,placeholder:k.k.emptySections.noValue(h),value:y?.name?(0,n.jsx)(eg.A,{sx:(y.name,ey),size:"large",text:y.name}):null,isStatusField:r});return(0,n.jsx)(G.O,{items:v,initialSelectedItems:C,filterItems:I,getItemKey:e=>e.optionId,convertToItemProps:x,placeholderText:k.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:S,renderAnchor:j,height:"large"})}try{eS.displayName||(eS.displayName="SingleSelectField")}catch{}let eI={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};eI.hash="69f479d8a39d90ca27cb126efa7b738b";let ev={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};ev.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var eC=l(71315),ex=l(5945),ej=l(8645);let eT={projectTextInput:"TextField-module__projectTextInput--XPyxL"};function eK({viewerCanUpdate:e,itemId:a,projectId:l,field:t,value:i,onIssueUpdate:s}){let r=(0,g.useRelayEnvironment)(),o=(0,m.useRef)(null),c=(0,g.useFragment)(ev,t),p=(0,g.useFragment)(eI,i),y=c.id,k=c.name,[f,h]=(0,m.useState)(!1),[b,F]=(0,m.useState)(p?.text??""),S=(0,m.useCallback)(()=>{D({environment:r,input:{fieldId:y,itemId:a,projectId:l,value:{text:b}},onCompleted:s})},[r,y,a,l,b,s]),I=(0,m.useCallback)(e=>{F(e.target.value)},[]),v=(0,m.useCallback)(e=>{"Enter"===e.key&&(S(),h(!1)),"Escape"===e.key&&(e.stopPropagation(),o.current&&(F(p?.text??""),o.current.blur(),h(!1)))},[S,p?.text]),[x,j]=(0,m.useState)(!1),T=(0,m.useRef)(null),K=(0,m.useCallback)(e=>()=>eC.cg?.open((0,ej.ml)(e),"_blank","noreferrer"),[]),L=(0,m.useCallback)(()=>h(!0),[h]),N=(0,m.useCallback)(()=>j(!0),[j]),_=(0,m.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),N())},[N]),A=(0,m.useCallback)(a=>e&&a.preventDefault(),[e]),P=(0,m.useMemo)(()=>b.split(/(\s+)/),[b]),[w,E,V]=(0,m.useMemo)(()=>{let e=[],a=!1;return[P.map((l,t)=>{let i=(0,ej.o2)(l),s=(0,ej.ml)(i);return(0,ej.Y9)(s)&&(0,ej.cE)(s)?(a=!0,e.push(l),(0,n.jsx)(C.A,{tabIndex:0,href:(0,ej.ml)(l),onKeyDown:_,onClick:A,target:"_blank",children:l},`text-field-link-${t}`)):l}),a,e]},[P,A,_]),R=E?{onClick:N}:void 0,M=(0,n.jsx)(ex.W,{open:x,onOpenChange:e=>j(e),anchorRef:T,children:(0,n.jsx)(ex.W.Overlay,{width:"small",children:(0,n.jsx)(u.l,{children:(0,n.jsxs)(u.l.Group,{children:[V?.map((e,a)=>(0,n.jsxs)(u.l.Item,{onSelect:K(e),role:"button",children:[(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(d.LinkIcon,{})}),e]},a)),e&&(0,n.jsxs)(u.l.Item,{onSelect:L,role:"button",children:[(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(d.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{ref:T,value:w,anchorProps:R,name:k,placeholder:"Enter text\u2026",inputRef:o,showInput:f,setShowInput:h,onCommit:S,input:(0,n.jsx)(es.A,{"data-testid":"text-field-input",ref:o,size:"small",onChange:I,onKeyDown:v,value:b,className:eT.projectTextInput})}),M]}):(0,n.jsx)($,{showInput:f,setShowInput:h,placeholder:`No ${k}`,canUpdate:!1,value:w,name:k})}try{eK.displayName||(eK.displayName="TextField")}catch{}function eL({projectItem:e,onIssueUpdate:a}){let l=(0,g.useFragment)(T,e),{fieldValues:t}=(0,g.useFragment)(K,l),i=(0,m.useMemo)(()=>(l?.project.fields?.edges||[]).map(e=>{if(!e?.node||"Status"===e.node.name)return;let n=e.node,i=n.dataType,s=n.id,r=(t?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===s)||null,o={key:s,viewerCanUpdate:!l.isArchived&&l.project.viewerCanUpdate,itemId:l.id,projectId:l.project.id,field:n,value:r,onIssueUpdate:a};switch(i){case"SINGLE_SELECT":return(0,m.createElement)(eS,{...o,key:o.key});case"TEXT":return(0,m.createElement)(eK,{...o,key:o.key});case"DATE":return(0,m.createElement)(q,{...o,key:o.key});case"NUMBER":return(0,m.createElement)(ed,{...o,key:o.key});case"ITERATION":return(0,m.createElement)(el,{...o,key:o.key})}}).filter(e=>void 0!==e),[l.project.fields?.edges,l.project.viewerCanUpdate,l.project.id,l.isArchived,l.id,t?.edges,a]);return 0===i.length?(0,n.jsx)(n.Fragment,{children:" "}):(0,n.jsx)("ul",{className:(0,L.$)(O.FieldListUl,O.FieldListInternal),children:i.map((e,a)=>(0,n.jsx)("li",{className:O.FieldListLi,children:e},`project-field-${a}`))})}try{eL.displayName||(eL.displayName="ProjectItemSectionFields")}catch{}var eN=l(41057);function e_(){return(0,n.jsx)("ul",{className:O.FieldListUl,children:(0,n.jsxs)("li",{style:{margin:"0 2 2 3"},children:[(0,n.jsx)(eA,{}),(0,n.jsx)(eA,{}),(0,n.jsx)(eA,{})]})})}function eA(){return(0,n.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:5,width:"100%",marginTop:2},children:[(0,n.jsx)(eN.Q,{height:"md",width:"25%"}),(0,n.jsx)(eN.Q,{height:"md",width:"40%"})]})}try{e_.displayName||(e_.displayName="ProjectItemSectionFieldsLoading")}catch{}try{eA.displayName||(eA.displayName="ProjectFieldLoading")}catch{}function eP(e){return(0,n.jsx)(m.Suspense,{fallback:(0,n.jsx)(e_,{}),children:(0,n.jsx)(ew,{...e})})}function ew({isArchived:e,projectItemId:a,projectId:l,onIssueUpdate:t}){let i=(0,g.useRelayEnvironment)(),{addToast:s}=(0,o.Y6)(),{node:r}=(0,g.useLazyLoadQuery)(v,{id:a}),d=(0,m.useCallback)(()=>{!function({environment:e,input:a,onError:l,onCompleted:n}){(0,g.commitMutation)(e,{mutation:x,variables:{input:a},onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}({environment:i,input:{projectId:l,itemId:a},onCompleted:()=>{s({type:"success",message:k.k.archivedSuccess})},onError:()=>{s({type:"error",message:k.k.archivedError})}})},[i,l,a,s]);if(!r||!r.project)return null;let u=e&&r.project.viewerCanUpdate;return(0,n.jsxs)(n.Fragment,{children:[u&&(0,n.jsx)("ul",{className:O.FieldListUl,children:(0,n.jsx)("li",{className:O.FieldListLi,children:(0,n.jsxs)("span",{className:O.FieldListLiText,children:[k.k.archivedDescription,"\xa0",(0,n.jsx)(C.A,{onClick:d,className:j.restoreLink,children:"Restore"})]})})}),(0,n.jsx)(eL,{onIssueUpdate:t,projectItem:r})]})}try{eP.displayName||(eP.displayName="ProjectItemSectionFieldList")}catch{}try{ew.displayName||(ew.displayName="ProjectItemSectionFieldListInternal")}catch{}let eE=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{kind:"Literal",name:"name",value:"Status"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null}}();eE.hash="7d5cd0d9d7271a8e8f19cce6e01dac52";var eD=l(51802),eV=l(1002),eR=l(30729);let eM={ProjectItemSectionViewContainer:"ProjectItemSectionView-module__ProjectItemSectionViewContainer--Pjx02",projectTitleText:"ProjectItemSectionView-module__projectTitleText--AeMlK",truncatedProjectTitle:"ProjectItemSectionView-module__truncatedProjectTitle--rFO6B",projectLinkContainer:"ProjectItemSectionView-module__projectLinkContainer--aLELu",projectLink:"ProjectItemSectionView-module__projectLink--su_OB",Truncate:"ProjectItemSectionView-module__Truncate--CxV2L",statusFieldContainer:"ProjectItemSectionView-module__statusFieldContainer--yap_1"};function eB({projectItem:e,setOpen:a,open:l,isProjectOpen:t}){let{id:i,project:s,fieldValueByName:r,isArchived:o}=(0,g.useFragment)(eE,e);return(0,n.jsxs)("div",{className:eM.ProjectItemSectionViewContainer,children:[t?(0,n.jsxs)("span",{className:eM.projectTitleText,children:[(0,n.jsx)(eR.A,{icon:s.template?d.ProjectTemplateIcon:d.TableIcon}),(0,n.jsx)("span",{className:eM.truncatedProjectTitle,children:s.title})]}):(0,n.jsx)("div",{className:eM.projectLinkContainer,children:(0,n.jsxs)(C.A,{href:s.url,hoverColor:"accent.fg",underline:!1,tabIndex:0,className:eM.projectLink,children:[(0,n.jsx)(eR.A,{icon:s.template?d.ProjectTemplateIcon:d.TableIcon}),(0,n.jsx)(eV.A,{title:s.title,"data-testid":eD.Y.projectTitle,className:eM.Truncate,children:s.title})]})}),(0,n.jsxs)("div",{className:eM.statusFieldContainer,children:[s.field&&void 0!==r&&(0,n.jsx)(eS,{viewerCanUpdate:s.viewerCanUpdate&&!o,itemId:i,projectId:s.id,field:s.field,value:r,isStatusField:!0}),(0,n.jsx)(B.K,{variant:"invisible",onClick:()=>{a(!l)},size:"small",icon:l?d.ChevronUpIcon:d.ChevronDownIcon,"aria-label":l?k.k.hideMoreProjectFields:k.k.showMoreProjectFields,"aria-expanded":l})]})]})}try{eB.displayName||(eB.displayName="ProjectItemSectionView")}catch{}function eO({projectItem:e,onIssueUpdate:a,isOpen:l=!1}){let[t,i]=(0,m.useState)(l),s=(0,g.useFragment)(S,e);return(0,n.jsxs)("div",{className:I.ProjectItemSectionContainer,children:[(0,n.jsx)(eB,{projectItem:s,open:t,setOpen:i,onIssueUpdate:a,isProjectOpen:l}),t&&(0,n.jsx)(eP,{projectItemId:s.id,projectId:s.project.id,isArchived:s.isArchived,onIssueUpdate:a})]})}try{eO.displayName||(eO.displayName="ProjectItemSection")}catch{}let eU={projectActionList:"ProjectsSection-module__projectActionList--VG9Tr",ActionList_LinkItem:"ProjectsSection-module__ActionList_LinkItem--fZc7M",projectItemsContainer:"ProjectsSection-module__projectItemsContainer--XwAWz",toggleClosedProjectsButton:"ProjectsSection-module__toggleClosedProjectsButton--E9nMY"},eH=()=>(0,n.jsx)(h.h,{title:k.k.sectionTitles.projects}),e$=(0,m.forwardRef)((e,a)=>(0,n.jsx)(F.X,{ref:a,id:e.id,title:k.k.sectionTitles.projects,buttonProps:e}));e$.displayName="ProjectsSectionHeader";let eq=({sectionHeader:e,hasItems:a,children:l})=>(0,n.jsx)(b.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:a?void 0:k.k.emptySections.projects,children:l}),eQ=()=>(0,n.jsx)(b.w,{id:"projects-section-fallback",sectionHeader:(0,n.jsx)(h.h,{title:y.projectsUnavailable}),emptyText:y.tryAgainLater}),ez=({owner:e,repo:a,projects:l,readonly:t,onSelectionChange:s,...o})=>{let d="create-issue-sidebar-projects-section-heading",c=t?(0,n.jsx)(eH,{}):(0,n.jsx)(i.wX,{pickerId:"create-issue-projects-picker",owner:e,repo:a,selectedProjects:l,readonly:t,onSave:s,anchorElement:e=>(0,n.jsx)(e$,{...e,id:d}),...o});return(0,n.jsx)(r.t,{fallback:(0,n.jsx)(eQ,{}),children:(0,n.jsx)(eq,{sectionHeader:c,hasItems:l.length>0,children:l.length>0&&(0,n.jsx)(u.l,{"aria-labelledby":d,variant:"full",className:eU.projectActionList,children:l.map(e=>(0,n.jsx)(u.l.LinkItem,{href:e.url,className:eU.ActionList_LinkItem,children:e.title},e.id))})})})},eW=t;function eG(e){let a=(0,g.useFragment)(eW,e.issueOrPullRequest);return a.projectItemsNext?(0,n.jsx)(eX,{projectsSectionData:a,...e}):(0,n.jsx)(eQ,{})}let eX=({projectsSectionData:e,allowedProjectOwner:a,onIssueUpdate:l,insideSidePanel:t,selectedProjectId:r})=>{let{addToast:u}=(0,o.Y6)(),h=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),b=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[F,S]=(0,m.useState)(!1),{viewerCanUpdateMetadata:I,viewerCanUpdate:v,repository:C}=e,x=!(I||v)||C?.isArchived,j=e.id||"",T=h.length>0||b.length>0,K=p.ConnectionHandler.getConnectionID(j,"ProjectSection_projectItemsNext",{allowedOwner:a}),L=(0,g.useRelayEnvironment)(),N=(0,m.useCallback)(e=>{let a=e.filter(e=>!h.some(a=>a.project.id===e.id)),n=h.filter(a=>!e.some(e=>e.id===a.project.id)),t=!1;for(let e of a)(0,s.Z)({environment:L,connectionId:K,projectId:e.id,issueId:j,onError:()=>t=!0,onCompleted:l});for(let e of n)!function({environment:e,connectionId:a,projectId:l,itemId:n,onError:t,onCompleted:i}){(0,g.commitMutation)(e,{mutation:f,variables:{input:{itemId:n,projectId:l},connections:[a]},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:L,connectionId:K,projectId:e.project.id,itemId:e.id,onError:()=>t=!0,onCompleted:l});t&&u({type:"error",message:y.couldNotUpdateProjects})},[u,K,L,j,l,h]),_=(0,m.useMemo)(()=>h.map(e=>(0,i.Kx)(e.project)),[h]),A=b.length,P=(0,m.useMemo)(()=>!e.repository||x?(0,n.jsx)(eH,{}):(0,n.jsx)(i.wX,{pickerId:`edit-issue-projects-picker-${j}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:_,readonly:x,firstSelectedProjectTitle:h.length>0?h[0].project.title:"",onSave:N,anchorElement:e=>(0,n.jsx)(e$,{...e}),insidePortal:t}),[j,h,e.repository,x,N,_,t]);return e.repository&&e.number?(0,n.jsx)(eq,{sectionHeader:P,hasItems:T,children:(0,n.jsxs)("div",{className:eU.projectItemsContainer,children:[h.map(e=>(0,n.jsx)(eO,{onIssueUpdate:l,projectItem:e,isOpen:r===e.project.id},e.id)),A>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Q,{variant:"invisible",trailingVisual:F?d.ChevronUpIcon:d.ChevronDownIcon,onClick:()=>S(!F),"aria-label":k.k.showClosedProjects,className:eU.toggleClosedProjectsButton,children:`${A} closed project${A>1?"s":""}`}),F&&b.map(e=>(0,n.jsx)(eO,{onIssueUpdate:l,projectItem:e,isOpen:r===e.project.id},e.id))]})]})}):null};try{eH.displayName||(eH.displayName="ReadonlyProjectsSectionHeader")}catch{}try{eq.displayName||(eq.displayName="ProjectsSection")}catch{}try{eQ.displayName||(eQ.displayName="ProjectsSectionFallback")}catch{}try{ez.displayName||(ez.displayName="CreateIssueProjectsSection")}catch{}try{eG.displayName||(eG.displayName="EditIssueProjectsSection")}catch{}try{eX.displayName||(eX.displayName="EditIssueProjectsSectionInternal")}catch{}},77622:(e,a,l)=>{l.d(a,{pf:()=>R,S7:()=>O,PT:()=>B,Dd:()=>M});var n=l(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="b001a8b0ab2f9df6e46e8fcb5ee286bd";let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[e],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null},e,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null}}();i.hash="ed89df93a2fdaab7d32e7dfddf950293";var s=l(69599),r=l(53419);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[l],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[n],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeMutation",selections:[{alias:null,args:a,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[n,l],storageKey:null}],storageKey:null}]},params:{id:"8fb2ad8c640842c40c78555ec3de36ef",metadata:{},name:"updateIssueIssueTypeMutation",operationKind:"mutation",text:null}}}();o.hash="bb977961330cf582e078449e6127a944";var d=l(18312);function u({environment:e,input:a,onError:l,onCompleted:n}){return(0,d.commitMutation)(e,{mutation:o,variables:{input:a},onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}var c=l(52927),m=l(67126),g=l(43258),p=l(96540),y=l(93513),k=l(89252),f=l(2495),h=l(16810),b=l(21798),F=l(45244),S=l(38621),I=l(87330),v=l(21654),C=l(55007);let x={copilotDraftType:"CopilotTypesSection-module__copilotDraftType--NVquT",copilotLoadingText:"CopilotTypesSection-module__copilotLoadingText--zS6D0",copilotDraftIndividualType:"CopilotTypesSection-module__copilotDraftIndividualType--jO8Xl",copilotIcon:"CopilotTypesSection-module__copilotIcon--NK0DJ"};function j({issueId:e,onIssueUpdate:a,sectionHeader:l,setShouldShowCopilotComponent:t}){let{suggestedType:i,getSuggestions:s,getStatusForType:o}=(0,C.G)(),{addToast:c}=(0,g.Y6)(),y=(0,d.useRelayEnvironment)();(0,p.useEffect)(()=>{"success"===o("issueType")&&void 0===i&&t(!1)},[o,t,i]);let f=(0,p.useCallback)(l=>{u({environment:y,input:{issueId:e,issueTypeId:l.length>0?l[0]?.id:null},onError:()=>c({type:"error",message:m.S.couldNotUpdateType}),onCompleted:a})},[c,y,e,a]);(0,p.useEffect)(()=>{(0,p.startTransition)(()=>{s({issueId:e,environment:y,type:"issueType"})})},[y,s,e]);let b=(0,p.useCallback)(()=>{i&&f([i]),t(!1),(0,r.BI)("copilot_suggested_type.confirm",{type:i?.name,issueId:e})},[e,f,t,i]),I=(0,p.useCallback)(()=>{t(!1),(0,r.BI)("copilot_suggested_type.dismiss",{type:i?.name,issueId:e}),(0,k.ub)(e)},[e,t,i?.name]),v=(0,p.useCallback)(()=>{s({issueId:e,environment:y,type:"issueType"}),(0,r.BI)("copilot_suggested_type_error.retry")},[y,s,e]),j=(0,p.useCallback)(()=>{t(!1),(0,r.BI)("copilot_suggested_type_error.cancel")},[t]);return(0,n.jsx)(p.Suspense,{fallback:(0,n.jsx)(T,{}),children:(0,n.jsxs)(h.w,{sectionHeader:l,children:["loading"===o("issueType")&&(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,n.jsx)(S.CopilotIcon,{className:x.copilotIcon}),(0,n.jsx)(F.b,{children:(0,n.jsx)("span",{className:x.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===o("issueType")&&null!=i&&(0,n.jsx)(K,{copilotType:i,onConfirmCopilotType:b,onCancel:I,issueId:e}),"error"===o("issueType")&&(0,n.jsx)(N,{onRetry:v,onCancel:j})]})})}function T(){return(0,n.jsx)(h.w,{sectionHeader:(0,n.jsx)(b.X,{title:y.k.sectionTitles.types,readonly:!0}),children:(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,n.jsx)(S.CopilotIcon,{className:x.copilotIcon}),(0,n.jsx)(F.b,{children:(0,n.jsx)("span",{className:x.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function K({copilotType:e,onConfirmCopilotType:a,onCancel:l,issueId:t}){return(0,r.BI)("copilot_suggested_type.shown",{issueId:t}),(0,n.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-2",children:[(0,n.jsx)(L,{name:e.name}),(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,n.jsx)(I.K,{variant:"invisible",size:"small",icon:S.CheckIcon,onClick:a,"aria-label":"Accept suggestion"}),(0,n.jsx)(I.K,{variant:"invisible",size:"small",icon:S.XIcon,onClick:l,"aria-label":"Dismiss suggestion"})]})]})}function L({name:e}){return(0,n.jsx)("div",{className:x.copilotDraftType,children:(0,n.jsx)(v.A,{className:x.copilotDraftIndividualType,children:e})})}function N({onRetry:e,onCancel:a}){return(0,n.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,n.jsx)(S.CopilotErrorIcon,{className:x.copilotIcon}),(0,n.jsx)("span",{className:x.copilotLoadingText,children:"Error. Please try again."})]}),(0,n.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,n.jsx)(I.K,{variant:"invisible",size:"small",icon:S.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,n.jsx)(I.K,{variant:"invisible",size:"small",icon:S.XIcon,onClick:a,"aria-label":"Dismiss"})]})]})}try{j.displayName||(j.displayName="CopilotTypesSection")}catch{}try{T.displayName||(T.displayName="CopilotTypesSectionLoading")}catch{}try{K.displayName||(K.displayName="CopilotTypesSectionSuccess")}catch{}try{L.displayName||(L.displayName="CopilotDraftType")}catch{}try{N.displayName||(N.displayName="CopilotTypesSectionError")}catch{}var _=l(25983),A=l(20177);let P={IssueTypeToken:"IssueType-module__IssueTypeToken--hdXht",hiddenPlaceholder:"IssueType-module__hiddenPlaceholder--nnfV9"};function w({type:e,anchorProps:a,repoNameWithOwner:l}){return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsx)("div",{"data-testid":A.Y.typeContainer,className:P.IssueTypeToken,children:(0,n.jsx)(_.n,{name:e.name,color:e.color,href:`/${l}/issues?q=type:"${e.name}"`,getTooltipText:a=>a?e.name:void 0})}):(0,n.jsx)("div",{className:P.hiddenPlaceholder,...a})})}try{w.displayName||(w.displayName="IssueType")}catch{}let E={typeContainer:"TypesSection-module__typeContainer--YI5mY"},D=()=>(0,n.jsx)(f.h,{title:y.k.sectionTitles.types}),V=({sectionHeader:e,type:a,repoNameWithOwner:l,sx:t})=>(0,n.jsx)(h.w,{sx:t,sectionHeader:e,emptyText:a?void 0:y.k.emptySections.types,children:(0,n.jsx)("div",{className:E.typeContainer,children:(0,n.jsx)(w,{type:a,repoNameWithOwner:l})})});function R({type:e,onSelectionChange:a,viewerCanType:l,sx:t,...i}){let{repo:s,owner:r}=i;return(0,n.jsx)(V,{sx:t,sectionHeader:l?(0,n.jsx)(c.uF,{onSelectionChange:e=>{a(e?.[0]||null)},readonly:l,activeIssueType:e,anchorElement:(e,a)=>(0,n.jsx)(b.X,{title:y.k.sectionTitles.types,buttonProps:e,ref:a}),...i,width:"medium"}):(0,n.jsx)(D,{}),type:e,repoNameWithOwner:`${r}/${s}`})}let M=t,B=i;function O({issue:e,onIssueUpdate:a,singleKeyShortcutsEnabled:l,insideSidePanel:t}){let i=(0,d.useFragment)(B,e),{repository:{owner:{login:o},name:f,nameWithOwner:h,issueTypes:F},id:S,viewerCanType:I}=i,v=F?.edges?.map(e=>e?.node?.id)||[],{issueType:C}=(0,d.useFragment)(M,i),x=C?(0,c.iO)(C):null,{addToast:T}=(0,g.Y6)(),K=(0,d.useRelayEnvironment)(),L=(0,s.G7)("copilot_auto_assign_metadata"),[N,_]=(0,p.useState)(L&&I&&null==x&&!(0,k.ic)(S)),A=(0,p.useCallback)(e=>{N&&(_(!1),(0,r.BI)("copilot_suggested_type.skipped",{issueId:S})),u({environment:K,input:{issueId:S,issueTypeId:e.length>0?e[0]?.id:null},onError:()=>T({type:"error",message:m.S.couldNotUpdateType}),onCompleted:a})},[T,K,S,a,N]),P=(0,p.useMemo)(()=>I?(0,n.jsx)(c.uF,{repo:f,owner:o,onSelectionChange:A,anchorElement:(e,a)=>(0,n.jsx)(b.X,{title:y.k.sectionTitles.types,buttonProps:e,ref:a}),readonly:!I,shortcutEnabled:l,activeIssueType:x??null,insidePortal:t,width:"medium"}):(0,n.jsx)(D,{}),[I,f,o,A,l,x,t]);return I||0!==v.length?N?(0,n.jsx)(j,{issueId:S,onIssueUpdate:a,sectionHeader:P,setShouldShowCopilotComponent:_}):(0,n.jsx)(V,{sectionHeader:P,type:x??null,repoNameWithOwner:h}):null}try{D.displayName||(D.displayName="ReadonlyTypesSectionHeader")}catch{}try{V.displayName||(V.displayName="TypesSection")}catch{}try{R.displayName||(R.displayName="CreateIssueIssueTypesSection")}catch{}try{O.displayName||(O.displayName="EditIssueIssueTypeSection")}catch{}},25983:(e,a,l)=>{l.d(a,{n:()=>u});var n=l(74848),t=l(81246),i=l(90928),s=l(96540);let r={issueTypeTokenContainer:"IssueTypeToken-module__issueTypeTokenContainer--u7mnl",tokenText:"IssueTypeToken-module__tokenText--jTqtr",token:"IssueTypeToken-module__token--QZUId"};var o=l(3614),d=l(34164);let u=({name:e,color:a,href:l,getTooltipText:u,size:m,sx:g,className:p})=>{let y=(0,s.useRef)(null),[k,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>f(c(y.current)),[f,y]);let h=(0,n.jsx)(t.A,{href:l,children:(0,n.jsx)(i.A,{className:(0,d.$)(r.token,p),"data-color":a,ref:y,sx:g,text:(0,n.jsx)("span",{className:r.tokenText,children:e})})}),b=u(k);return(0,n.jsx)("div",{className:r.issueTypeTokenContainer,"data-size":m,children:b?(0,n.jsx)(o.m,{text:b,children:h}):h})},c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{u.displayName||(u.displayName="IssueTypeToken")}catch{}},41057:(e,a,l)=>{l.d(a,{Q:()=>d});var n=l(74848),t=l(6011),i=l(96540);let s={container:"IssuesLoadingSkeleton-module__container--Z01Fm"},r={sm:16,md:20,lg:24,xl:32},o={rounded:"3px",pill:"100px",elliptical:"50%"},d=({height:e,width:a,borderRadius:l="rounded"})=>{let[d,u]=(0,i.useState)("100%");(0,i.useEffect)(()=>{"random"===a&&u(`${Math.floor(40*Math.random()+40)}%`)},[a]);let c="string"==typeof e&&e in r?`${r[e]}px`:e,m="random"===a?d:"string"==typeof a&&a in r?`${r[a]}px`:a,g="string"==typeof l&&l in o?o[l]:l;return(0,n.jsx)(t.f,{"data-testid":"issues-loading-skeleton",className:s.container,style:{width:m,height:c,borderRadius:g}})};try{d.displayName||(d.displayName="IssuesLoadingSkeleton")}catch{}},47234:(e,a,l)=>{l.d(a,{Ir:()=>R,_g:()=>M,mK:()=>U,fH:()=>E,uX:()=>w});var n=l(74848);let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},a={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"number"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},t={defaultValue:null,kind:"LocalArgument",name:"query"},i=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],s=[{kind:"Variable",name:"number",variableName:"number"}],r=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},g={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},y={kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e,a,l,n,t],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"CatchField",field:{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[o,d,u,c,m,g,p],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],storageKey:null},to:"RESULT"}],type:"Assignable",abstractKey:"__isAssignable"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,l,t,e],kind:"Operation",name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,u,c,m,g,p],type:"Actor",abstractKey:"__isActor"},y],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"},y],storageKey:null},d],storageKey:null}]},params:{id:"d5d76334fbdc19a4d20466060a837669",metadata:{},name:"AssigneePickerSearchAssignableUsersSharedQuery",operationKind:"query",text:null}}}();t.hash="d2141790a7808addaa1568cc651514c9";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"capabilities"},a={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"loginNames"},n={defaultValue:null,kind:"LocalArgument",name:"name"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},i={defaultValue:null,kind:"LocalArgument",name:"query"},s=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],r=[{kind:"Variable",name:"capabilities",variableName:"capabilities"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"loginNames",variableName:"loginNames"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},g={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},y={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null};return{fragment:{argumentDefinitions:[e,a,l,n,t,i],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"CatchField",field:{alias:null,args:r,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[o,d,u,c,m,g,p],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"},y],storageKey:null},to:"RESULT"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,i,l,a,e],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d,u,c,m,g,p],storageKey:null},y],storageKey:null},d],storageKey:null}]},params:{id:"dc39149f5b0808ed7057c07ebb22e923",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",operationKind:"query",text:null}}}();i.hash="f6c4e298b2947d454ba6232c27099acc";let s={kind:"InlineDataFragment",name:"AssigneePickerSharedAssignee"};s.hash="d8c57c253a2f9513f6daa2dbe67a0412";var r=l(84363),o=l(24453),d=l(12360),u=l(77430),c=l(67126),m=l(19918),g=l(49275),p=l(38143),y=l(86391),k=l(43258),f=l(46747),h=l(21654),b=l(96540);let F={assigneePickerContainer:"ItemPickerAssigneeBase-module__assigneePickerContainer--o7zPA"};var S=l(62539);function I({assignees:e,suggestions:a,searchAssignees:l,onSelectionChange:t,insidePortal:i,anchorElement:s,nested:r,isLoading:o=!1,noAssigneeOption:I,triggerOpen:C,selectionVariant:x="multiple",title:j,maximumAssignees:T,name:K="assignee",showNoMatchItem:L=!1,viewer:N}){let[_,A]=(0,b.useState)(""),[P,w]=(0,b.useState)(void 0),[E,D]=(0,b.useState)(e),V=(0,b.useRef)(_),{addToast:R}=(0,k.Y6)();(0,b.useEffect)(()=>{D(e)},[e]);let M=(0,b.useCallback)(e=>e.login,[]),B=(0,b.useMemo)(()=>{let l=[];if(l=P?(0,S.iM)(e,P,_):(0,S.iM)(e,e.concat(a.filter(a=>!e.find(e=>e.login===a.login))),_),N){let e=l.findIndex(e=>e.login===N.login);if(-1!==e)l.splice(e,1);else if(P)return l;l.unshift(N)}return!I||I.selected||l.find(e=>e.id===g.v.noAssigneeData.id)||l.unshift(g.v.noAssigneeData),l},[P,N,I,e,_,a]),O=(0,b.useCallback)(a=>(0,S.OG)(e,a),[e]),U=(0,b.useMemo)(()=>!!(T&&E.length>=T),[E.length,T]),H=(0,b.useCallback)(e=>{let a=E.some(a=>a.id===e.id),l=U&&!a;if(I&&e.id===g.v.noAssigneeData.id){let a={...I};return a.groupId=O(e),a.disabled=l,a}if(L&&e.id===g.v.noMatchData.id)return{...g.v.noMatchData,groupId:O(e),source:e,text:`${K}:${_}`,sx:{wordBreak:"break-word"},disabled:l};let t=e.isCopilot;return{id:e.id,text:t?m.k.copilotDisplayName:e.login,description:t?m.k.copilotDescription:e.name??"",source:e,groupId:O(e),leadingVisual:()=>t?(0,n.jsx)(d.C,{}):0===e.avatarUrl.length?null:(0,n.jsx)(u.r,{alt:e.login,src:e.avatarUrl}),trailingVisual:()=>"bot"===e.type?(0,n.jsx)(h.A,{children:"bot"}):null,sx:{wordBreak:"break-word"},disabled:l}},[_,O,K,I,L,U,E]),$=(0,b.useCallback)(()=>{w(void 0)},[]),q=(0,b.useCallback)(async e=>{if(""===e)return void w(void 0);try{let a=await l(e),n=V.current;e.trim()===n.trim()&&w(a)}catch{R({type:"error",message:c.S.couldNotSearchAssignees})}},[R,l]),Q=(0,f.d)(e=>q(e),p.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),z=(0,b.useCallback)(e=>{let a=e.trim();_!==a&&(Q(a),A(e),V.current=a)},[Q,_]),W=(0,b.useCallback)(e=>{let a=new Set(B.map(e=>e.id)),l=new Set(e.map(e=>e.id));D([...e,...E.filter(e=>!a.has(e.id)&&!l.has(e.id))])},[E,B]),G=(0,b.useMemo)(()=>{let a=[],l=B.filter(a=>e.find(e=>e.id===a.id)),n=B.filter(a=>!e.find(e=>e.id===a.id));return l.length>0&&a.push(S.c2),n.length>0&&a.push(S.D$),a},[e,B]),X=(0,b.useRef)(null),Y=(0,b.useMemo)(()=>!L&&0===B.length,[L,B.length]);return(0,n.jsx)("div",{className:F.assigneePickerContainer,children:(0,n.jsx)(y.O,{items:B,initialSelectedItems:e,loading:o,filterItems:z,title:j||m.k.assigneesHeader(T??10),getItemKey:M,triggerOpen:C,convertToItemProps:H,placeholderText:m.k.filterUsers(K),selectionVariant:1===T?"single":x||"multiple",onSelectionChange:t,onLiveSelectionChange:W,onClose:$,renderAnchor:e=>s(e,X),groups:G,insidePortal:i,height:"large",width:"medium",nested:r,resultListAriaLabel:"User results",selectPanelRef:X,notice:T&&U?{text:m.k.limitWarning(T),variant:"warning"}:void 0,customNoMatchItem:L?{id:g.v.noMatchData.id,avatarUrl:g.v.noMatchData.avatarUrl,login:_}:void 0,improvedNoMatchAccessibility:Y,noMatchMessage:Y?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,keybindingCommandId:v(K)})})}let v=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{I.displayName||(I.displayName="ItemPickerAssigneeBase")}catch{}var C=l(81289),x=l(30721),j=l(71315),T=l(18312),K=l(72274);let L=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkByQueryMutationSharedMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkByQueryMutationSharedMutation",selections:a},params:{id:"0a9cfabdd2706cea4a3cc2af5fbf0560",metadata:{},name:"updateIssueAssigneesBulkByQueryMutationSharedMutation",operationKind:"mutation",text:null}}}();L.hash="754272a12989fa5f92464aef8e29d002";let N=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkMutationSharedMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkMutationSharedMutation",selections:a},params:{id:"8efb615d7267ee969e85942df5a92054",metadata:{},name:"updateIssueAssigneesBulkMutationSharedMutation",operationKind:"mutation",text:null}}}();N.hash="84492e5d1b2df48c5241319563ccba26";var _=l(69487);function A(e,a,l,n,t){for(let i of a){if(!e.get(i))return;let a=n[i]?.map(a=>e.get(a));t.applyAssigneeIds.map(n=>{if(l.get(i)?.includes(n))return;let t=e.get(n);t&&a?.filter(e=>e).map(a=>{let l=a&&_.ConnectionHandler.createEdge(e,a,t,"AssigneeEdge");l&&_.ConnectionHandler.insertEdgeBefore(a,l)})}),t.removeAssigneeIds.map(e=>{a?.filter(e=>e).map(a=>a&&_.ConnectionHandler.deleteNode(a,e))})}}var P=l(33987);function w(e){return(0,T.readInlineData)(V,e)}async function E(e,a){let{owner:l,repo:n,assignees:t,capabilities:i}=a,s=await (0,x.SD)({environment:e,query:D,variables:{owner:l,name:n,loginNames:t.join(",")??[],first:t.length??0,capabilities:i}}).toPromise();return s?.repository?.suggestedActors?.ok?(s?.repository?.suggestedActors?.value.nodes??[]).filter(e=>!!e).map(e=>w(e)):[]}let D=i,V=s;function R({anchorElement:e,shortcutEnabled:a,...l}){return(0,n.jsx)(C.y,{anchorElement:(a,l)=>e(a,l),createChild:()=>(0,n.jsx)(O,{anchorElement:(a,l)=>e(a,l),shortcutEnabled:a,triggerOpen:!0,...l}),insidePortal:l.insidePortal,keybindingCommandId:H(l.name)})}function M({shortcutEnabled:e,anchorElement:a,...l}){return(0,n.jsx)(C.y,{anchorElement:(e,l)=>a(e,l),keybindingCommandId:H(l.name),createChild:()=>(0,n.jsx)(B,{shortcutEnabled:e,anchorElement:a,triggerOpen:!0,...l})})}function B({repo:e,owner:a,assignees:l,assigneeTokens:t,suggestions:i,maximumAssignees:s,includeAssignableBots:d,includeAuthorableBots:u,...m}){let y=(0,T.useRelayEnvironment)(),[k,f]=(0,b.useState)(!1),[h,F]=(0,b.useState)(null),[S,v]=(0,b.useState)(null),[C,L]=(0,b.useState)(null),N=(0,b.useMemo)(()=>(0,P.M)({includeAssignableBots:d,includeAuthorableBots:u}),[d,u]),_=t.length>0;(0,b.useEffect)(()=>{!j.X3&&_&&(f(!0),(0,x.SD)({environment:y,query:D,variables:{owner:a,name:e,loginNames:t.join(","),first:t.length,capabilities:N}}).subscribe({next:e=>{F(e??null),f(!1)},error:()=>{f(!1)}}))},[y,a,e,t,d,u,N,_]);let A=(0,b.useCallback)(l=>C&&C<=p.t.maximumSuggestedUsers&&S?(f(!1),(0,r.t)({items:[...S,...m.noAssigneeOption?[g.v.noAssigneeData]:[]],filter:l,key:e=>e.login||(m.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`})):new Promise((n,t)=>{f(!0),(0,T.fetchQuery)(y,D,{owner:a,name:e,query:l,first:p.t.maximumSuggestedUsers,capabilities:N}).subscribe({next:e=>{if(null!==e&&e.repository?.suggestedActors?.ok){let a=(e.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,T.readInlineData)(V,e)]:[]);e.repository?.suggestedActors?.value.totalCount&&""===l.trim()&&L(e.repository.suggestedActors.value.totalCount),m.noAssigneeOption&&(0,o.O)(l,m.noAssigneeOption?.source?.login??"")&&a.unshift({...g.v.noAssigneeData}),f(!1),n(a)}else t(Error(c.S.couldNotSearchAssignees))},error:e=>{t(e),f(!1)}})}),[C,S,m.noAssigneeOption,y,a,e,N]),w=(0,b.useMemo)(()=>{let e=[];return l.length>0?e=l:t.length>0&&(e=(h?.repository?.suggestedActors?.ok&&h?.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,T.readInlineData)(V,e)]:[])),m.noAssigneeOption?.selected&&e.unshift(g.v.noAssigneeData),e},[t.length,l,h?.repository?.suggestedActors,m.noAssigneeOption?.selected]);(0,b.useEffect)(()=>{(async()=>{v(await A("")),f(!1)})()},[]);let E=(0,b.useMemo)(()=>{let e=(S||[]).find(e=>e.isCopilot),a=[...i||S||[]];return e&&!a.find(e=>e.isCopilot)&&a.unshift(e),a},[S,i]),R=(0,K.u)();return(0,n.jsx)(I,{...m,assignees:w,suggestions:E,repo:e,owner:a,isLoading:k,searchAssignees:A,maximumAssignees:s,viewer:R})}function O({number:e,owner:a,repo:l,assignees:i,suggestions:s,maximumAssignees:r,...o}){let d=(0,T.useRelayEnvironment)(),u=(s?.length||0)>0,[m,g]=(0,b.useState)(!u),[p,y]=(0,b.useState)(null);(0,b.useEffect)(()=>{j.X3||u||(0,x.SD)({environment:d,query:t,variables:{owner:a,name:l,number:e,query:"",first:10}}).subscribe({next:e=>{y(e??null),g(!1)},error:()=>{g(!1)}})},[d,a,l,e,u]);let k=s||(p?.repository?.issueOrPullRequest?.suggestedActors?.ok&&p?.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,T.readInlineData)(V,e)]:[]),f=(0,b.useCallback)(n=>new Promise((i,s)=>{(0,T.fetchQuery)(d,t,{owner:a,name:l,number:e,first:10,query:n}).subscribe({next:e=>{null!==e&&e.repository?.issueOrPullRequest?.suggestedActors?.ok?i((e.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,T.readInlineData)(V,e)]:[])):s(Error(c.S.couldNotSearchAssignees))},error:e=>{s(e)}})}),[d,e,a,l]),h=(0,K.u)();return(0,n.jsx)(I,{...o,repo:l,owner:a,isLoading:m,assignees:i,suggestions:k,searchAssignees:f,maximumAssignees:r,viewer:h})}function U({useQueryForAction:e,repositoryId:a,query:l,issuesToActOn:t,assigneesAppliedToAll:i,assigneesAppliedToSome:s,existingIssueAssignees:r,connectionIds:o,onError:d,onCompleted:u,...c}){let m=(0,T.useRelayEnvironment)(),g=(0,b.useCallback)(n=>{let s=n.filter(e=>!i.some(a=>a.id===e.id)),c=i.filter(e=>!n.some(a=>a.id===e.id)),g={applyAssigneeIds:s.map(e=>e.id),removeAssigneeIds:c.map(e=>e.id)},p={environment:m,optimisticUpdateIds:t,existingIssueAssignees:r,connectionIds:o,onError:e=>{d?.(e)}};e&&a&&l?function({environment:e,optimisticUpdateIds:a,existingIssueAssignees:l,connectionIds:n,input:{query:t,repositoryId:i,applyAssigneeIds:s,removeAssigneeIds:r},onCompleted:o,onError:d}){let u={applyAssigneeIds:s,removeAssigneeIds:r},c={query:t,repositoryId:i,...u};(0,T.commitMutation)(e,{mutation:L,variables:{input:c},updater:e=>A(e,a,l,n,u),optimisticUpdater:e=>A(e,a,l,n,u),onCompleted:e=>o&&o(e),onError:e=>d&&d(e)})}({...p,input:{repositoryId:a,query:l,...g},onCompleted:({updateIssuesBulkByQuery:e})=>{u?.(e?.jobId||void 0)}}):function({environment:e,optimisticUpdateIds:a,existingIssueAssignees:l,connectionIds:n,input:{ids:t,applyAssigneeIds:i,removeAssigneeIds:s},onCompleted:r,onError:o}){let d={applyAssigneeIds:i,removeAssigneeIds:s},u={ids:t,...d};(0,T.commitMutation)(e,{mutation:N,variables:{input:u},updater:e=>A(e,a,l,n,d),optimisticUpdater:e=>A(e,a,l,n,d),onCompleted:e=>r&&r(e),onError:e=>o&&o(e)})}({...p,input:{ids:[...t],...g},onCompleted:({updateIssuesBulk:e})=>{u?.(e?.jobId||void 0)}})},[i,o,m,r,t,u,d,l,a,e]);return(0,n.jsx)(M,{...c,assignees:i,assigneeTokens:[],onSelectionChange:g,includeAssignableBots:!0,includeAuthorableBots:!1})}let H=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{R.displayName||(R.displayName="AssigneePicker")}catch{}try{M.displayName||(M.displayName="AssigneeRepositoryPicker")}catch{}try{B.displayName||(B.displayName="AssigneeRepositoryPickerInternal")}catch{}try{O.displayName||(O.displayName="AssigneePickerInternal")}catch{}try{U.displayName||(U.displayName="BulkIssuesAssigneePicker")}catch{}},72274:(e,a,l)=>{l.d(a,{u:()=>u});let n=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[e,a,l,n,t,i,s],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[e,l,n,t,i,s],type:"Actor",abstractKey:"__isActor"}],storageKey:null}]},params:{id:"6987ff2f32d01960d1bbe40dda9de91d",metadata:{},name:"useViewerSafeViewerSharedQuery",operationKind:"query",text:null}}}();n.hash="5a013278916f7fee830e1904fafc0041";var t=l(30721),i=l(71315),s=l(43755),r=l(96540),o=l(18312);l(69487);var d=l(47234);function u(){let e=(0,o.useRelayEnvironment)(),{currentUser:a}=(0,s.J)(),[l,u]=(0,r.useState)(a);return i.X3||l||(0,t.SD)({environment:e,query:n,variables:{}}).subscribe({next:e=>{e.safeViewer&&u((0,d.uX)(e.safeViewer))}}),l}},62539:(e,a,l)=>{function n(e,a,l){let n=l.toLowerCase().trim(),t=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(n)),i=a.filter(e=>!t.some(a=>a.id===e.id));return i.sort((e,a)=>e.isCopilot!==a.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(a.login)),t.concat(i)}l.d(a,{D$:()=>i,OG:()=>s,c2:()=>t,iM:()=>n}),l(74848),l(77430);let t={groupId:"assignees"},i={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},s=(e,a)=>0===e.length?i.groupId:e.find(e=>e.id===a.id)?t.groupId:i.groupId},81289:(e,a,l)=>{l.d(a,{y:()=>s});var n=l(74848),t=l(83494),i=l(96540);function s({anchorElement:e,createChild:a,keybindingCommandId:l}){let[s,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),d=(0,i.useCallback)(()=>{s||r(!0)},[s,r]);return s?a():(0,n.jsxs)(n.Fragment,{children:[l&&(0,n.jsx)(t.ak,{commands:{[l]:d}}),e({onClick:()=>r(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),r(!0))}},o)]})}try{s.displayName||(s.displayName="LazyItemPicker")}catch{}},46377:(e,a,l)=>{l.d(a,{_:()=>u});var n=l(74848),t=l(52446),i=l(55847),s=l(75177),r=l(1002),o=l(96540);let d={title:"SharedPicker-module__title--CNycE",pickerContentContainer:"SharedPicker-module__pickerContentContainer--Rgp_C",pickerLabelText:"SharedPicker-module__pickerLabelText--JSlao",leadingIconContainer:"SharedPicker-module__leadingIconContainer--LQhJ_",dashedPickerButton:"SharedPicker-module__dashedPickerButton--VyqkO",hotkeyBadge:"SharedPicker-module__hotkeyBadge--nXrIA"},u=(0,o.forwardRef)(({leadingIconElement:e,anchorText:a,anchorProps:l,sharedPickerMainValue:u,ariaLabel:c,readonly:m,size:g,nested:p=!1,leadingIcon:y,hotKey:k,ariaLabelledBy:f,compressedTitle:h},b)=>{let F={"aria-labelledby":f,"aria-label":f?void 0:c,"aria-description":o.useMemo(()=>{let e;if(u)return e="string"==typeof u?u:h||"",`Currently selected: ${e}`},[u,h]),"aria-disabled":p?m:void 0,disabled:m};if(p){let i=u?e:y&&(0,n.jsx)(y,{});return(0,n.jsxs)(t.l.Item,{...l,...F,role:"menuitem",children:[i?(0,n.jsx)(t.l.LeadingVisual,{children:i}):null,a]})}return u?(0,n.jsx)(i.Q,{ref:b,size:g||"small",...l,...F,children:(0,n.jsxs)("div",{className:d.pickerContentContainer,children:[(0,n.jsx)("div",{className:d.pickerLabelText,children:a}),(0,n.jsx)(s.A,{sx:{display:e?"flex":"none","> *:not(:last-child)":{}},className:d.leadingIconContainer,children:e}),(0,n.jsx)("div",{className:d.title,children:(0,n.jsx)(r.A,{title:h??u.toString()??"",children:u})})]})}):(0,n.jsx)(i.Q,{ref:b,size:"small",leadingVisual:y,trailingVisual:k?()=>(0,n.jsx)("div",{className:d.hotkeyBadge,children:k}):void 0,className:d.dashedPickerButton,...F,...l,children:a})});u.displayName="SharedPicker"},81709:(e,a,l)=>{l.d(a,{j:()=>o});var n=l(74848),t=l(73454),i=l(9745),s=l(96540);let r={errorOverlayContainer:"useItemPickerErrorFallback-module__errorOverlayContainer--Z5I2C",errorWithRetry:"useItemPickerErrorFallback-module__errorWithRetry--kl8Hn"};function o({errorMessage:e,anchorElement:a,open:l=!1}){let[o,d]=(0,s.useState)(l);return{createFallbackComponent:(0,s.useCallback)(l=>a?(0,n.jsx)(i.T,{width:"medium",height:"small",open:o,onOpen:()=>d(!0),onClose:()=>d(!1),renderAnchor:a,children:(0,n.jsx)("div",{className:r.errorOverlayContainer,children:(0,n.jsx)(t.h,{message:e,retry:l,className:r.errorWithRetry})})}):null,[a,e,o])}}},71223:(e,a,l)=>{l.d(a,{Ir:()=>D,_g:()=>V,mK:()=>O,fH:()=>P,uX:()=>A});var n=l(74848);let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},a={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"number"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},t={defaultValue:null,kind:"LocalArgument",name:"query"},i=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],s=[{kind:"Variable",name:"number",variableName:"number"}],r=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},g={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},y=[{kind:"InlineFragment",selections:[o,d,u,c,m,g,p],type:"Actor",abstractKey:"__isActor"}],k={kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e,a,l,n,t],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"CatchField",field:{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:y,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:y,args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],storageKey:null},to:"RESULT"}],type:"Assignable",abstractKey:"__isAssignable"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,l,t,e],kind:"Operation",name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,u,c,m,g,p],type:"Actor",abstractKey:"__isActor"},k],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"},k],storageKey:null},d],storageKey:null}]},params:{id:"c9c26efcd2b583ca34fa2ed3ff954044",metadata:{},name:"AssigneePickerSearchAssignableUsersQuery",operationKind:"query",text:null}}}();t.hash="ee5c405820f52b75989c045710de70ff";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"capabilities"},a={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"loginNames"},n={defaultValue:null,kind:"LocalArgument",name:"name"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},i={defaultValue:null,kind:"LocalArgument",name:"query"},s=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],r=[{kind:"Variable",name:"capabilities",variableName:"capabilities"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"loginNames",variableName:"loginNames"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},g={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},y=[o,d,u,c,m,g,p],k={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null};return{fragment:{argumentDefinitions:[e,a,l,n,t,i],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"CatchField",field:{alias:null,args:r,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:y,args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:y,args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"},k],storageKey:null},to:"RESULT"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,i,l,a,e],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d,u,c,m,g,p],storageKey:null},k],storageKey:null},d],storageKey:null}]},params:{id:"b36a312018eec905824d57e14eeeae2f",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersQuery",operationKind:"query",text:null}}}();i.hash="25916d418c62935dc6fed6e62acb94cb";let s={kind:"InlineDataFragment",name:"AssigneePickerAssignee"};s.hash="51e29765673901bbb4036060ed44d2ea";var r=l(12360),o=l(84363),d=l(24453),u=l(77430),c=l(62539),m=l(33987),g=l(67126),p=l(19918),y=l(49275),k=l(38143),f=l(86391),h=l(81289),b=l(30721),F=l(71315),S=l(43258),I=l(46747),v=l(21654),C=l(96540),x=l(18312),j=l(90388);let T=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkByQueryMutation",selections:a},params:{id:"444de2e3bd553d455e56a1c83ac051a8",metadata:{},name:"updateIssueAssigneesBulkByQueryMutation",operationKind:"mutation",text:null}}}();T.hash="f7a9c293e5cc80562b7a7c7fe81ed937";let K=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkMutation",selections:a},params:{id:"81d7ed8a6e6b63c1b5a5f777e63cf5d2",metadata:{},name:"updateIssueAssigneesBulkMutation",operationKind:"mutation",text:null}}}();K.hash="0ba96eec20babdc2170405884532fc45";var L=l(69487);function N(e,a,l,n,t){for(let i of a){if(!e.get(i))return;let a=n[i]?.map(a=>e.get(a));t.applyAssigneeIds.map(n=>{if(l.get(i)?.includes(n))return;let t=e.get(n);t&&a?.filter(e=>e).map(a=>{let l=a&&L.ConnectionHandler.createEdge(e,a,t,"AssigneeEdge");l&&L.ConnectionHandler.insertEdgeBefore(a,l)})}),t.removeAssigneeIds.map(e=>{a?.filter(e=>e).map(a=>a&&L.ConnectionHandler.deleteNode(a,e))})}}let _={assigneePickerContainer:"AssigneePicker-module__assigneePickerContainer--R4yS0"};function A(e){return(0,x.readInlineData)(E,e)}async function P(e,a){let{owner:l,repo:n,assignees:t,capabilities:i}=a,s=await (0,b.SD)({environment:e,query:w,variables:{owner:l,name:n,loginNames:t.join(",")??[],first:t.length??0,capabilities:i}}).toPromise();return s?.repository?.suggestedActors?.ok?(s?.repository?.suggestedActors?.value.nodes??[]).filter(e=>!!e).map(e=>A(e)):[]}let w=i,E=s;function D({anchorElement:e,shortcutEnabled:a,...l}){return(0,n.jsx)(h.y,{anchorElement:(a,l)=>e(a,l),createChild:()=>(0,n.jsx)(M,{anchorElement:(a,l)=>e(a,l),shortcutEnabled:a,triggerOpen:!0,...l}),insidePortal:l.insidePortal,keybindingCommandId:U(l.name)})}function V({shortcutEnabled:e,anchorElement:a,...l}){return(0,n.jsx)(h.y,{anchorElement:(e,l)=>a(e,l),keybindingCommandId:U(l.name),createChild:()=>(0,n.jsx)(R,{shortcutEnabled:e,anchorElement:a,triggerOpen:!0,...l})})}function R({repo:e,owner:a,assignees:l,assigneeTokens:t,suggestions:i,maximumAssignees:s,includeAssignableBots:r,includeAuthorableBots:u,...c}){let p=(0,x.useRelayEnvironment)(),[f,h]=(0,C.useState)(!1),[S,I]=(0,C.useState)(null),[v,j]=(0,C.useState)(null),[T,K]=(0,C.useState)(null),L=(0,C.useMemo)(()=>(0,m.M)({includeAssignableBots:r,includeAuthorableBots:u}),[r,u]),N=t.length>0;(0,C.useEffect)(()=>{!F.X3&&N&&(h(!0),(0,b.SD)({environment:p,query:w,variables:{owner:a,name:e,loginNames:t.join(","),first:t.length,capabilities:L}}).subscribe({next:e=>{I(e??null),h(!1)},error:()=>{h(!1)}}))},[p,a,e,t,r,u,L,N]);let _=(0,C.useCallback)(l=>T&&T<=k.t.maximumSuggestedUsers&&v?(h(!1),(0,o.t)({items:[...v,...c.noAssigneeOption?[y.v.noAssigneeData]:[]],filter:l,key:e=>e.login||(c.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`})):new Promise((n,t)=>{h(!0),(0,x.fetchQuery)(p,w,{owner:a,name:e,query:l,first:k.t.maximumSuggestedUsers,capabilities:L}).subscribe({next:e=>{if(null!==e&&e.repository?.suggestedActors?.ok){let a=(e.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,x.readInlineData)(E,e)]:[]);e.repository?.suggestedActors?.value.totalCount&&""===l.trim()&&K(e.repository.suggestedActors.value.totalCount),c.noAssigneeOption&&(0,d.O)(l,c.noAssigneeOption?.source?.login??"")&&a.unshift({...y.v.noAssigneeData}),h(!1),n(a)}else t(Error(g.S.couldNotSearchAssignees))},error:e=>{t(e),h(!1)}})}),[T,v,c.noAssigneeOption,p,a,e,L]),A=(0,C.useMemo)(()=>{let e=[];return l.length>0?e=l:t.length>0&&(e=(S?.repository?.suggestedActors?.ok&&S?.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,x.readInlineData)(E,e)]:[])),c.noAssigneeOption?.selected&&e.unshift(y.v.noAssigneeData),e},[t.length,l,S?.repository?.suggestedActors,c.noAssigneeOption?.selected]);(0,C.useEffect)(()=>{(async()=>{j(await _("")),h(!1)})()},[]);let P=(0,C.useMemo)(()=>{let e=(v||[]).find(e=>e.isCopilot),a=[...i||v||[]];return e&&!a.find(e=>e.isCopilot)&&a.unshift(e),a},[v,i]);return(0,n.jsx)(B,{...c,assignees:A,suggestions:P,repo:e,owner:a,isLoading:f,searchAssignees:_,maximumAssignees:s})}function M({number:e,owner:a,repo:l,assignees:i,suggestions:s,maximumAssignees:r,...o}){let d=(0,x.useRelayEnvironment)(),u=(s?.length||0)>0,[c,m]=(0,C.useState)(!u),[p,y]=(0,C.useState)(null);(0,C.useEffect)(()=>{F.X3||u||(0,b.SD)({environment:d,query:t,variables:{owner:a,name:l,number:e,query:"",first:10}}).subscribe({next:e=>{y(e??null),m(!1)},error:()=>{m(!1)}})},[d,a,l,e,u]);let k=s||(p?.repository?.issueOrPullRequest?.suggestedActors?.ok&&p?.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,x.readInlineData)(E,e)]:[]),f=(0,C.useCallback)(n=>new Promise((i,s)=>{(0,x.fetchQuery)(d,t,{owner:a,name:l,number:e,first:10,query:n}).subscribe({next:e=>{null!==e&&e.repository?.issueOrPullRequest?.suggestedActors?.ok?i((e.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,x.readInlineData)(E,e)]:[])):s(Error(g.S.couldNotSearchAssignees))},error:e=>{s(e)}})}),[d,e,a,l]);return(0,n.jsx)(B,{...o,repo:l,owner:a,isLoading:c,assignees:i,suggestions:k,maximumAssignees:r,searchAssignees:f})}function B({assignees:e,suggestions:a,searchAssignees:l,onSelectionChange:t,insidePortal:i,anchorElement:s,nested:o,isLoading:d=!1,noAssigneeOption:m,triggerOpen:h,selectionVariant:b="multiple",title:F,maximumAssignees:x,name:T="assignee",showNoMatchItem:K=!1}){let[L,N]=(0,C.useState)(""),[A,P]=(0,C.useState)(void 0),[w,E]=(0,C.useState)(e),D=(0,C.useRef)(L),V=(0,j.u)(),{addToast:R}=(0,S.Y6)();(0,C.useEffect)(()=>{E(e)},[e]);let M=(0,C.useCallback)(e=>e.login,[]),B=(0,C.useMemo)(()=>{let l=[];if(l=A?(0,c.iM)(e,A,L):(0,c.iM)(e,e.concat(a.filter(a=>!e.find(e=>e.login===a.login))),L),V){let e=l.findIndex(e=>e.login===V.login);if(-1!==e)l.splice(e,1);else if(A)return l;l.unshift(V)}return!m||m.selected||l.find(e=>e.id===y.v.noAssigneeData.id)||l.unshift(y.v.noAssigneeData),l},[A,V,m,e,L,a]),O=(0,C.useCallback)(a=>(0,c.OG)(e,a),[e]),H=(0,C.useMemo)(()=>!!(x&&w.length>=x),[w.length,x]),$=(0,C.useCallback)(e=>{let a=w.some(a=>a.id===e.id),l=H&&!a;if(m&&e.id===y.v.noAssigneeData.id){let a={...m};return a.groupId=O(e),a.disabled=l,a}if(K&&e.id===y.v.noMatchData.id)return{...y.v.noMatchData,groupId:O(e),source:e,text:`${T}:${L}`,sx:{wordBreak:"break-word"},disabled:l};let t=e.isCopilot;return{id:e.id,text:t?p.k.copilotDisplayName:e.login,description:t?p.k.copilotDescription:e.name??"",source:e,groupId:O(e),leadingVisual:()=>t?(0,n.jsx)(r.C,{}):0===e.avatarUrl.length?null:(0,n.jsx)(u.r,{alt:e.login,src:e.avatarUrl}),trailingVisual:()=>"bot"===e.type?(0,n.jsx)(v.A,{children:"bot"}):null,sx:{wordBreak:"break-word"},disabled:l}},[L,O,T,m,K,H,w]),q=(0,C.useCallback)(()=>{P(void 0)},[]),Q=(0,C.useCallback)(async e=>{if(""===e)return void P(void 0);try{let a=await l(e),n=D.current;e.trim()===n.trim()&&P(a)}catch{R({type:"error",message:g.S.couldNotSearchAssignees})}},[R,l]),z=(0,I.d)(e=>Q(e),k.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),W=(0,C.useCallback)(e=>{let a=e.trim();L!==a&&(z(a),N(e),D.current=a)},[z,L]),G=(0,C.useCallback)(e=>{let a=new Set(B.map(e=>e.id)),l=new Set(e.map(e=>e.id));E([...e,...w.filter(e=>!a.has(e.id)&&!l.has(e.id))])},[w,B]),X=(0,C.useMemo)(()=>{let a=[],l=B.filter(a=>e.find(e=>e.id===a.id)),n=B.filter(a=>!e.find(e=>e.id===a.id));return l.length>0&&a.push(c.c2),n.length>0&&a.push(c.D$),a},[e,B]),Y=(0,C.useRef)(null),J=(0,C.useMemo)(()=>!K&&0===B.length,[K,B.length]);return(0,n.jsx)("div",{className:_.assigneePickerContainer,children:(0,n.jsx)(f.O,{items:B,initialSelectedItems:e,loading:d,filterItems:W,title:F||p.k.assigneesHeader(x??10),getItemKey:M,triggerOpen:h,convertToItemProps:$,placeholderText:p.k.filterUsers(T),selectionVariant:1===x?"single":b||"multiple",onSelectionChange:t,onLiveSelectionChange:G,onClose:q,renderAnchor:e=>s(e,Y),groups:X,insidePortal:i,height:"large",width:"medium",nested:o,resultListAriaLabel:"User results",selectPanelRef:Y,notice:x&&H?{text:p.k.limitWarning(x),variant:"warning"}:void 0,customNoMatchItem:K?{id:y.v.noMatchData.id,avatarUrl:y.v.noMatchData.avatarUrl,login:L}:void 0,improvedNoMatchAccessibility:J,noMatchMessage:J?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,keybindingCommandId:U(T)})})}function O({useQueryForAction:e,repositoryId:a,query:l,issuesToActOn:t,assigneesAppliedToAll:i,assigneesAppliedToSome:s,existingIssueAssignees:r,connectionIds:o,onError:d,onCompleted:u,...c}){let m=(0,x.useRelayEnvironment)(),g=(0,C.useCallback)(n=>{let s=n.filter(e=>!i.some(a=>a.id===e.id)),c=i.filter(e=>!n.some(a=>a.id===e.id)),g={applyAssigneeIds:s.map(e=>e.id),removeAssigneeIds:c.map(e=>e.id)},p={environment:m,optimisticUpdateIds:t,existingIssueAssignees:r,connectionIds:o,onError:e=>{d?.(e)}};e&&a&&l?function({environment:e,optimisticUpdateIds:a,existingIssueAssignees:l,connectionIds:n,input:{query:t,repositoryId:i,applyAssigneeIds:s,removeAssigneeIds:r},onCompleted:o,onError:d}){let u={applyAssigneeIds:s,removeAssigneeIds:r},c={query:t,repositoryId:i,...u};(0,x.commitMutation)(e,{mutation:T,variables:{input:c},updater:e=>N(e,a,l,n,u),optimisticUpdater:e=>N(e,a,l,n,u),onCompleted:e=>o&&o(e),onError:e=>d&&d(e)})}({...p,input:{repositoryId:a,query:l,...g},onCompleted:({updateIssuesBulkByQuery:e})=>{u?.(e?.jobId||void 0)}}):function({environment:e,optimisticUpdateIds:a,existingIssueAssignees:l,connectionIds:n,input:{ids:t,applyAssigneeIds:i,removeAssigneeIds:s},onCompleted:r,onError:o}){let d={applyAssigneeIds:i,removeAssigneeIds:s},u={ids:t,...d};(0,x.commitMutation)(e,{mutation:K,variables:{input:u},updater:e=>N(e,a,l,n,d),optimisticUpdater:e=>N(e,a,l,n,d),onCompleted:e=>r&&r(e),onError:e=>o&&o(e)})}({...p,input:{ids:[...t],...g},onCompleted:({updateIssuesBulk:e})=>{u?.(e?.jobId||void 0)}})},[i,o,m,r,t,u,d,l,a,e]);return(0,n.jsx)(V,{...c,assignees:i,assigneeTokens:[],onSelectionChange:g,includeAssignableBots:!0,includeAuthorableBots:!1})}let U=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{D.displayName||(D.displayName="AssigneePicker")}catch{}try{V.displayName||(V.displayName="AssigneeRepositoryPicker")}catch{}try{R.displayName||(R.displayName="AssigneeRepositoryPickerInternal")}catch{}try{M.displayName||(M.displayName="AssigneePickerInternal")}catch{}try{B.displayName||(B.displayName="ItemPickerWrapper")}catch{}try{O.displayName||(O.displayName="BulkIssuesAssigneePicker")}catch{}},72429:(e,a,l)=>{l.d(a,{Ir:()=>r,_g:()=>o,fH:()=>c,mK:()=>d,uX:()=>u});var n=l(74848),t=l(69599),i=l(47234),s=l(71223);function r(e){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,n.jsx)(i.Ir,{...e}):(0,n.jsx)(s.Ir,{...e})}function o(e){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,n.jsx)(i._g,{...e}):(0,n.jsx)(s._g,{...e})}function d(e){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,n.jsx)(i.mK,{...e}):(0,n.jsx)(s.mK,{...e})}function u(e){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,i.uX)(e):(0,s.uX)(e)}function c(e,a){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,i.fH)(e,a):(0,s.fH)(e,a)}try{r.displayName||(r.displayName="AssigneePicker")}catch{}try{o.displayName||(o.displayName="AssigneeRepositoryPicker")}catch{}try{d.displayName||(d.displayName="BulkIssuesAssigneePicker")}catch{}},52927:(e,a,l)=>{l.d(a,{$H:()=>M,ZQ:()=>B,uF:()=>D,iT:()=>P,RX:()=>w,iO:()=>E});var n,t,i=l(74848);let s={kind:"InlineDataFragment",name:"IssueTypePickerIssueType"};s.hash="0c223d6af5ad63c9b9e4b8a624f01688";let r={kind:"InlineDataFragment",name:"IssueTypePickerPaginated"};r.hash="df15437c426d213fd902540377a337ed";let o=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueTypesPageSize"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},m={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},g=[{kind:"Variable",name:"first",variableName:"issueTypesPageSize"}];return{fragment:{argumentDefinitions:[e,a,l],kind:"Fragment",metadata:null,name:"IssueTypePickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerPaginated",selections:[{alias:"issueTypes",args:null,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"__Repository_issueTypes_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:[t,i,s,r,o],args:null,argumentDefinitions:[]},d],storageKey:null},u],storageKey:null},c,m],storageKey:null}],args:[{kind:"Variable",name:"issueTypesPageSize",variableName:"issueTypesPageSize"}],argumentDefinitions:[e]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,l,e],kind:"Operation",name:"IssueTypePickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:g,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[t,i,s,r,o,d],storageKey:null},u],storageKey:null},c,m],storageKey:null},{alias:null,args:g,filters:null,handle:"connection",key:"Repository_issueTypes",kind:"LinkedHandle",name:"issueTypes"},t],storageKey:null}]},params:{id:"827cadfdeccb6a9d97e37d3d2181fd82",metadata:{},name:"IssueTypePickerQuery",operationKind:"query",text:null}}}();o.hash="af4d71f1b762a40abc70ae6a6f939966";var d=l(18815),u=l(19918),c=l(49275),m=l(86391),g=l(81289),p=l(46377),y=l(81709),k=l(30721),f=l(71315),h=l(30459),b=l(38621),F=l(55847),S=l(34164),I=l(96540),v=l(18312);let C=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeBulkByQueryMutation",selections:a},params:{id:"426a619c52646608c381f8ebf2927e90",metadata:{},name:"updateIssueIssueTypeBulkByQueryMutation",operationKind:"mutation",text:null}}}();C.hash="73076489d1e36668033ad5ed8e6224de";let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeBulkMutation",selections:a},params:{id:"fb9fd5943d51bf5311dec5a35836db2d",metadata:{},name:"updateIssueIssueTypeBulkMutation",operationKind:"mutation",text:null}}}();function j(e,a,l){for(let n of a){let a=e.get(n);if(!a)return;let t=l?e.get(l):null;if(!t){a.setValue(null,"issueType");continue}a.setLinkedRecord(t,"issueType")}}x.hash="80e52862748dd652ae22e4d09c73a917";var T=l(14307),K=l(75177);let L={issueTypeDot:"IssueTypeDot-module__issueTypeDot--mRa_V"},N=({color:e})=>{let a=T.i4.find(a=>a===e),{fg:l}=(0,T.Wk)(a);return(0,i.jsx)(K.A,{sx:{backgroundColor:`${l}`},className:L.issueTypeDot})};try{N.displayName||(N.displayName="IssueTypeDot")}catch{}let _={issueTypePickerButton:"IssueTypePicker-module__issueTypePickerButton--akIKV",issueTypePickerLabel:"IssueTypePicker-module__issueTypePickerLabel--Y3noB"},A={issueTypeColorIndicator:"IssueTypePickerItemLeadingVisual-module__issueTypeColorIndicator--ht9gH"};try{(n=IssueTypePickerItemLeadingVisual).displayName||(n.displayName="IssueTypePickerItemLeadingVisual")}catch{}let P="UNSET";async function w(e,a){let{pageSize:l=10,owner:n,repo:t}=a,i=await (0,v.fetchQuery)(e,o,{owner:n,repo:t,issueTypesPageSize:l},{fetchPolicy:"store-or-network"}).toPromise();if(!i?.repository)return[];let d=(0,v.readInlineData)(r,i.repository);return(d?.issueTypes?.edges?.flatMap(e=>e?.node)??[]).filter(e=>!!e).map(e=>(0,v.readInlineData)(s,e))}function E(e){return(0,v.readInlineData)(s,e)}function D({shortcutEnabled:e,anchorElement:a,...l}){return(0,i.jsx)(g.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:e=>a(e),createChild:()=>(0,i.jsx)(V,{anchorElement:e=>a(e),shortcutEnabled:e,...l})})}function V({owner:e,repo:a,anchorElement:l,...n}){let t=(0,v.useRelayEnvironment)(),[s,r]=(0,I.useState)(!0),[c,m]=(0,I.useState)(0),[g,p]=(0,I.useState)(!1),[h,b]=(0,I.useState)(null);(0,I.useEffect)(()=>{f.X3||(0,k.SD)({environment:t,query:o,variables:{owner:e,repo:a,issueTypesPageSize:d.En}}).subscribe({next:e=>{b(e.repository??null),r(!1),p(!1)},error:()=>{p(!0),r(!1)}})},[t,c,e,a]);let{createFallbackComponent:F}=(0,y.j)({errorMessage:u.k.cantEditItems("types"),anchorElement:l,open:!0});return g?F(()=>m(e=>e+1)):(0,i.jsx)(R,{repo:a,owner:e,types:h,isLoading:s,anchorElement:l,...n})}function R({title:e=u.k.typesHeader,width:a="large",types:l,activeIssueType:n,showUnset:t=!1,onSelectionChange:o,insidePortal:d,anchorElement:g,isLoading:p,nested:y,issueTypeToken:k,noTypeItem:f}){let[h,b]=(0,I.useState)(""),F=(0,v.readInlineData)(r,l),S=(0,I.useMemo)(()=>F?.issueTypes?.edges?.flatMap(e=>e?.node?[(0,v.readInlineData)(s,e.node)]:[])||[],[F]),C=(0,I.useMemo)(()=>{let e=k&&'"'===k[0]&&'"'===k[k.length-1]?k.slice(1,-1):k;return S.find(a=>a.name===e)},[S,k]),x=(0,I.useMemo)(()=>{let e=S.slice().sort((e,a)=>e.name.localeCompare(a.name));return(f?e.unshift(c.v.noTypeData):t&&e.unshift({id:P,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"," $fragmentType":"IssueTypePickerIssueType"}),h)?e.filter(e=>e.name.toLowerCase().indexOf(h.toLowerCase())>=0):e},[S,h,t,f]),j=(0,I.useCallback)(e=>{b(e)},[]),L=(0,I.useCallback)(e=>e.id,[]),N=(0,I.useCallback)(e=>{let a;return{id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:(a=e.color,function(){let e=T.i4.find(e=>e===a),{bg:l,accent:n}=(0,T.Wk)(e);return(0,i.jsx)(K.A,{sx:{bg:l,borderColor:n},className:A.issueTypeColorIndicator})}),source:e}},[]),_=(0,I.useMemo)(()=>f?.selected?[c.v.noTypeData]:n?[n]:C?[C]:[],[n,C,f]),w=(0,I.useRef)(null),E=(0,I.useMemo)(()=>0===x.length,[x.length]);return(0,i.jsx)(m.O,{loading:p,items:x,initialSelectedItems:_,filterItems:j,title:e,getItemKey:L,convertToItemProps:N,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:o,renderAnchor:e=>g(e),insidePortal:d,height:"large",width:a,nested:y,resultListAriaLabel:"Issue Type results",triggerOpen:!0,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:w,improvedNoMatchAccessibility:E,noMatchMessage:E?{title:"No issue types were found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}function M({onError:e,onCompleted:a,issuesToActOn:l,useQueryForAction:n,repositoryId:t,query:s,activeIssueType:r,...o}){let d=(0,v.useRelayEnvironment)(),{sendAnalyticsEvent:u}=(0,h.s)(),c=(0,I.useCallback)(i=>{let o=1===i.length?i[0]?.id:null;if(!o||o===r?.id)return;let c={environment:d,onError:a=>{e?.(a)}};u("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:r?.id??"",issueTypeId:"UNSET"===o?"":o??"",issueIds:[...l]}),n&&t&&s?function({environment:e,input:{query:a,repositoryId:l,issueTypeId:n},optimisticUpdateIds:t,onCompleted:i,onError:s}){let r={query:a,repositoryId:l};n!==P?r.issueTypeId=n:r.unsetIssueType=!0,(0,v.commitMutation)(e,{mutation:C,variables:{input:r},updater:e=>j(e,t,r.issueTypeId),optimisticUpdater:e=>j(e,t,r.issueTypeId),onCompleted:e=>i&&i(e),onError:e=>s&&s(e)})}({...c,input:{repositoryId:t,query:s,issueTypeId:o},optimisticUpdateIds:l,onCompleted:({updateIssuesBulkByQuery:e})=>{a?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:a,issueTypeId:l},onCompleted:n,onError:t}){let i={ids:a};l!==P?i.issueTypeId=l:i.unsetIssueType=!0,(0,v.commitMutation)(e,{mutation:x,variables:{input:i},updater:e=>j(e,a,i.issueTypeId),optimisticUpdater:e=>j(e,a,i.issueTypeId),onCompleted:e=>n&&n(e),onError:e=>t&&t(e)})}({...c,input:{ids:[...l],issueTypeId:o},onCompleted:({updateIssuesBulk:e})=>{a?.(e?.jobId||void 0)}})},[r?.id,d,l,a,e,s,t,u,n]);return(0,i.jsx)(D,{...o,onSelectionChange:c,showUnset:!0,activeIssueType:r})}let B=(0,I.forwardRef)(({activeIssueType:e,readonly:a,anchorProps:l},n)=>(0,i.jsx)(p._,{anchorText:u.k.noIssueTypes,sharedPickerMainValue:e?.name,anchorProps:a?void 0:l,ariaLabel:u.k.selectIssueTypes,readonly:a,leadingIcon:b.IssueOpenedIcon,hotKey:void 0,ref:n,leadingIconElement:e&&(0,i.jsx)(N,{color:e.color})}));B.displayName="DefaultIssueTypePickerFooterAnchor";try{D.displayName||(D.displayName="IssueTypePicker")}catch{}try{V.displayName||(V.displayName="IssueTypePickerFetcher")}catch{}try{R.displayName||(R.displayName="ItemPickerWrapper")}catch{}try{M.displayName||(M.displayName="BulkIssueIssueTypePicker")}catch{}try{(t=function({activeIssueType:e,ariaLabelledBy:a,readonly:l,anchorProps:n,preselectedIssueTypeName:t}){let s,r,o=(s=e,r=t,s?s.name:r||"None");return(0,i.jsx)(F.Q,{...n,trailingVisual:l?null:b.TriangleDownIcon,"aria-labelledby":a,disabled:l,className:_.issueTypePickerButton,children:(0,i.jsx)("div",{className:(0,S.$)("css-truncate css-truncate-target",_.issueTypePickerLabel),children:o})})}).displayName||(t.displayName="DefaultIssueTypeAnchor")}catch{}},14111:(e,a,l)=>{l.d(a,{ng:()=>J,vF:()=>el,tJ:()=>Z,P5:()=>q});var n=l(74848);let t=function(){var e={defaultValue:100,kind:"LocalArgument",name:"count"},a={defaultValue:"",kind:"LocalArgument",name:"labelNames"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},t={defaultValue:!1,kind:"LocalArgument",name:"shouldQueryByNames"},i=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],s={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null}],storageKey:null},r={kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}},o=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"names",variableName:"labelNames"},r],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[d,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],c={alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[e,a,l,n,t],kind:"Fragment",metadata:null,name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[s,{args:null,kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:o,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:u,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n,t,a,e],kind:"Operation",name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[s,d,{alias:null,args:[{kind:"Literal",name:"first",value:100},r],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:o,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[c],storageKey:null}]}],storageKey:null}]},params:{id:"b480cbd1d6d3f7ba4a98229e88acf3fd",metadata:{},name:"LabelPickerQuery",operationKind:"query",text:null}}}();t.hash="f2a0198cb8fd64daf4870ea252f764be";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],a=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerPermissionQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerPermissionQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"e60f1995c53fa2376cdc9daecf2d8d93",metadata:{},name:"LabelPickerPermissionQuery",operationKind:"query",text:null}}}();i.hash="4a622bc23fd8b89eeafc34a5dbf3e987";let s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"query"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"query",variableName:"query"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[s,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:[e,a,l,n],kind:"Fragment",metadata:null,name:"LabelPickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,l,e],kind:"Operation",name:"LabelPickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:r,storageKey:null}],storageKey:null},s],storageKey:null}]},params:{id:"333d28f33fdb9cce58fd191174d5e4f5",metadata:{},name:"LabelPickerSearchQuery",operationKind:"query",text:null}}}();s.hash="1d380fd2b03ec1012648965c94699afe";let r=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,{kind:"InlineFragment",selections:[{alias:null,args:t,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:["orderBy"],handle:"connection",key:"LabelPicker_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"0633bc3316e383c68b8cf79758253709",metadata:{},name:"LabelPickerAssignedLabelsQuery",operationKind:"query",text:null}}}();r.hash="405b6c032efdc12ea880aa34c2d823ee",function(){var e=["labels"],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:r,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__LabelPicker_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__LabelPicker_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}().hash="405b6c032efdc12ea880aa34c2d823ee";let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],a=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},t=[l,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerClientQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[n,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:t,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerClientQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[n,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"39780e01dde8a3c435960c74c76b0ba6",metadata:{},name:"LabelPickerClientQuery",operationKind:"query",text:null}}}();o.hash="7765624716d622d8f677df004c2a670c";let d=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsListPaginationQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsListPaginationQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"aca48a25a0b7a5db94706bcb01584667",metadata:{},name:"LabelsListPaginationQuery",operationKind:"query",text:null}}}();d.hash="274dd2d68c90b0e42770f48e96f392dc";let u=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:d,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerLabelsPaginated",selections:[e,{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}}();u.hash="274dd2d68c90b0e42770f48e96f392dc";let c={kind:"InlineDataFragment",name:"LabelPickerLabel"};c.hash="588236f5485d473e68f4a74b65c0b653";var m=l(69599),g=l(84363),p=l(24453),y=l(73017),k=l(96540),f=l(19918),h=l(75177);let b={labelDotsContainer:"LabelDots-module__labelDotsContainer--sNiXI",labelDot:"LabelDots-module__labelDot--MZUOf"},F=({MAX_DISPLAYED_LABELS:e=5,labelColors:a})=>(0,n.jsx)("div",{className:b.labelDotsContainer,children:a.slice(0,e).map((e,a)=>(0,n.jsx)(h.A,{sx:{backgroundColor:`#${e}`},className:b.labelDot},`${a}-${e}`))});try{F.displayName||(F.displayName="LabelDots")}catch{}var S=l(46377);let I=(0,k.forwardRef)(({size:e="large",labelNamesWithColor:a,anchorProps:l,MAX_DISPLAYED_LABELS:t=5,readonly:i,leadingIcon:s,hotKey:r,anchorText:o},d)=>{let u=a.slice(0,t).map(e=>e.nameHTML).join(", ").concat(a.length>t?`, ${a.length-t}+`:"");return(0,n.jsx)(S._,{anchorProps:l,readonly:i,anchorText:o||(a.length>1?f.k.labels:f.k.noLabels),sharedPickerMainValue:a.length>0&&(0,n.jsx)(v,{labelNamesWithColor:a,MAX_DISPLAYED_LABELS:t,compressedLabelTitle:u}),leadingIconElement:a.length>0&&(0,n.jsx)(F,{MAX_DISPLAYED_LABELS:t,labelColors:a.map(e=>e.color)}),ariaLabel:f.k.selectLabels,size:e,leadingIcon:s,hotKey:r,ref:d,compressedTitle:u})});I.displayName="CompressedLabelsToken";let v=({compressedLabelTitle:e})=>(0,n.jsx)(y.JR,{html:e});try{v.displayName||(v.displayName="LabelNames")}catch{}var C=l(67126),x=l(14034),j=l(49275);let T={labelPageSuffix:"/issues/labels"};var K=l(38143),L=l(86391),N=l(81289),_=l(81709),A=l(30721),P=l(71315),w=l(43258),E=l(46747),D=l(38621),V=l(94016),R=l(18312);let M=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateLabelPayload",kind:"LinkedField",name:"createLabel",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createLabelMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createLabelMutation",selections:a},params:{id:"94488330b364e21d44a402f834159915",metadata:{},name:"createLabelMutation",operationKind:"mutation",text:null}}}();M.hash="1231f9e8c535596d6c60dcdbb81792a6";let B=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueLabelsBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueLabelsBulkByQueryMutation",selections:a},params:{id:"b9a4afc78884025457f655e918413b6a",metadata:{},name:"updateIssueLabelsBulkByQueryMutation",operationKind:"mutation",text:null}}}();B.hash="bc300fe790ca50bd21facb091f332359";let O=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueLabelsBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueLabelsBulkMutation",selections:a},params:{id:"9ef106ee92414640a838c24d1eb80da7",metadata:{},name:"updateIssueLabelsBulkMutation",operationKind:"mutation",text:null}}}();O.hash="f8114faeed7756ecaffd9baca9e555e5";var U=l(69487);function H(e,a,l,n,t){for(let i of a){if(!e.get(i))return;let a=n[i]?.map(a=>e.get(a));t.applyLabelIds.map(n=>{if(l.get(i)?.includes(n))return;let t=e.get(n);t&&a?.filter(e=>e).map(a=>{let l=a&&U.ConnectionHandler.createEdge(e,a,t,"LabelEdge");l&&U.ConnectionHandler.insertEdgeBefore(a,l)})}),t.removeLabelIds.map(e=>{a?.filter(e=>e).map(a=>a&&U.ConnectionHandler.deleteNode(a,e))})}}let $={labelNameText:"LabelPicker-module__labelNameText--c_l1T",labelColorBox:"LabelPicker-module__labelColorBox--xsicx",labelPickerContainer:"LabelPicker-module__labelPickerContainer--epcS8"};function q(e){return(0,R.readInlineData)(Q,e)}let Q=c,z=(0,k.forwardRef)(({size:e="small",labels:a,anchorProps:l,displayHotkey:t,MAX_DISPLAYED_LABELS:i=2,readonly:s},r)=>(0,n.jsx)(I,{size:e,labelNamesWithColor:a.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:l,MAX_DISPLAYED_LABELS:i,readonly:s,leadingIcon:D.TagIcon,hotKey:!s&&t?x.w.labelPicker.toUpperCase():void 0,anchorText:a?.length===0?f.k.noLabels:void 0,ref:r}));z.displayName="CompressedLabelAnchor";let W={groupId:"labels"},G={groupId:"favorite",header:{title:"Favorite",variant:"filled"}},X={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},Y={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function J({issuesToActOn:e,existingIssueLabels:a,labelAppliedToAll:l,connectionIds:t,useQueryForAction:i,repositoryId:s,query:r,onCompleted:o,onError:d,...u}){let c=(0,R.useRelayEnvironment)(),m=(0,k.useCallback)(n=>{let u=n.filter(e=>!l.some(a=>a.id===e.id)),m=l.filter(e=>!n.some(a=>e.id===a.id)),g={applyLabelIds:u.map(e=>e.id),removeLabelIds:m.map(e=>e.id)},p={environment:c,optimisticUpdateIds:e,existingIssueLabels:a,connectionIds:t,onError:e=>{d?.(e)}};i&&s&&r?function({environment:e,optimisticUpdateIds:a,existingIssueLabels:l,connectionIds:n,input:{query:t,repositoryId:i,applyLabelIds:s,removeLabelIds:r},onCompleted:o,onError:d}){let u={applyLabelIds:s,removeLabelIds:r},c={query:t,repositoryId:i,...u};(0,R.commitMutation)(e,{mutation:B,variables:{input:c},updater:e=>H(e,a,l,n,u),optimisticUpdater:e=>H(e,a,l,n,u),onCompleted:e=>o&&o(e),onError:e=>d&&d(e)})}({...p,input:{repositoryId:s,query:r,...g},onCompleted:({updateIssuesBulkByQuery:e})=>{o?.(e?.jobId||void 0)}}):function({environment:e,optimisticUpdateIds:a,existingIssueLabels:l,connectionIds:n,input:{ids:t,applyLabelIds:i,removeLabelIds:s},onCompleted:r,onError:o}){let d={applyLabelIds:i,removeLabelIds:s},u={ids:t,...d};(0,R.commitMutation)(e,{mutation:O,variables:{input:u},updater:e=>H(e,a,l,n,d),optimisticUpdater:e=>H(e,a,l,n,d),onCompleted:e=>r&&r(e),onError:e=>o&&o(e)})}({...p,input:{ids:[...e],...g},onCompleted:({updateIssuesBulk:e})=>{o?.(e?.jobId||void 0)}})},[t,c,a,e,l,o,d,r,s,i]);return(0,n.jsx)(Z,{labels:l,onSelectionChanged:m,showEditLabelsButton:!1,...u})}function Z({shortcutEnabled:e,anchorElement:a,showEditLabelsButton:l,...t}){return(0,n.jsx)(N.y,{anchorElement:(e,l)=>a(e,l),createChild:()=>(0,n.jsx)(ee,{anchorElement:a,shortcutEnabled:e,showEditLabelsButton:l,...t}),insidePortal:t.insidePortal,keybindingCommandId:"item-pickers:open-labels"})}function ee({repo:e,owner:a,labels:l,labelNames:r,onSelectionChanged:d,...u}){let c=(0,R.useRelayEnvironment)(),[m,g]=(0,k.useState)(!0),[y,h]=(0,k.useState)(0),[b,F]=(0,k.useState)(!1),[S,I]=(0,k.useState)(null),[v,C]=(0,k.useState)(l),x=`${a}/${e}`,T=(0,R.useClientQuery)(o,{owner:a,repo:e}),L=!!T?.repository?.labels?.nodes?.length,N=(0,k.useRef)(!1);(0,k.useEffect)(()=>{if(!P.X3)if(L){if((0,A.SD)({environment:c,query:i,variables:{owner:a,repo:e}}).subscribe({next:e=>{N.current=e.repository?.viewerIssueCreationPermissions?.labelable||!1,g(!1),F(!1)},error:()=>{F(!0)}}),r){let e=r.map(e=>e.replace(/^"/,"").replace(/"$/,""));C((T.repository?.labels?.nodes||[]).flatMap(a=>{if(!a)return[];let l=(0,R.readInlineData)(Q,a);return e.includes(l.name)?[l]:[]}))}}else(0,A.SD)({environment:c,query:t,variables:{owner:a,repo:e,shouldQueryByNames:r&&r.length>0,labelNames:r?.join(","),count:K.t.labelsInitialLoadCount}}).subscribe({next:e=>{let a=e.repository;N.current=e.repository?.viewerIssueCreationPermissions?.labelable||!1,I(a??null),r&&e.repository?.labelsByNames&&C((e.repository?.labelsByNames.nodes||[]).flatMap(e=>e?[(0,R.readInlineData)(Q,e)]:[])),g(!1),F(!1)},error:()=>{F(!0)}})},[c,y,r,a,e,L,T]);let w=(0,k.useCallback)(l=>new Promise((n,t)=>{(0,R.fetchQuery)(c,s,{query:l,owner:a,repo:e,count:K.t.labelsPageSize}).subscribe({next:e=>{if(null!==e){let a=(e.repository?.labels?.nodes||[]).flatMap(e=>e?[(0,R.readInlineData)(Q,e)]:[]);u.noLabelOption&&(0,p.O)(l,u.noLabelOption?.source?.name??"")&&a.unshift(j.v.noLabelsData),n(a)}},error:e=>{t(e)}})}),[c,a,u.noLabelOption,e]),E=(0,k.useRef)(null),{createFallbackComponent:D}=(0,_.j)({errorMessage:f.k.cantEditItems("labels"),anchorElement:e=>u.anchorElement(e,E),open:!0}),V=(0,k.useMemo)(()=>{let e=r?v:l;return u.noLabelOption?.selected&&!e.find(e=>e.id===j.v.noLabelsData.id)&&e.unshift(j.v.noLabelsData),e},[v,r,l,u.noLabelOption?.selected]);return b?D(()=>h(y+1)):(0,n.jsx)(ea,{repo:e,owner:a,paginatedKey:S,isLoading:m,setIsLoading:g,labels:V,onSelectionChanged:d,searchLabels:w,repoNwo:x,preloadedData:L?T?.repository:void 0,canCreateLabel:N,...u})}function ea({labels:e,copilotSuggestedLabels:a,favoriteLabelIds:l,searchLabels:t,paginatedKey:i,isLoading:s,setIsLoading:r,onSelectionChanged:o,insidePortal:d,anchorElement:c,nested:p=!1,triggerOpen:b=!0,initialFilter:F,repoNwo:S,showEditLabelsButton:I=!0,noLabelOption:v,title:x,showNoMatchItem:N=!1,preloadedData:_,canCreateLabel:A}){let B=(0,m.G7)("issues_react_remove_labels_loading"),[O,U]=(0,k.useState)(""),H=(0,k.useRef)(new Set),[q,z]=(0,k.useState)(!1),[J,Z]=(0,k.useState)([]),{addToast:ee}=(0,w.Y6)(),ea=(0,R.useRelayEnvironment)(),el=(0,R.useFragment)(u,i),et=_?.labels?.totalCount||el?.labels?.totalCount||0,ei=(0,k.useMemo)(()=>{let e=(_?.labels?.nodes||el?.labels?.nodes||[]).flatMap(e=>e?[(0,R.readInlineData)(Q,e)]:[]);return v&&e.unshift(j.v.noLabelsData),e},[el?.labels?.nodes,v,_]),es=t&&et>ei.length,er=(0,k.useMemo)(()=>e.slice().sort((e,a)=>e.name.localeCompare(a.name)),[e]),eo=_?.id||el?.id,ed=(0,k.useCallback)(()=>!!ei.length&&!(J.length>1)&&(!J.length||J[0]?.id===v?.id),[ei.length,J,v?.id]);(0,k.useEffect)(()=>{ed()&&Z(ei)},[ei,ed,Z]);let eu=(0,k.useMemo)(()=>{if(!O){let l=B?J:ei,n=[...er],t=(a??[]).filter(a=>!e.find(e=>e.id===a.id)),i=l.filter(a=>!e.find(e=>e.id===a.id)&&!t.find(e=>e.id===a.id));return n.push(...t,...i),n.slice(0,K.t.labelsInitialLoadCount)}let l=new Map;for(let e of J)l.set(e.id,e);for(let e of a??[])l.has(e.id)||l.set(e.id,e);let n=Array.from(l.values());return(0,g.t)({items:n,filter:O,key:e=>e.name,secondaryKey:e=>`${e.name} ${e.description}`}).slice(0,K.t.labelsInitialLoadCount)},[O,J,B,ei,er,a,e]),ec=(0,k.useCallback)(async e=>{if(!B&&""===e){Z(ei),z(!1);return}if(B&&H.current.has(e))return void z(!1);if(t){z(!0);try{Z(B?en([...J,...await t(e)]):await t(e))}catch{ee({type:"error",message:C.S.couldNotSearchLabels})}finally{z(!1),B&&H.current.add(e)}}},[B,t,ei,J,ee]),em=(0,E.d)(e=>ec(e),K.t.pickerDebounceTime),eg=(0,k.useCallback)(e=>{let a=e.trim();if(O!==a&&es){z(!0),em(a),U(e);return}0!==et&&U(e)},[em,O,es,et]),ep=(0,k.useCallback)(e=>e.id,[]),ey=(0,k.useCallback)((e,a,l)=>{l.preventDefault(),l.stopPropagation(),eo&&(r(!0),function({environment:e,input:a,onError:l,onCompleted:n}){(0,R.commitMutation)(e,{mutation:M,variables:{input:a},onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}({environment:ea,input:{repositoryId:eo,color:a.color,name:a.name},onError:()=>{ee({type:"error",message:C.S.couldNotCreateLabel}),r(!1)},onCompleted:e=>{let a=e?.createLabel?.label;a&&Z([{...a,__isNew__:!0},...J]),r(!1)}}))},[ee,ea,J,eo,r]),ek=(0,k.useCallback)(t=>{let i;if(v&&t.id===j.v.noLabelsData.id){let e={...v};return e.groupId=e.selected?W.groupId:X.groupId,e}if(t.id===O)return{id:t.id,description:t.description||void 0,descriptionVariant:"block",source:t,text:`Create new label: "${t.name}"`,trailingVisual:D.PlusIcon,sx:{wordBreak:"break-word","& [class*=BaseVisualContainer]:first-child":{display:"none"}},onAction:(e,a)=>ey(e,t,a)};let s=(a??[]).some(e=>e.id===t.id),r=(l??[]).some(e=>e===t.id);return i=e.find(e=>e.id===t.id)?W.groupId:r?G.groupId:s?Y.groupId:X.groupId,{id:t.id,description:t.description??void 0,descriptionVariant:"block",children:(0,n.jsx)(y.JR,{html:t.nameHTML,className:$.labelNameText}),source:t,groupId:i,leadingVisual:()=>(0,n.jsx)(h.A,{sx:{bg:`#${t.color}`,borderColor:`#${t.color}`},className:$.labelColorBox})}},[v,O,a,l,e,ey]),ef=(0,k.useMemo)(()=>{let n=[];return e.length>0&&n.push(W),(l??[]).some(a=>!e.some(e=>e.id===a))&&n.push(G),(a??[]).some(a=>!e.some(e=>e.id===a.id)&&l?.indexOf(a.id)===-1)&&n.push(Y),eu.length>0&&eu.length-e.length>0&&n.push(X),n},[e,l,a,eu.length]),eh=(0,k.useMemo)(()=>{if(!S||!P.XC?.location)return;let e=P.XC.location.origin;return`${e}/${S}${T.labelPageSuffix}`},[S]),eb=(0,k.useCallback)(e=>{P.XC?.location?.href&&I&&eh&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),P.XC.location.href=eh))},[eh,I]),eF=(0,k.useRef)(null),eS=(0,k.useMemo)(()=>{let e=!q&&!O&&0===eu.length,a=!(N&&A.current&&!q)&&!!O&&0===eu.length;return e||a},[q,O,eu.length,N,A]);return(0,n.jsx)("div",{className:$.labelPickerContainer,children:(0,n.jsx)(L.O,{loading:B?s:s||q,items:eu,initialSelectedItems:e,title:x||f.k.labelsHeader,filterItems:eg,getItemKey:ep,convertToItemProps:ek,placeholderText:"Filter labels",selectionVariant:0===eu.length?"single":"multiple",onSelectionChange:o,renderAnchor:e=>c(e,eF),groups:O?void 0:ef,insidePortal:d,height:"large",width:"medium",nested:p,resultListAriaLabel:"Label results",triggerOpen:b,initialFilter:F,selectPanelRef:eF,keybindingCommandId:"item-pickers:open-labels",eventsTag:"label",customNoMatchItem:A.current&&N&&O&&!q?{id:O,color:"aaaaaa",name:O,nameHTML:O,description:void 0,url:""}:void 0,suppressNoMatchItem:!0,improvedNoMatchAccessibility:eS,noMatchMessage:eS?{title:"No labels were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,secondaryAction:I?(0,n.jsx)(V.X.SecondaryActionLink,{onClick:eb,href:eh,size:"small",children:f.k.editLabels}):void 0})})}let el=(0,k.forwardRef)(({labels:e,readonly:a,anchorProps:l},t)=>(0,n.jsx)(z,{labels:e,readonly:a,displayHotkey:!1,anchorProps:a?void 0:l,ref:t}));el.displayName="DefaultLabelAnchor";let en=e=>e.filter((e,a,l)=>l.findIndex(a=>a.id===e.id)===a);try{J.displayName||(J.displayName="BulkIssuesLabelPicker")}catch{}try{Z.displayName||(Z.displayName="LabelPicker")}catch{}try{ee.displayName||(ee.displayName="ItemPickerFetcher")}catch{}try{ea.displayName||(ea.displayName="ItemPickerWrapper")}catch{}},80800:(e,a,l)=>{l.d(a,{R:()=>m});var n=l(74848),t=l(19918),i=l(81945),s=l(71315),r=l(75177),o=l(89169);let d=({closed:e,givenDate:a,currentDate:l})=>{let i=e?"short":"long",s=e&&!u(a,l)?void 0:"numeric",r=e&&c(l,a)?"auto":"past",d=e?"auto":"elapsed",m=e?"second":c(a,l)?"month":"day";return(0,n.jsx)(o.A,{date:a,day:"numeric",month:i,tense:u(a,l)?void 0:r,year:s,format:d,precision:m,"data-testid":t.k.testIds.relativeTimeDescription})},u=(e,a)=>{let l=a.getFullYear();return e.getFullYear()<l},c=(e,a)=>{let l=e.getFullYear()-a.getFullYear();return 12*l+(e.getMonth()-a.getMonth())>=1};try{d.displayName||(d.displayName="RelativeTimeDescription")}catch{}let m=({closed:e,closedAt:a,dueOn:l,progressPercentage:o,showProgressPercentage:u=!1})=>{let c=e?a:l;if(!c||!y(c))return t.k.milestones.noDueDate;let m=new Date(c),f=new Date,h=!!l&&new Date(c)<new Date&&!k(m,f);return(0,n.jsx)(r.A,{sx:{color:h&&!e?"danger.fg":"fg.subtle"},children:s.KJ?(0,n.jsxs)(n.Fragment,{children:[g({isPastDate:h,closed:e}),"\xa0",h||e?(0,n.jsx)(d,{closed:e,givenDate:m,currentDate:f}):p(c),o&&u?t.k.milestones.progressPercentage(o):""]}):(0,n.jsx)(i.O,{variant:"rounded",height:"sm",width:"50%"})})},g=({isPastDate:e,closed:a})=>a?t.k.milestones.milestoneClosed:e?t.k.milestones.pastDue:t.k.milestones.milestoneDue,p=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),y=e=>!isNaN(new Date(e).getTime()),k=(e,a)=>e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getUTCDate()===a.getUTCDate();try{m.displayName||(m.displayName="MilestoneDescription")}catch{}},17402:(e,a,l)=>{l.d(a,{C2:()=>V,xJ:()=>M,De:()=>R,Ud:()=>N,Hf:()=>L});var n=l(74848);let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],a=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},t={kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]},i=[l,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MilestonePickerQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerRecentlyUpdatedMilestones",selections:[l,{alias:null,args:[{kind:"Variable",name:"first",variableName:"count"},n,t],concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:i,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MilestonePickerQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,{alias:null,args:[{kind:"Literal",name:"first",value:100},n,t],concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:i,storageKey:null}],storageKey:'milestones(first:100,orderBy:{"direction":"DESC","field":"UPDATED_AT"},orderByStates:["OPEN","CLOSED"])'}],storageKey:null}]},params:{id:"9b31f92435fd0cc6d46c0d8a08fe44c6",metadata:{},name:"MilestonePickerQuery",operationKind:"query",text:null}}}();t.hash="b80ad8f3ffc6cc70e4fc436524c13672";let i={kind:"InlineDataFragment",name:"MilestonePickerRecentlyUpdatedMilestones"};i.hash="d8ba45b33bcbd16ccee7ebe8b72bedc4";let s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"query"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]},{kind:"Variable",name:"query",variableName:"query"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}];return{fragment:{argumentDefinitions:[e,a,l,n],kind:"Fragment",metadata:null,name:"MilestonePickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,l,e],kind:"Operation",name:"MilestonePickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:r,storageKey:null}],storageKey:null},s],storageKey:null}]},params:{id:"b78620a59d76b4f1f411a4115dd7c944",metadata:{},name:"MilestonePickerSearchQuery",operationKind:"query",text:null}}}();s.hash="2d4c6e85fab6a6b2dcaa8d224bf364b7";let r={kind:"InlineDataFragment",name:"MilestonePickerMilestone"};r.hash="94cec103731033abe0392685ad560834";var o=l(24453),d=l(67126),u=l(19918),c=l(49275),m=l(38143),g=l(86391),p=l(81289),y=l(46377),k=l(81709),f=l(30721),h=l(71315),b=l(43258),F=l(46747),S=l(38621),I=l(96540),v=l(18312);let C=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateMilestonePayload",kind:"LinkedField",name:"createMilestone",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createMilestoneMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createMilestoneMutation",selections:a},params:{id:"518920fcb374fb2c22831ce13ceace8b",metadata:{},name:"createMilestoneMutation",operationKind:"mutation",text:null}}}();C.hash="04f6d08fc81ee446c151c8e3f0043366";let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneBulkByQueryMutation",selections:a},params:{id:"52e680dbbb4a420c68b4e9638c87ffd3",metadata:{},name:"updateIssueMilestoneBulkByQueryMutation",operationKind:"mutation",text:null}}}();x.hash="6333d73282a9f34e7953304f1630b1a8";let j=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneBulkMutation",selections:a},params:{id:"b4a8d70a2993b3985ea6c33da5dff412",metadata:{},name:"updateIssueMilestoneBulkMutation",operationKind:"mutation",text:null}}}();function T(e,a,l){for(let n of a){let a=e.get(n);if(a){if(l.clearMilestone)a.setValue(null,"milestone");else if(l.milestoneId){let n=e.get(l.milestoneId);n&&a.setLinkedRecord(n,"milestone")}}}}j.hash="8f0efbb3c0daeec3d566120b9ab8b7f3";var K=l(80800);function L(e){return(0,v.readInlineData)(w,e)}async function N(e,a){let{owner:l,repo:n,query:t,count:i=10}=a,s=await (0,v.fetchQuery)(e,P,{owner:l,repo:n,query:t,count:i}).toPromise();return(s?.repository?.milestones?.nodes||[]).flatMap(e=>e?[L(e)]:[])}let _={groupId:"open",header:{title:"Open",variant:"filled"}},A={groupId:"closed",header:{title:"Closed",variant:"filled"}},P=s,w=r;function E({repo:e,owner:a,...l}){let s=(0,v.useRelayEnvironment)(),[r,o]=(0,I.useState)(!0),[d,c]=(0,I.useState)(0),[m,g]=(0,I.useState)(!1),[p,y]=(0,I.useState)(null);(0,I.useEffect)(()=>{h.X3||(0,f.SD)({environment:s,query:t,variables:{owner:a,repo:e}}).subscribe({next:e=>{let a=(0,v.readInlineData)(i,e.repository),l=a?.milestones?.nodes?.flatMap(e=>e?[L(e)]:[])||[];y({repositoryId:a?.id??"",milestones:l}),o(!1),g(!1)},error:()=>{g(!0),o(!1)}})},[s,d,a,e]);let b=(0,I.useRef)(null),{createFallbackComponent:F}=(0,k.j)({errorMessage:u.k.cantEditItems("milestones"),anchorElement:e=>l.anchorElement(e,b),open:!0});return m?F(()=>c(e=>e+1)):(0,n.jsx)(D,{repo:e,owner:a,repositoryId:p?.repositoryId??"",milestones:p?.milestones??[],isLoading:r,setIsLoading:o,...l})}function D({repo:e,owner:a,milestones:l,repositoryId:t,activeMilestone:i,onSelectionChanged:s,insidePortal:r,anchorElement:p,nested:y,triggerOpen:k,initialFilter:f,isLoading:h,setIsLoading:x,noMilestoneItem:j,showMilestoneDescription:T,title:N,canCreateMilestone:w,showNoMatchItem:E=!1}){let D=(0,v.useRelayEnvironment)(),[V,R]=(0,I.useState)(""),[M,B]=(0,I.useState)(!1),[O,U]=(0,I.useState)(),[H,$]=(0,I.useState)([]),{addToast:q}=(0,b.Y6)(),Q=(0,I.useMemo)(()=>{if(void 0!==O&&O.length>0)return O;let e=l.slice().sort((e,a)=>e.title.localeCompare(a.title)).concat(H);return(j&&e.unshift(c.v.noMilestoneData),V)?e.filter(e=>e.title.toLowerCase().indexOf(V.toLowerCase())>=0):e},[l,V,H,j,O]),z=j&&j.selected,W=(0,I.useMemo)(()=>j?Q.filter(e=>!1===e.closed):[],[j,Q]),G=(0,I.useCallback)(async l=>{B(!0),R(l);try{let n=await (0,v.fetchQuery)(D,P,{query:l,owner:a,repo:e,count:10}).toPromise();if(void 0!==n){let e=(n.repository?.milestones?.nodes||[]).flatMap(e=>e?[L(e)]:[]);j&&(0,o.O)(l,j.source?.title??"")&&e.unshift(c.v.noMilestoneData),U(e)}}catch{q({type:"error",message:d.S.couldNotSearchLabels})}finally{B(!1)}},[q,D,j,a,e]),X=(0,F.d)(e=>G(e),m.t.pickerDebounceTime),Y=(0,I.useCallback)(async e=>{let a=e.trim();if(V!==a){if(""===a){U(void 0),R(a);return}X(a)}},[X,V]),J=(0,I.useCallback)(e=>e.id,[]),Z=(0,I.useCallback)((e,a,l)=>{l.preventDefault(),l.stopPropagation(),t&&(x(!0),function({environment:e,input:a,onError:l,onCompleted:n}){(0,v.commitMutation)(e,{mutation:C,variables:{input:a},onError:e=>l&&l(e),onCompleted:e=>n&&n(e)})}({environment:D,input:{repositoryId:t,title:a.title},onError:()=>{q({type:"error",message:d.S.couldNotCreateMilestone}),x(!1)},onCompleted:e=>{let a=e?.createMilestone?.milestone;a&&$([{...a,__isNew__:!0},...H]),x(!1)}}))},[q,D,H,t,x]),ee=(0,I.useCallback)(e=>{if(j&&e.id===c.v.noMilestoneData.id)return{...j};if(e.id===V)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:S.PlusIcon,sx:{wordBreak:"break-word","& [class*=BaseVisualContainer]:first-child":{display:"none"}},onAction:(a,l)=>Z(a,e,l)};let{closed:a,closedAt:l,progressPercentage:t,dueOn:i}=e;return{id:e.id,text:e.title,description:T?(0,n.jsx)(K.R,{closed:a,closedAt:l,progressPercentage:t,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",sx:{wordBreak:"break-word"},source:e,groupId:e.closed?A.groupId:_.groupId,leadingVisual:()=>(0,n.jsx)(S.MilestoneIcon,{size:16})}},[Z,V,j,T]),ea=(0,I.useMemo)(()=>{let e=[];return Q.some(e=>!e.closed)&&e.push(_),Q.some(e=>e.closed)&&e.push(A),e},[Q]);j&&z&&(i=c.v.noMilestoneData);let el=(0,I.useRef)(null),en=(0,I.useMemo)(()=>i?[i]:[],[i]),et=(0,I.useMemo)(()=>{let e=!M&&!V&&0===Q.length,a=!E&&!!V&&0===Q.length;return e||a},[V,M,Q.length,E]);return(0,n.jsx)(g.O,{loading:h||M,items:j?W:Q,initialSelectedItems:en,filterItems:Y,title:N??u.k.milestonesHeader,getItemKey:J,convertToItemProps:ee,placeholderText:`Filter milestones ${l.length>=m.t.milestonesMaxPreloadCount?`(${m.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:s,groups:j?void 0:ea,renderAnchor:e=>p(e,el),insidePortal:r,height:"large",width:"medium",nested:y,resultListAriaLabel:"Milestone results",triggerOpen:k,initialFilter:f,selectPanelRef:el,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:w&&E&&V?{id:V,closed:!1,progressPercentage:0,title:V,url:""}:void 0,improvedNoMatchAccessibility:et,noMatchMessage:et?{title:"No milestones were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0})}function V({onError:e,onCompleted:a,issuesToActOn:l,useQueryForAction:t,repositoryId:i,query:s,...r}){let o=(0,v.useRelayEnvironment)(),d=(0,I.useCallback)(n=>{let r=1===n.length&&n[0]?.id!=="no-milestone"?n[0]?.id:null,d=n[0]?.id==="no-milestone";if(!r&&!d)return;let u={environment:o,onError:a=>{e?.(a)}};t&&i&&s?function({environment:e,input:{query:a,repositoryId:l,milestoneId:n,clearMilestone:t},onCompleted:i,onError:s}){(0,v.commitMutation)(e,{mutation:x,variables:{input:{query:a,repositoryId:l,milestoneId:n,clearMilestone:t}},onCompleted:e=>i&&i(e),onError:e=>s&&s(e)})}({...u,input:{repositoryId:i,query:s,milestoneId:r||void 0,clearMilestone:d||void 0},onCompleted:({updateIssuesBulkByQuery:e})=>{a?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:a,milestoneId:l,clearMilestone:n},onCompleted:t,onError:i}){let s={milestoneId:l,clearMilestone:n},r={ids:a,...s};(0,v.commitMutation)(e,{mutation:j,variables:{input:r},updater:e=>T(e,a,s),optimisticUpdater:e=>T(e,a,s),onCompleted:e=>t&&t(e),onError:e=>i&&i(e)})}({...u,input:{ids:[...l],milestoneId:r||void 0,clearMilestone:d||void 0},onCompleted:({updateIssuesBulk:e})=>{a?.(e?.jobId||void 0)}})},[o,l,a,e,s,i,t]);return(0,n.jsx)(R,{onSelectionChanged:d,...r})}function R({repo:e,owner:a,shortcutEnabled:l,anchorElement:t,readonly:i,activeMilestone:s,noMilestoneItem:r,...o}){return(0,n.jsx)(p.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:(e,a)=>t(e,a),createChild:()=>(0,n.jsx)(E,{repo:e,owner:a,readonly:i,shortcutEnabled:l,initialFilter:"",activeMilestone:s,triggerOpen:!0,anchorElement:t,noMilestoneItem:r,...o}),insidePortal:o.insidePortal})}let M=(0,I.forwardRef)(({activeMilestone:e,readonly:a,nested:l,anchorProps:t},i)=>(0,n.jsx)(y._,{anchorText:u.k.noMilestones,sharedPickerMainValue:e?.title,anchorProps:a?void 0:t,ariaLabel:u.k.selectMilestones,readonly:a,nested:l,leadingIcon:S.MilestoneIcon,hotKey:void 0,ref:i}));M.displayName="DefaultMilestonePickerAnchor";try{E.displayName||(E.displayName="ItemPickerFetcher")}catch{}try{D.displayName||(D.displayName="ItemPickerWrapper")}catch{}try{V.displayName||(V.displayName="BulkIssueMilestonePicker")}catch{}try{R.displayName||(R.displayName="MilestonePicker")}catch{}},58115:(e,a,l)=>{l.d(a,{k$:()=>eg,Ci:()=>ec,wX:()=>em,vj:()=>ey,Kx:()=>ep});var n=l(74848),t=l(69599),i=l(74563),s=l(19918),r=l(76027),o=l(38143),d=l(86391),u=l(34267),c=l(46377),m=l(83494),g=l(46747),p=l(57019),y=l(38621),k=l(94016),f=l(15033),h=l(96540),b=l(96665);let F=({onClose:e,returnFocusRef:a})=>(0,n.jsx)(b.l,{"aria-label":s.k.projectItemsLimitReachedDialogLabel,title:s.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:a,width:"large",footerButtons:[{content:s.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,n.jsx)("div",{children:s.k.projectItemsLimitReachedDialogMessage})});try{F.displayName||(F.displayName="ProjectItemsLimitReachedDialog")}catch{}let S={groupId:"recent",header:{title:"Recent",variant:"filled"}},I={groupId:"repository",header:{title:"Repository",variant:"filled"}},v={groupId:"organization",header:{title:"Organization",variant:"filled"}},C={groupId:"selected"},x=[],j=[],T=[];function K({filterItems:e,filterResetFn:a,getSelectedProjects:l,initialSelectedItems:c,insidePortal:b,items:K,loading:L=!1,onSelectionChange:N,organizationProjects:_=T,pickerId:A,readonly:P,recentProjects:w=x,renderAnchor:E,repositoryProjects:D=j,title:V,triggerOpen:R=!1}){let[M,B]=(0,h.useState)(K??[]),[O,U]=(0,h.useState)(!1),[H,$]=(0,h.useState)(""),q=(0,g.d)(a=>e&&e(a),o.t.pickerDebounceTime);(0,h.useEffect)(()=>(0===H.length?B(K??[]):q(H),a?.(),()=>{}),[q,H,a,K]),(0,h.useEffect)(()=>{B(K??[])},[K]);let Q=(0,h.useMemo)(()=>l?l([...w,...D,..._]):c,[l,c,_,w,D]),[z,W]=(0,h.useState)(()=>Q.map(e=>e.id));(0,h.useEffect)(()=>{W(Q.map(e=>e.id))},[Q,A]);let G=(0,h.useCallback)((e,a)=>{let{title:l,id:n}=a,t=a.hasReachedItemsLimit&&!Q.some(e=>e.id===n)?"danger":"default",i=a.hasReachedItemsLimit?"block":"inline";return{text:l,description:a.hasReachedItemsLimit?`${s.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:z.includes(n),disabled:!(P||a.viewerCanUpdate),leadingVisual:y.TableIcon,variant:t,sx:{wordBreak:"break-word"}}},[Q,z,P]),X=(0,h.useMemo)(()=>{let e=(D&&D.length>0?D:M)??[],a=e=>(Array.isArray(e)?e:[]).filter(e=>!Q.map(e=>e.id).includes(e.id));return{selected:Q,recent:a(w),repository:a(e),organization:a(_)}},[Q,w,D,_,M]),Y=(0,h.useMemo)(()=>Object.keys(X).flatMap(e=>X[e].map(a=>G(e,a))),[X,G]),J=(0,h.useMemo)(()=>Y.filter(e=>e.id&&z.includes(e.id.toString())),[z,Y]),Z=(0,h.useMemo)(()=>{if(Y.length<1)return[];if(""===H)return Y;let e=Y.filter(e=>(e.text||"").toLowerCase().indexOf(H.trim().toLowerCase())>=0);return e.length<1?[]:e},[H,Y]),ee=(0,h.useMemo)(()=>[Q.length>0?C:null,w.length>0?S:null,D.length>0||(M?.length??0)>0?I:null,_.length>0?v:null].filter(e=>null!==e),[Q.length,w.length,D.length,_.length,M?.length]),ea=(0,h.useCallback)(e=>{let a=J.filter(a=>!e.includes(a)).map(e=>e.id),l=z;l=[...l,...e.filter(e=>void 0!==e.id).map(e=>e.id)],a.length>0&&(l=l.filter(e=>!a.includes(e))),W([...new Set(l.map(e=>e.toString()))])},[W,J,z]),{updateOpenState:el}=(0,u.t)(),[en,et]=(0,h.useState)(R);(0,p._N)([" "],e=>{if(en){let a=document.querySelector(r.Z.activePickerOption(i.B.itemPickerRootId));if(a){let l=a.getAttribute("data-id"),n=[...Z.values()].find(e=>e.id===l);n&&n.id&&(e.preventDefault(),e.stopPropagation(),W(e=>{let a=[...e],l=a.indexOf(n.id.toString());return l>-1?a.splice(l,1):a.push(n.id.toString()),a}))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let ei=(0,t.G7)("issues_react_blur_item_picker_on_close"),es=(0,h.useCallback)(()=>{et(!1),$(""),(z.length!==c.length||z.some(e=>!c.some(a=>e===a.id)))&&W(c.map(e=>e.id))},[c,z]),er=(0,h.useCallback)((e,a)=>{if(ei&&!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==a&&(et(e),el(A,e),!e)){$(""),J.filter(e=>"danger"===e.variant).length>0&&U(!0);let e=J.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);W(e),N(e.flatMap(e=>Object.keys(X).flatMap(e=>X[e]).find(a=>a.id===e)||[]).filter((e,a,l)=>l.findIndex(a=>a.id===e.id)===a).filter(e=>void 0!==e))}},[ei,el,A,J,N,X]),eo=(0,h.useCallback)(()=>{en||er(!0)},[en,er]),ed=(0,h.useRef)(null),eu=Z.length<=2?"auto":"large",ec=(0,d.D)(b,ed,eu),em=(0,h.useMemo)(()=>0===Z.length,[Z.length]),eg=(0,h.useMemo)(()=>{let e={renderAnchor:e=>E(e),anchorRef:ed,placeholderText:s.k.filterProjects,items:Z,selected:J,open:en,onOpenChange:er,onCancel:es,onSelectedChange:ea,filterValue:H,onFilterChange:$,showItemDividers:!0,overlayProps:{width:"medium",...ec},loading:L,title:V??s.k.selectProjects,message:em?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return ee?.length>0&&Z.length>0&&(e.groupMetadata=ee),e},[ec,E,H,Z,ee,ea,L,en,es,er,J,em,V]),ep=(0,h.useCallback)(()=>{U(!1)},[U]);return(0,n.jsxs)(f.g,{flags:{primer_react_select_panel_with_modern_action_list:!0},children:[(0,n.jsx)(m.ak,{commands:{"item-pickers:open-projects":eo}}),(0,n.jsx)(k.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...eg}),O&&(0,n.jsx)(F,{onClose:ep,returnFocusRef:ed})]})}function L({firstSelectedProjectTitle:e,readonly:a,nested:l,anchorProps:t}){return(0,n.jsx)(c._,{anchorText:s.k.noProjects,sharedPickerMainValue:e,anchorProps:a?void 0:t,ariaLabel:s.k.selectProjects,readonly:a,nested:l,leadingIcon:y.TableIcon,hotKey:void 0})}try{K.displayName||(K.displayName="ProjectPicker")}catch{}try{L.displayName||(L.displayName="DefaultProjectPickerAnchor")}catch{}let N={kind:"InlineDataFragment",name:"ProjectPickerRelay"};N.hash="4b45497a1690cc285c12af08bfeeb904";let _=function(){var e={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"query"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],t={kind:"Literal",name:"first",value:5},i=[t,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"RELEVANCE"}},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"useFullTermQuery",value:!0}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},r],d=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerRelay",selections:o,args:null,argumentDefinitions:[]}],u=[t],c=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null}],storageKey:null}],m={alias:null,args:u,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:c,storageKey:"recentProjects(first:5)"},g=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:c,storageKey:null},m],p=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null}],y={alias:null,args:u,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:p,storageKey:"recentProjects(first:5)"},k=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:p,storageKey:null},y];return{fragment:{argumentDefinitions:[e,a,l],kind:"Fragment",metadata:null,name:"ProjectPickerRelayQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],storageKey:null},m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:g,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:g,type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,l,a],kind:"Operation",name:"ProjectPickerRelayQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r,{kind:"InlineFragment",selections:k,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:k,type:"User",abstractKey:null},s],storageKey:null},s],storageKey:null}]},params:{id:"505074714334dc02c12a9208c4c68a76",metadata:{},name:"ProjectPickerRelayQuery",operationKind:"query",text:null}}}();_.hash="5902b76dd5cff1cb9237182ac9a68a75";var A=l(67126),P=l(81709),w=l(30721),E=l(71315),D=l(43258),V=l(18312);let R=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectPickerBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectPickerBulkByQueryMutation",selections:a},params:{id:"7fa61f94a3d09b93b844022c5210d155",metadata:{},name:"addIssuesToProjectPickerBulkByQueryMutation",operationKind:"mutation",text:null}}}();R.hash="18573515c593b1fe5dffd8afd11bbcab";let M=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectPickerBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectPickerBulkMutation",selections:a},params:{id:"55ad9d4da2ebad57b590a7d211e85cbe",metadata:{},name:"addIssuesToProjectPickerBulkMutation",operationKind:"mutation",text:null}}}();function B(e){return(0,V.readInlineData)(O,e)}M.hash="4c77805c8af085b0cb08d942d0a991ad";let O=N;async function U(e,a){let{owner:l,repo:n,query:t}=a,i=await (0,V.fetchQuery)(e,_,{owner:l,repo:n,query:t},{fetchPolicy:"store-or-network"}).toPromise(),s=(i?.repository?.projectsV2?.nodes??[]).filter(e=>!!e).map(e=>B(e)),r=(i?.repository?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>B(e));return{repositoryProjects:s,recentRepositoryProjects:r,ownerProjects:(i?.repository?.owner?.projectsV2?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>B(e)),recentOwnerProjects:(i?.repository?.owner?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>B(e))}}let H=({pickerId:e,useQueryForAction:a,repositoryId:l,query:t,issueIds:i,readonly:s,selectedProjects:r,firstSelectedProjectTitle:o,insidePortal:d,anchorElement:u,onCompleted:c,onError:m,nested:g=!1,owner:p,repo:y,triggerOpen:k=!1})=>{let f=(0,V.useRelayEnvironment)(),b=(0,h.useCallback)(e=>{let n=e.filter(e=>!r.some(a=>a.id===e.id)),s=r.filter(a=>!e.some(e=>e.id===a.id));(n.length||s.length)&&(a&&l&&t?function({environment:e,input:{query:a,repositoryId:l,addToProjectV2Ids:n,removeFromProjectV2Ids:t},onCompleted:i,onError:s}){(0,V.commitMutation)(e,{mutation:R,variables:{input:{query:a,repositoryId:l,addToProjectV2Ids:n,removeFromProjectV2Ids:t}},onCompleted:e=>i&&i(e),onError:e=>s&&s(e)})}({environment:f,input:{repositoryId:l,query:t,addToProjectV2Ids:n.map(e=>e.id),removeFromProjectV2Ids:s.map(e=>e.id)},onCompleted:({updateIssuesBulkByQuery:e})=>{c?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:a,addToProjectV2Ids:l,removeFromProjectV2Ids:n},onCompleted:t,onError:i}){(0,V.commitMutation)(e,{mutation:M,variables:{input:{ids:a,addToProjectV2Ids:l,removeFromProjectV2Ids:n}},onCompleted:e=>t&&t(e),onError:e=>i&&i(e)})}({environment:f,input:{ids:[...i],addToProjectV2Ids:n.map(e=>e.id),removeFromProjectV2Ids:s.map(e=>e.id)},onCompleted:({updateIssuesBulk:e})=>{c?.(e?.jobId||void 0)},onError:e=>m?.(e)}))},[f,i,c,m,t,l,r,a]);return(0,n.jsx)($,{pickerId:e,readonly:s,selectedProjects:[...r],firstSelectedProjectTitle:o,insidePortal:d,onSave:b,anchorElement:u,nested:g,owner:p,repo:y,triggerOpen:k})};function $(e){let a=!!e.triggerOpen,[l,t]=(0,h.useState)(a),i=(0,h.useCallback)(()=>{l||t(!0)},[l]);return l?(0,n.jsx)(q,{pickerId:e.pickerId,triggerOpen:!0,renderAnchor:e.anchorElement,initialSelectedItems:[...e.selectedProjects],onSaveProjects:a=>e.onSave(a),getSelectedProjects:e.getSelectedProjects,readonly:e.readonly,firstSelectedProjectTitle:e.firstSelectedProjectTitle,insidePortal:e.insidePortal,nested:e.nested,owner:e.owner,repo:e.repo,title:e.title}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.ak,{commands:{"item-pickers:open-projects":i}}),e.anchorElement({onClick:()=>t(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t(!0))}})]})}function q({pickerId:e,repo:a,owner:l,initialSelectedItems:t,onSaveProjects:i,getSelectedProjects:s,renderAnchor:r,triggerOpen:o,readonly:d,firstSelectedProjectTitle:u,insidePortal:c,nested:m,title:g}){let p=(0,V.useRelayEnvironment)(),[y,k]=(0,h.useState)(!0),[f,b]=(0,h.useState)(0),[F,S]=(0,h.useState)(!1),[I,v]=(0,h.useState)(null),[C,x]=(0,h.useState)(null),{addToast:j}=(0,D.Y6)();(0,h.useEffect)(()=>{E.X3||(0,w.SD)({environment:p,query:_,variables:{owner:l,repo:a}}).subscribe({next:e=>{x(e),k(!1),S(!1)},error:()=>S(!0)})},[p,f,l,a]);let{createFallbackComponent:T}=(0,P.j)({errorMessage:"Cannot edit projects right now",anchorElement:r,open:!0}),L=(0,h.useCallback)(e=>{k(!0),v((0,V.fetchQuery)(p,_,{repo:a,owner:l,query:e}).subscribe({next:e=>{e&&x(e),k(!1)},error:()=>{k(!1),j({type:"error",message:A.S.couldNotSearchProjects})}}))},[l,p,a,j]),N=(0,h.useCallback)(()=>I?.unsubscribe(),[I]),R=(0,h.useMemo)(()=>(C?.repository?.owner?.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,V.readInlineData)(O,e.node)].filter(e=>!1===e.closed):[]),[C]),M=(0,h.useMemo)(()=>(C?.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,V.readInlineData)(O,e)].filter(e=>!1===e.closed):[]),[C]),B=(0,h.useMemo)(()=>(C?.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,V.readInlineData)(O,e.node)].filter(e=>!1===e.closed):[]),[C]),U=(0,h.useMemo)(()=>{let e=[...M,...B,...R],a=new Map;for(let l of e)a.has(l.id)||a.set(l.id,l);return Array.from(a.values())},[B,R,M]);return F?T(()=>b(f+1)):(0,n.jsx)(K,{pickerId:e,owner:l,repo:a,items:U,loading:y,filterItems:L,filterResetFn:N,recentProjects:R,repositoryProjects:M,organizationProjects:B,initialSelectedItems:t,onSelectionChange:z(i),getSelectedProjects:s&&z(s),renderAnchor:r,triggerOpen:o,readonly:d,firstSelectedProjectTitle:u,insidePortal:c,nested:m,title:g})}function Q(e){return"__typename"in e?e:{...e,__typename:"ProjectV2"}}function z(e){return a=>e(a.map(Q))}try{H.displayName||(H.displayName="BulkProjectPicker")}catch{}try{$.displayName||($.displayName="ProjectPickerRelay")}catch{}try{q.displayName||(q.displayName="ItemPickerFetcher")}catch{}let W={kind:"InlineDataFragment",name:"ProjectPickerProject"};W.hash="682212a921e9bca94528a0423c595cde";let G=function(){var e={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"query"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],t={kind:"Literal",name:"first",value:5},i=[t,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"RELEVANCE"}},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"useFullTermQuery",value:!0}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},r],d=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:o,args:null,argumentDefinitions:[]}],u=[t],c=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null}],storageKey:null}],m={alias:null,args:u,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:c,storageKey:"recentProjects(first:5)"},g=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:c,storageKey:null},m],p=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null}],y={alias:null,args:u,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:p,storageKey:"recentProjects(first:5)"},k=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:p,storageKey:null},y];return{fragment:{argumentDefinitions:[e,a,l],kind:"Fragment",metadata:null,name:"ProjectPickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],storageKey:null},m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:g,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:g,type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,l,a],kind:"Operation",name:"ProjectPickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r,{kind:"InlineFragment",selections:k,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:k,type:"User",abstractKey:null},s],storageKey:null},s],storageKey:null}]},params:{id:"65d0c4f8e3a1c1c9cfd78e5b426cbe49",metadata:{},name:"ProjectPickerQuery",operationKind:"query",text:null}}}();G.hash="6e51c93b49adb71d6853eb253aa6a90d";let X=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkByQueryMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkByQueryMutation",selections:a},params:{id:"b3c56c101a97603233bebecea3252932",metadata:{},name:"addIssuesToProjectsBulkByQueryMutation",operationKind:"mutation",text:null}}}();X.hash="17307308625f16ad7c5aceab5ee6f126";let Y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkMutation",selections:a},params:{id:"6908509fc024e1ab74ffec2140dcf167",metadata:{},name:"addIssuesToProjectsBulkMutation",operationKind:"mutation",text:null}}}();Y.hash="63b0539aebe1a9b04411550192d240e1";let J=({onClose:e,returnFocusRef:a})=>(0,n.jsx)(b.l,{"aria-label":s.k.projectItemsLimitReachedDialogLabel,title:s.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:a,width:"large",footerButtons:[{content:s.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,n.jsx)("div",{children:s.k.projectItemsLimitReachedDialogMessage})});try{J.displayName||(J.displayName="ProjectItemsLimitReachedDialog")}catch{}let Z={groupId:"recent",header:{title:"Recent",variant:"filled"}},ee={groupId:"repository",header:{title:"Repository",variant:"filled"}},ea={groupId:"organization",header:{title:"Organization",variant:"filled"}},el={groupId:"selected"};function en(e){return(0,V.readInlineData)(et,e)}let et=W;async function ei(e,a){let{owner:l,repo:n,query:t}=a,i=await (0,V.fetchQuery)(e,G,{owner:l,repo:n,query:t},{fetchPolicy:"store-or-network"}).toPromise(),s=(i?.repository?.projectsV2?.nodes??[]).filter(e=>!!e).map(e=>en(e)),r=(i?.repository?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>en(e));return{repositoryProjects:s,recentRepositoryProjects:r,ownerProjects:(i?.repository?.owner?.projectsV2?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>en(e)),recentOwnerProjects:(i?.repository?.owner?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>en(e))}}let es=({pickerId:e,useQueryForAction:a,repositoryId:l,query:n,issueIds:t,readonly:i,selectedProjects:s,firstSelectedProjectTitle:r,insidePortal:o,anchorElement:d,onCompleted:u,onError:c,nested:m=!1,owner:g,repo:p,triggerOpen:y=!1})=>{let k=(0,V.useRelayEnvironment)(),f=(0,h.useCallback)(e=>{let i=e.filter(e=>!s.some(a=>a.id===e.id)),r=s.filter(a=>!e.some(e=>e.id===a.id));(i.length||r.length)&&(a&&l&&n?function({environment:e,input:{query:a,repositoryId:l,addToProjectV2Ids:n,removeFromProjectV2Ids:t},onCompleted:i,onError:s}){(0,V.commitMutation)(e,{mutation:X,variables:{input:{query:a,repositoryId:l,addToProjectV2Ids:n,removeFromProjectV2Ids:t}},onCompleted:e=>i&&i(e),onError:e=>s&&s(e)})}({environment:k,input:{repositoryId:l,query:n,addToProjectV2Ids:i.map(e=>e.id),removeFromProjectV2Ids:r.map(e=>e.id)},onCompleted:({updateIssuesBulkByQuery:e})=>{u?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:a,addToProjectV2Ids:l,removeFromProjectV2Ids:n},onCompleted:t,onError:i}){(0,V.commitMutation)(e,{mutation:Y,variables:{input:{ids:a,addToProjectV2Ids:l,removeFromProjectV2Ids:n}},onCompleted:e=>t&&t(e),onError:e=>i&&i(e)})}({environment:k,input:{ids:[...t],addToProjectV2Ids:i.map(e=>e.id),removeFromProjectV2Ids:r.map(e=>e.id)},onCompleted:({updateIssuesBulk:e})=>{u?.(e?.jobId||void 0)},onError:e=>{c?.(e)}}))},[k,t,u,c,n,l,a,s]);return er({pickerId:e,readonly:i,selectedProjects:[...s],firstSelectedProjectTitle:r,insidePortal:o,onSave:f,anchorElement:d,nested:m,owner:g,repo:p,triggerOpen:y})};function er({anchorElement:e,triggerOpen:a,...l}){let[t,i]=(0,h.useState)(a),s=(0,h.useCallback)(()=>{t||i(!0)},[t]);return t?(0,n.jsx)(eo,{triggerOpen:!0,anchorElement:a=>e(a),...l,pickerId:"list-header-projects-picker"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.ak,{commands:{"item-pickers:open-projects":s}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}function eo({repo:e,owner:a,...l}){let t=(0,V.useRelayEnvironment)(),[i,s]=(0,h.useState)(!0),[r,o]=(0,h.useState)(0),[d,u]=(0,h.useState)(!1),[c,m]=(0,h.useState)(null);(0,h.useEffect)(()=>{E.X3||(0,w.SD)({environment:t,query:G,variables:{owner:a,repo:e}}).subscribe({next:e=>{m(e),s(!1),u(!1)},error:()=>{u(!0)}})},[t,r,a,e]);let{createFallbackComponent:g}=(0,P.j)({errorMessage:"Cannot edit projects right now",anchorElement:l.anchorElement,open:!0});return d?g(()=>o(r+1)):(0,n.jsx)(ed,{projectsData:c,owner:a,repo:e,isLoading:i,...l})}function ed({pickerId:e,selectedProjects:a,projectsData:l,onSave:c,anchorElement:f,insidePortal:b,owner:F,repo:S,isLoading:I=!1,triggerOpen:v=!1,readonly:C,title:x,getSelectedProjects:j}){let[T,K]=(0,h.useState)(l),[L,N]=(0,h.useState)(null),[_,P]=(0,h.useState)(!1),[w,E]=(0,h.useState)(!1),R=(0,V.useRelayEnvironment)(),{addToast:M}=(0,D.Y6)(),[B,O]=(0,h.useState)(""),U=(0,h.useCallback)(e=>{P(!0),N((0,V.fetchQuery)(R,G,{repo:S,owner:F,query:e}).subscribe({next:e=>{null!==e&&K(e),P(!1)},error:()=>{P(!1),M({type:"error",message:A.S.couldNotSearchProjects})}}))},[F,R,S]),H=(0,g.d)(e=>U(e),o.t.pickerDebounceTime);(0,h.useEffect)(()=>(0===B.length?K(l):H(B),L?.unsubscribe(),()=>{P(!1)}),[H,B,l]);let $=(0,h.useMemo)(()=>(T?.repository?.owner?.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,V.readInlineData)(et,e.node)].filter(e=>!1===e.closed):[]),[T]),q=(0,h.useMemo)(()=>(T?.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,V.readInlineData)(et,e)].filter(e=>!1===e.closed):[]),[T]),Q=(0,h.useMemo)(()=>(T?.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,V.readInlineData)(et,e.node)].filter(e=>!1===e.closed):[]),[T]),z=(0,h.useMemo)(()=>j?j([...$,...q,...Q]):a,[j,a,Q,$,q]),[W,X]=(0,h.useState)(()=>z.map(e=>e.id));(0,h.useEffect)(()=>{X(z.map(e=>e.id))},[z,e]);let Y=(0,h.useCallback)((e,a)=>{let{title:l,id:n}=a,t=a.hasReachedItemsLimit&&!z.some(e=>e.id===n)?"danger":"default",i=a.hasReachedItemsLimit?"block":"inline";return{text:l,description:a.hasReachedItemsLimit?`${s.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:W.includes(n),disabled:!(C||a.viewerCanUpdate),leadingVisual:y.TableIcon,variant:t,sx:{wordBreak:"break-word"}}},[z,W,C]),en=(0,h.useMemo)(()=>({selected:z,recent:$.filter(e=>!z.map(function(e){return e.id}).includes(e.id)),repository:q.filter(e=>!z.map(function(e){return e.id}).includes(e.id)),organization:Q.filter(e=>!z.map(function(e){return e.id}).includes(e.id))}),[z,$,q,Q]),ei=(0,h.useMemo)(()=>Object.keys(en).flatMap(e=>en[e].map(a=>Y(e,a))),[en,Y]),es=(0,h.useMemo)(()=>ei.filter(e=>e.id&&W.includes(e.id.toString())),[W,ei]),er=(0,h.useMemo)(()=>{if(ei.length<1)return[];if(""===B)return ei;let e=ei.filter(e=>(e.text||"").toLowerCase().indexOf(B.trim().toLowerCase())>=0);return e.length<1?[]:e},[B,ei]),eo=(0,h.useMemo)(()=>[z.length>0?el:null,$.length>0?Z:null,q.length>0?ee:null,Q.length>0?ea:null].filter(e=>null!==e),[z.length,$.length,q.length,Q.length]),ed=(0,h.useCallback)(e=>{let a=es.filter(a=>!e.includes(a)).map(e=>e.id),l=W;l=[...l,...e.filter(e=>void 0!==e.id).map(e=>e.id)],a.length>0&&(l=l.filter(e=>!a.includes(e))),X([...new Set(l.map(e=>e.toString()))])},[X,es,W]),{updateOpenState:eu}=(0,u.t)(),[ec,em]=(0,h.useState)(v);(0,p._N)([" "],e=>{if(ec){let a=document.querySelector(r.Z.activePickerOption(i.B.itemPickerRootId));if(a){let l=a.getAttribute("data-id"),n=[...er.values()].find(e=>e.id===l);n&&n.id&&(e.preventDefault(),e.stopPropagation(),X(e=>{let a=[...e],l=a.indexOf(n.id.toString());return l>-1?a.splice(l,1):a.push(n.id.toString()),a}))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let eg=(0,t.G7)("issues_react_blur_item_picker_on_close"),ep=(0,h.useCallback)(()=>{em(!1),O(""),(W.length!==a.length||W.some(e=>!a.some(a=>e===a.id)))&&X(a.map(e=>e.id))},[a,W]),ey=(0,h.useCallback)((a,l)=>{if(eg&&!a&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==l&&(em(a),eu(e,a),!a)){O(""),es.filter(e=>"danger"===e.variant).length>0&&E(!0);let e=es.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);X(e),c(e.flatMap(e=>Object.keys(en).flatMap(e=>en[e]).find(a=>a.id===e)||[]).filter((e,a,l)=>l.findIndex(a=>a.id===e.id)===a).filter(e=>void 0!==e))}},[eg,eu,e,es,c,en]),ek=(0,h.useCallback)(()=>{ec||ey(!0)},[ec,ey]),ef=(0,h.useRef)(null),eh=er.length<=2?"auto":"large",eb=(0,d.D)(b,ef,eh),eF=(0,h.useMemo)(()=>0===er.length,[er.length]),eS=(0,h.useMemo)(()=>{let e={renderAnchor:e=>f(e),anchorRef:ef,placeholderText:s.k.filterProjects,items:er,selected:es,open:ec,onOpenChange:ey,onCancel:ep,onSelectedChange:ed,filterValue:B,onFilterChange:O,showItemDividers:!0,overlayProps:{width:"medium",...eb},loading:I||_,title:x??s.k.selectProjects,message:eF?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return eo?.length>0&&er.length>0&&(e.groupMetadata=eo),e},[eb,f,B,er,eo,ed,I,ec,ep,ey,_,es,eF,x]),eI=(0,h.useCallback)(()=>{E(!1)},[E]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.ak,{commands:{"item-pickers:open-projects":ek}}),(0,n.jsx)(k.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...eS}),w&&(0,n.jsx)(J,{onClose:eI,returnFocusRef:ef})]})}function eu({firstSelectedProjectTitle:e,readonly:a,nested:l,anchorProps:t}){return(0,n.jsx)(c._,{anchorText:s.k.noProjects,sharedPickerMainValue:e,anchorProps:a?void 0:t,ariaLabel:s.k.selectProjects,readonly:a,nested:l,leadingIcon:y.TableIcon,hotKey:void 0})}try{es.displayName||(es.displayName="BulkProjectPicker")}catch{}try{er.displayName||(er.displayName="ProjectPicker")}catch{}try{eo.displayName||(eo.displayName="ItemPickerFetcher")}catch{}try{ed.displayName||(ed.displayName="SelectPanelWrapper")}catch{}try{eu.displayName||(eu.displayName="DefaultProjectPickerAnchor")}catch{}function ec(e){return(0,t.G7)("item_picker_project_relay_migration")?(0,n.jsx)(L,{...e}):(0,n.jsx)(eu,{...e})}function em(e){return(0,t.G7)("item_picker_project_relay_migration")?(0,n.jsx)($,{...e}):(0,n.jsx)(er,{...e})}function eg(e){return(0,t.G7)("item_picker_project_relay_migration")?(0,n.jsx)(H,{...e}):(0,n.jsx)(es,{...e})}function ep(e){return(0,t.G7)("item_picker_project_relay_migration")?B(e):en(e)}function ey(e,a){return(0,t.G7)("item_picker_project_relay_migration")?U(e,a):ei(e,a)}try{ec.displayName||(ec.displayName="DefaultProjectPickerAnchor")}catch{}try{em.displayName||(em.displayName="ProjectPicker")}catch{}try{eg.displayName||(eg.displayName="BulkProjectPicker")}catch{}},90388:(e,a,l)=>{l.d(a,{u:()=>m});let n=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[e,a,l,n,t,i,s],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[e,l,n,t,i,s],type:"Actor",abstractKey:"__isActor"}],storageKey:null}]},params:{id:"cd02b8ff95f218e6feb0f39ec90d2c0c",metadata:{},name:"useViewerSafeViewerQuery",operationKind:"query",text:null}}}();n.hash="9a2514db664867e53145d021e14fc30a";var t=l(69599),i=l(72274),s=l(30721),r=l(71315),o=l(43755),d=l(96540),u=l(18312);l(69487);var c=l(71223);function m(){return(0,t.G7)("item_picker_assignee_relay_migration")?(0,i.u)():function(){let e=(0,u.useRelayEnvironment)(),{currentUser:a}=(0,o.J)(),[l,t]=(0,d.useState)(a);return(0,d.useEffect)(()=>{r.X3||l||(0,s.SD)({environment:e,query:n,variables:{}}).subscribe({next:e=>{e.safeViewer&&t((0,c.uX)(e.safeViewer))}})},[e,l]),l}()}},2892:(e,a,l)=>{l.d(a,{a:()=>S});var n=l(74848),t=l(30391),i=l(87330),s=l(38621),r=l(47990),o=l(96540),d=l(59299),u=l(44999),c=l(38267);let m={small:"16px",medium:"20px",large:"24px",xlarge:"32px"},g="medium",p=({as:e="span",onClick:a,onFocus:l,tabIndex:n=-1,interactive:t})=>t??!!(l||a||n>-1||["a","button"].includes(e)),y={fontSize:1,height:m.xlarge,lineHeight:m.xlarge,px:3,py:0},k={small:{fontSize:0,height:m.small,lineHeight:m.small,px:1,py:0},medium:{fontSize:0,height:m.medium,lineHeight:m.medium,px:2,py:0},large:{fontSize:0,height:m.large,lineHeight:m.large,px:2,py:0},extralarge:y,xlarge:y},f=c.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-d941b369-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;",""],e=>p(e)?"pointer":"auto",(0,d.Jt)("fontWeights.bold"),u.A),h=o.forwardRef(function({text:e,onRemove:a,id:l,as:t="span",sx:i,size:s=g,...r},o){return(0,n.jsx)(f,{"aria-label":a?`${e}, press backspace or delete to remove`:void 0,id:l?.toString(),as:t,sx:{...k[s],...i},...r,ref:o})});try{h.displayName||(h.displayName="TokenBase")}catch{}let b=(0,c.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-690ded13-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]);try{b.displayName||(b.displayName="TokenTextContainer")}catch{}let F={labelTokenBase:"LabelToken-module__labelTokenBase--v0rBi",labelTokenDeleteButton:"LabelToken-module__labelTokenDeleteButton--VLMDp"},S=(0,o.forwardRef)(({as:e,fontWeight:a,fillColor:l="#999",onRemove:d,id:u,isSelected:c,text:m,size:y=g,hideRemoveButton:k,href:f,onDelete:S,...I},v)=>{let{colorScheme:C}=(0,t.DP)(),x=(0,o.useMemo)(()=>C?.includes("high_contrast"),[C]),j=(0,o.useMemo)(()=>({"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"}),[]),T=(0,o.useMemo)(()=>({"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":x?"0.9":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"}),[x]),K={as:e,href:f},L=p(I)&&!!d&&!k,N=(0,o.useMemo)(()=>{let[e,n,t]=(0,r.Du)(l),[i,s,o]=(0,r.BT)(l);return{"--label-r":String(e),"--label-g":String(n),"--label-b":String(t),"--label-h":String(Math.round(i)),"--label-s":String(Math.round(100*s)),"--label-l":String(Math.round(100*o)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((var(--perceived-lightness) - var(--lightness-threshold)) * -1000), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:k||!d?void 0:0,position:"relative",minWidth:0,overflow:"hidden",...C?.includes("light")?j:T,...a?{fontWeight:a}:{},...c?{background:"light"===C?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":T.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===C?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{}}},[l,k,d,a,C,j,T,c]);return(0,n.jsxs)(h,{onRemove:d,id:u?.toString(),isSelected:c,text:m,size:y,sx:N,...!L?K:{},...I,ref:v,className:S?F.labelTokenBase:void 0,children:[(0,n.jsx)(b,{...L?K:{},children:m}),S&&(0,n.jsx)(i.K,{onClick:e=>{e.stopPropagation(),e.preventDefault(),S()},variant:"invisible",icon:s.XIcon,size:"small","aria-label":"Remove label",className:F.labelTokenDeleteButton})]})});S.displayName="IssueLabelToken"},41305:(e,a,l)=>{l.d(a,{w:()=>c});var n=l(74848),t=l(2892),i=l(73017),s=l(75177),r=l(81246),o=l(96540),d=l(3614);let u={labelsListContainer:"LabelsList-module__labelsListContainer--bS7BO",labelDescriptionTooltip:"LabelsList-module__labelDescriptionTooltip--LvHc0",labelLink:"LabelsList-module__labelLink--hHZBM"};function c({labels:e,testId:a,sx:l,onDelete:c,emptyText:m="No labels"}){let g=(0,o.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),p=(0,o.useCallback)(e=>`${g}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[g]);return(0,n.jsx)(s.A,{sx:l,tabIndex:-1,"data-testid":a,className:u.labelsListContainer,children:e.length>0?e.sort((e,a)=>e.name===a.name?0:e.name>a.name?1:-1).map(e=>(0,n.jsx)(d.m,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{visibility:e.description?"visible":"hidden"},className:u.labelDescriptionTooltip,children:(0,n.jsxs)(r.A,{href:p(e),muted:!0,"aria-describedby":`${e.id}-tooltip`,className:u.labelLink,children:[(0,n.jsx)(t.a,{text:(0,n.jsx)(i.JR,{html:e.nameHTML}),onDelete:c?()=>c(e.id):void 0,fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,n.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):m})}try{c.displayName||(c.displayName="LabelsList")}catch{}},98994:(e,a,l)=>{l.d(a,{U:()=>o});var n=l(74848),t=l(29731),i=l(34164),s=l(35220);let r={container:"Description-module__container--Zwqe8",compact:"Description-module__compact--Lw6nW"};function o({children:e,style:a,className:l}){let{variant:o}=(0,s.e)();return(0,n.jsx)("div",{...(0,t.G)("list-view-item-description"),className:(0,i.$)(r.container,"compact"===o&&r.compact,l),style:a,children:e})}try{o.displayName||(o.displayName="ListItemDescription")}catch{}},43617:(e,a,l)=>{l.d(a,{Q:()=>o});var n=l(74848),t=l(29731),i=l(34164),s=l(35220);let r={container:"MainContent-module__container--NyRpm",inner:"MainContent-module__inner--qD0Pb",compact:"MainContent-module__compact--S3brA"};function o({children:e}){let{variant:a}=(0,s.e)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{...(0,t.G)("list-view-item-main-content"),className:r.container,children:(0,n.jsx)("div",{className:(0,i.$)(r.inner,"compact"===a&&r.compact),children:e})})})}try{o.displayName||(o.displayName="ListItemMainContent")}catch{}},4929:(e,a,l)=>{l.d(a,{V:()=>r});var n=l(74848),t=l(29731),i=l(34164);let s={metadata:"Metadata-module__metadata--ODMG0",secondary:"Metadata-module__secondary--1te4w",primary:"Metadata-module__primary--S8Orc",alignRight:"Metadata-module__alignRight--A1PHa"};function r({children:e,alignment:a,variant:l,...r}){return(0,n.jsx)("div",{...(0,t.G)("list-view-item-metadata-item"),...r,className:(0,i.$)(s.metadata,"primary"===l?s.primary:s.secondary,"right"===a&&s.alignRight,r.className),children:e})}try{r.displayName||(r.displayName="ListItemMetadata")}catch{}},95378:(e,a,l)=>{l.d(a,{kx:()=>v,ao:()=>I});var n,t,i=l(74848),s=l(20263),r=l(73017),o=l(29731),d=l(34164),u=l(96540),c=l(56825),m=l(35220),g=l(87670),p=l(87826),y=l(24347);let k={container:"Selection-module__container--OQE4d",containerWithDragHandle:"Selection-module__containerWithDragHandle--mLWh4",dragTrigger:"Selection-module__dragTrigger--SM4bZ",compact:"Selection-module__compact--azMKM",checkbox:"Selection-module__checkbox--X3ras",checkboxCompact:"Selection-module__checkboxCompact--zfQtx"};var f=l(60257),h=l(74501);let b=()=>{let{variant:e}=(0,m.e)(),{isSelectable:a,hasDragHandle:l}=(0,y.v)(),{isSelected:n,onSelect:t}=(0,f.r)(),{title:s}=(0,h.J)();return a?(0,i.jsxs)("div",{className:l?k.containerWithDragHandle:k.container,...(0,o.G)("list-view-item-selection"),children:[l&&(0,i.jsx)(g.BS.DragTrigger,{className:(0,d.$)(k.dragTrigger,"compact"===e&&k.compact)}),(0,i.jsx)(p.A,{className:"default"===e?k.checkbox:k.checkboxCompact,checked:n,onChange:()=>t(!n),"aria-label":`Select: ${s}`,"data-listview-component":"selection-input",...(0,o.G)("list-view-item-selection-input")})]}):null};try{b.displayName||(b.displayName="ListItemSelection")}catch{}let F={anchor:"Title-module__anchor--GmXUE",heading:"Title-module__heading--s7YnL",compact:"Title-module__compact--eK6hD",container:"Title-module__container--XD9YG",trailingBadgesSpacer:"Title-module__trailingBadgesSpacer--Son9W",trailingBadgesContainer:"Title-module__trailingBadgesContainer--mijcn",inline:"Title-module__inline--oM0P7"};function S({children:e,containerStyle:a,containerClassName:l,headerContainerRef:n,headingStyle:t,headingClassName:s,headingRef:r,leadingBadge:u,trailingBadges:g,header:p}){let{variant:y}=(0,m.e)(),{headingRef:k}=(0,h.J)(),f=(0,c.m)("listitem");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{...(0,o.G)("list-view-item-title-container"),style:a,className:(0,d.$)(F.container,"compact"===y&&F.compact,l),ref:n,children:[(0,i.jsxs)(f,{className:(0,d.$)(F.heading,"compact"===y&&F.compact,s),style:t,ref:e=>{if(k&&(k.current=e),r&&"current"in r)try{r.current=e}catch{}},...(0,o.G)("list-view-item-title"),children:[u,p]}),g&&(0,i.jsx)("span",{className:F.trailingBadgesSpacer}),(0,i.jsx)("span",{className:F.trailingBadgesContainer,children:g}),e]}),(0,i.jsx)(b,{})]})}function I({children:e,value:a,containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:s,headingClassName:r,headingRef:o,leadingBadge:d,trailingBadges:c,anchorRef:m,...g}){let p=(0,u.useRef)(null),y=m||p;return x({anchorRef:y,...g}),(0,i.jsx)(S,{header:g.href||g.onClick?(0,i.jsx)(C,{anchorRef:y,...g,children:(0,i.jsx)("span",{children:a})}):(0,i.jsx)("span",{children:a}),containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:s,headingClassName:r,headingRef:o,leadingBadge:d,trailingBadges:c,children:e})}function v({children:e,html:a,containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:r,headingClassName:o,headingRef:d,leadingBadge:u,trailingBadges:c,...m}){return x(m),(0,i.jsx)(S,{header:(0,i.jsx)(s.BC,{html:a,...m}),containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:r,headingClassName:o,headingRef:d,leadingBadge:u,trailingBadges:c,children:e})}function C({anchorStyle:e,anchorClassName:a,anchorRef:l,linkProps:n,children:t,...s}){let{as:r="a",...c}=n??{},m=(0,u.useRef)(null);return(0,i.jsx)(r,{...(0,o.G)("listitem-title-link"),style:e,ref:l||m,className:(0,d.$)(F.anchor,F.inline,a),...s,...c,children:t})}let x=({href:e,onClick:a,anchorRef:l})=>{let{setTitleAction:n,headingRef:t}=(0,h.J)();return(0,u.useEffect)(()=>{(e||a)&&n(()=>a=>{if(e&&(a.metaKey||a.ctrlKey))window.open(e,"_blank");else if(l?.current)l.current.click();else if(t?.current){let e=t.current.querySelector("a, button");e&&e.click()}})},[l,t,e,a,n]),null};try{S.displayName||(S.displayName="InternalTitle")}catch{}try{(n=TitleTag).displayName||(n.displayName="TitleTag")}catch{}try{I.displayName||(I.displayName="ListItemTitle")}catch{}try{v.displayName||(v.displayName="ListItemSafeHTMLTitle")}catch{}try{(t=function({children:e,html:a,containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:u,trailingBadges:c,...m}){return x(m),(0,i.jsx)(S,{header:(0,i.jsx)(r.JR,{html:a,...m}),containerStyle:l,containerClassName:n,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:u,trailingBadges:c,children:e})}).displayName||(t.displayName="ListItemUnsafeHTMLTitle")}catch{}try{C.displayName||(C.displayName="HeadingLink")}catch{}},23656:(e,a,l)=>{l.d(a,{W:()=>W});var n=l(74848);let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},n=[{kind:"Literal",name:"first",value:100}],t={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:n,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[o,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[l,{alias:null,args:n,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[u,o,d,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();t.hash="58ea81646b217a25de6cfe147936e7f6";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};i.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var s=l(77430),r=l(76873),o=l(81945),d=l(5945),u=l(52446),c=l(89169),m=l(21654),g=l(96540),p=l(18312),y=l(73454);let k={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},f={CouldNotFindFallbackErrorContainer:"CouldNotFindFallbackError-module__CouldNotFindFallbackErrorContainer--PNbb0"},h=({retry:e})=>(0,n.jsx)(y.h,{message:k.couldNotLoad,retry:e,className:f.CouldNotFindFallbackErrorContainer});try{h.displayName||(h.displayName="CouldNotFindFallbackError")}catch{}let b=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[l,n,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s,{kind:"InlineFragment",selections:[l,n,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[s,i,r],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},i,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},r],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();b.hash="027faee365f58b6aa217941196bb5c80";var F=l(96665),S=l(18042);let I={EditHistoryDialogContainer:"EditHistoryDialog-module__EditHistoryDialogContainer--g7yZt",editHistoryContentScrollable:"EditHistoryDialog-module__editHistoryContentScrollable--Sso3i",contentViewerContainer:"EditHistoryDialog-module__contentViewerContainer--CLOK3",mutedInfoText:"EditHistoryDialog-module__mutedInfoText--C13E3",loadingSkeletonContainer:"EditHistoryDialog-module__loadingSkeletonContainer--ob6sY"},v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};v.hash="173b0fbf2e248d6057ccd670ace2eea7";var C=l(43258),x=l(38621),j=l(69948),T=l(55847),K=l(30729);let L={deleteEditRevision:"Delete revision"},N={ghostUserLogin:"ghost"},_=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:a,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[l,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[t,i],storageKey:null},s],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:a,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[l,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,l],storageKey:null},s],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();_.hash="45e1f3e7d425560f65ef39e8c357794d";let A={EditHistoryDialogHeaderContainer:"EditHistoryDialogHeader-module__EditHistoryDialogHeaderContainer--IRXVB",statusLabel:"EditHistoryDialogHeader-module__statusLabel--Pf9hN",deleteRevisionButton:"EditHistoryDialogHeader-module__deleteRevisionButton--I4tuB",actorDetailsWrapper:"EditHistoryDialogHeader-module__actorDetailsWrapper--hz1cP",userAvatar:"EditHistoryDialogHeader-module__userAvatar--hMoGt",usernameBold:"EditHistoryDialogHeader-module__usernameBold--nCSfu"},P=({queryRef:e,userContentEditId:a})=>{let l=(0,p.useFragment)(v,e),t=(0,p.useRelayEnvironment)(),i=(0,j.S)(),{addToast:s}=(0,C.Y6)(),r=(0,g.useCallback)(async()=>{await i({title:S.k.confirmations.deleteEditHistoryTitle,content:S.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:S.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:a},onCompleted:l,onError:n}){(0,p.commitMutation)(e,{mutation:_,variables:{input:{id:a}},onCompleted:e=>{null===e.deleteUserContentEdit?n?.():l?.()},onError:e=>n?.(e)})}({environment:t,input:{id:a},onError:()=>{s({type:"error",message:k.couldNotDeleteEditRevision})}})},[s,i,t,a]),o=l.newest||l.deletedAt;return(0,n.jsxs)("div",{className:A.EditHistoryDialogHeaderContainer,children:[l.editor&&(0,n.jsx)(w,{login:l.editor.login,avatarUrl:l.editor.avatarUrl,time:l.editedAt,details:l.firstEdit?S.k.editHistory.created:S.k.editHistory.edited,trailingElement:o?(0,n.jsx)(m.A,{className:A.statusLabel,children:l.deletedAt?S.k.editHistory.deleted:S.k.editHistory.mostRecent}):void 0}),l.viewerCanDelete&&!l.newest&&!l.deletedAt&&(0,n.jsxs)(T.Q,{variant:"danger",size:"small","aria-label":S.k.editHistory.deleteRevisionAriaLabel,onClick:r,className:A.deleteRevisionButton,children:[(0,n.jsx)(K.A,{icon:x.TrashIcon})," ",L.deleteEditRevision]})]})};function w({login:e,avatarUrl:a,details:l,time:t,className:i,trailingElement:r}){let o=!!a&&!!e;return(0,n.jsxs)("div",{className:A.actorDetailsWrapper,children:[(0,n.jsxs)("div",{className:i,children:[o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.r,{src:a,size:16,alt:`@${e}`,className:A.userAvatar}),(0,n.jsx)("span",{className:A.usernameBold,children:e})]}),!o&&(0,n.jsx)("span",{children:e??N.ghostUserLogin}),(0,n.jsxs)("span",{children:[" ",l," "]}),t&&(0,n.jsx)(c.A,{date:new Date(t)})]}),r]})}try{P.displayName||(P.displayName="EditHistoryDialogHeader")}catch{}try{w.displayName||(w.displayName="ActorOperationDetails")}catch{}let E=e=>e.split(/\r?\n/),D=e=>e.split(/\s+/),V=(e,a)=>({groups:[{words:e??"",modification:a}],modification:a}),R={diffContainer:"GroupedTextDiffViewer-module__diffContainer--vSv5M",borderStylingAdded:"GroupedTextDiffViewer-module__borderStylingAdded--vmx_p",borderStylingRemoved:"GroupedTextDiffViewer-module__borderStylingRemoved--nuxu4",borderStylingChanged:"GroupedTextDiffViewer-module__borderStylingChanged--SGyL6",wordStylingAdded:"GroupedTextDiffViewer-module__wordStylingAdded--WmYJz",wordStylingRemoved:"GroupedTextDiffViewer-module__wordStylingRemoved--n4HZo",diffLine:"GroupedTextDiffViewer-module__diffLine--yfbRY"},M=e=>{switch(e){case"ADDED":return{open:"[+]",close:"[/+]"};case"REMOVED":return{open:"[-]",close:"[/-]"}}return{open:"",close:""}},B=e=>"ADDED"===e||"REMOVED"===e,O=({groups:e,modification:a})=>{let l=e.map(e=>e.words).join(" ");return(0,n.jsxs)("span",{className:R.diffLine,children:["EDITED"===a&&e?.map((e,a)=>(0,n.jsxs)(n.Fragment,{children:[B(e.modification)&&(0,n.jsx)("span",{className:"sr-only",children:M(e.modification).open}),(0,n.jsx)("span",{className:(e=>{switch(e){case"ADDED":return R.wordStylingAdded;case"REMOVED":return R.wordStylingRemoved;case"UNCHANGED":return""}})(e.modification),children:`${0===a?"":" "}${e.words}`}),B(e.modification)&&(0,n.jsx)("span",{className:"sr-only",children:M(e.modification).close})]},a-1)),"EDITED"!==a&&e.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"sr-only",children:M(a).open}),(0,n.jsx)("span",{children:l}),(0,n.jsx)("span",{className:"sr-only",children:M(a).close})]}),0===e.length&&(0,n.jsx)("br",{})]})},U=({before:e,after:a})=>{let l=function({before:e,after:a}){let l=e?E(e):[],n=a?E(a):[],t=[];for(let e=0;e<l.length||e<n.length;e++){let a=l[e],i=n[e];t.push(function(e,a){let l=e?D(e):[],n=a?D(a):[];if(0===l.length&&0===n.length||e===a)return V(e,"UNCHANGED");if(0===l.length)return V(a,"ADDED");if(0===n.length)return V(e,"REMOVED");let t=[],i={words:"",modification:"UNCHANGED"},s={words:"",modification:"ADDED"},r={words:"",modification:"REMOVED"};for(let e=0;e<l.length||e<n.length;e++){let a=l[e],o=n[e];a===o?(i.words=`${i.words}${0===i.words.length?"":" "}${a}`,""!==s.words&&(t.push(s),s={words:"",modification:"ADDED"}),""!==r.words&&(t.push(r),r={words:"",modification:"REMOVED"})):(""!==i.words&&(void 0!==a||void 0!==o)&&(t.push(i),i={words:"",modification:"UNCHANGED"}),void 0!==a&&(r.words=`${r.words}${0===r.words.length?"":" "}${a}`),void 0!==o&&(s.words=`${s.words}${0===s.words.length?"":" "}${o}`))}return""!==s.words&&t.push(s),""!==r.words&&t.push(r),""!==i.words&&t.push(i),{groups:t,modification:"EDITED"}}(a,i))}return{lines:t}}({before:e,after:a});return(0,n.jsx)("div",{className:R.diffContainer,children:l.lines.map((e,a)=>(0,n.jsx)("div",{className:(e=>{switch(e){case"ADDED":return R.borderStylingAdded;case"REMOVED":return R.borderStylingRemoved;case"EDITED":return R.borderStylingChanged;case"UNCHANGED":return""}})(e.modification),children:(0,n.jsx)(O,{...e})},a))})};try{O.displayName||(O.displayName="LineDiffViewer")}catch{}try{U.displayName||(U.displayName="GroupedTextDiffViewer")}catch{}let H=({userContentEditId:e,onClose:a})=>(0,n.jsx)(F.l,{renderBody:()=>(0,n.jsx)($,{userContentEditId:e}),onClose:a,title:S.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",className:I.EditHistoryDialogContainer}),$=({userContentEditId:e})=>{let[a,l]=(0,p.useQueryLoader)(b);return((0,g.useEffect)(()=>{l({id:e})},[l,e]),a)?(0,n.jsx)(g.Suspense,{fallback:(0,n.jsx)(Q,{}),children:(0,n.jsx)(r.A,{onRetry:()=>l({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,n.jsx)(h,{retry:e}),children:(0,n.jsx)(q,{queryRef:a,userContentEditId:e})})}):(0,n.jsx)(Q,{})},q=({queryRef:e,userContentEditId:a})=>{let l=(0,p.usePreloadedQuery)(b,e).node;if(!l)return(0,n.jsx)(Q,{});let t=!l.diffBefore&&!l.diff;return(0,n.jsxs)("div",{className:I.editHistoryContentScrollable,children:[(0,n.jsx)(P,{queryRef:l,userContentEditId:a}),(0,n.jsxs)("div",{className:I.contentViewerContainer,children:[!l.deletedAt&&!t&&(0,n.jsx)(U,{before:l.diffBefore??void 0,after:l.diff??void 0}),!l.deletedAt&&t&&(0,n.jsx)("span",{className:I.mutedInfoText,children:S.k.editHistory.emptyEdit}),l.deletedAt&&(0,n.jsx)(w,{login:l.deletedBy?.login,details:S.k.editHistory.deletedThisRevision,time:l.deletedAt,className:I.mutedInfoText})]})]})};function Q(){return(0,n.jsxs)("div",{className:I.loadingSkeletonContainer,children:[(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{H.displayName||(H.displayName="EditHistoryDialog")}catch{}try{$.displayName||($.displayName="EditContent")}catch{}try{q.displayName||(q.displayName="EditContentInternal")}catch{}try{Q.displayName||(Q.displayName="EditContentLoading")}catch{}let z={editHistoryItemMetadata:"MarkdownEditHistoryViewer-module__editHistoryItemMetadata--oUxNy",editHistoryContainer:"MarkdownEditHistoryViewer-module__editHistoryContainer--l0A8s",editHistoryMenuButton:"MarkdownEditHistoryViewer-module__editHistoryMenuButton--GyyK7",scrollableEditHistoryList:"MarkdownEditHistoryViewer-module__scrollableEditHistoryList--PDigD",editorAvatar:"MarkdownEditHistoryViewer-module__editorAvatar--HeVVG",editorUsername:"MarkdownEditHistoryViewer-module__editorUsername--_tgsX",loadingSkeletonContainer:"MarkdownEditHistoryViewer-module__loadingSkeletonContainer--K3qvZ"};function W({editHistory:e}){let a=(0,p.useFragment)(i,e),[l,t]=(0,g.useState)(!1),[s,r]=(0,g.useState)("");return a&&a.viewerCanReadUserContentEdits&&a.lastEditedAt?(0,n.jsxs)("div",{className:z.editHistoryContainer,children:[(0,n.jsxs)(d.W,{children:[(0,n.jsx)(d.W.Button,{variant:"invisible",size:"small","aria-label":S.k.editHistory.ariaLabel,className:z.editHistoryMenuButton,children:S.k.editHistory.openEditsButton}),(0,n.jsx)(d.W.Overlay,{width:"auto",children:(0,n.jsx)(G,{setIsEditHistoryDialogOpen:t,setSelectedId:r,editHistoryId:a.id,lastEditedAt:a.lastEditedAt})})]}),l&&(0,n.jsx)(H,{onClose:()=>t(!1),userContentEditId:s})]}):null}let G=({editHistoryId:e,lastEditedAt:a,...l})=>{let[i,s]=(0,p.useQueryLoader)(t);return((0,g.useEffect)(()=>{s({id:e},{fetchPolicy:"network-only"})},[e,s,a]),i)?(0,n.jsx)(g.Suspense,{fallback:(0,n.jsx)(Y,{}),children:(0,n.jsx)(r.A,{onRetry:()=>s({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,n.jsx)(h,{retry:e}),children:(0,n.jsx)(X,{queryRef:i,...l})})}):(0,n.jsx)(Y,{})},X=({setIsEditHistoryDialogOpen:e,setSelectedId:a,queryRef:l})=>{let i=(0,p.usePreloadedQuery)(t,l);if(!i.node?.userContentEdits)return(0,n.jsx)(Y,{});let r=i.node.userContentEdits.totalCount;return(0,n.jsx)(u.l,{className:z.scrollableEditHistoryList,children:(0,n.jsxs)(u.l.Group,{children:[(0,n.jsx)(u.l.GroupHeading,{children:`Edited ${r-1} time${r>2?"s":""}`}),i.node.userContentEdits.edges?.map((l,t)=>{let o=l?.node;if(!o?.editor)return null;let d=i.node?.includesCreatedEdit&&t===r-1;return(0,n.jsxs)(u.l.Item,{onSelect:()=>{a(o.id),e(!0)},children:[(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(s.r,{src:o.editor.avatarUrl,size:16,alt:`@${o.editor.login}`,className:z.editorAvatar})}),(0,n.jsx)("span",{className:z.editorUsername,children:o.editor.login}),(0,n.jsxs)(u.l.Description,{truncate:!0,className:z.editHistoryItemMetadata,children:[d&&(0,n.jsx)("div",{title:"",children:S.k.editHistory.created}),(0,n.jsx)(c.A,{date:new Date(o.editedAt)})]}),(0===t||o.deletedAt)&&(0,n.jsx)(u.l.TrailingVisual,{children:(0,n.jsx)(m.A,{children:0===t?S.k.editHistory.mostRecent:S.k.editHistory.deleted})})]},o.id)})]})})};function Y(){return(0,n.jsxs)("div",{className:z.loadingSkeletonContainer,children:[(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,n.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{W.displayName||(W.displayName="MarkdownEditHistoryViewer")}catch{}try{G.displayName||(G.displayName="EditHistoryActionMenuContent")}catch{}try{X.displayName||(X.displayName="EditHistoryActionMenuContentInternal")}catch{}try{Y.displayName||(Y.displayName="EditHistoryLoading")}catch{}},21086:(e,a,l)=>{l.d(a,{_:()=>d});var n=l(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};t.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var i=l(81246),s=l(18312),r=l(18042);let o={lastEditInfoContainer:"MarkdownLastEditedBy-module__lastEditInfoContainer--EN_Qz",mutedEditorLink:"MarkdownLastEditedBy-module__mutedEditorLink--pD3Z6"};function d({editInformation:e,includeSeparator:a,forceUnderline:l}){let d=(0,s.useFragment)(t,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:u,url:c}=d.lastUserContentEdit.editor;return(0,n.jsxs)("span",{className:o.lastEditInfoContainer,children:[a&&(0,n.jsx)("span",{children:" \xb7 "}),(0,n.jsxs)("span",{children:[`${r.k.editHistory.editedBy} `,(0,n.jsx)(i.A,{href:c,inline:l,className:o.mutedEditorLink,children:u})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},82550:(e,a,l)=>{l.d(a,{B:()=>s});var n=l(74848),t=l(96540),i=l(25556);function s({includeAriaAttributes:e=!0,...a}){let l=(0,t.useId)(),[s,r]=(0,t.useState)(!1),o=a.open??s,d=a.id??l,u=e?{"aria-describedby":d}:{},c=(0,t.useCallback)(()=>r(!0),[]),m=(0,t.useCallback)(()=>r(!1),[]);return[{...u,onPointerEnter:c,onPointerLeave:m,onFocus:c,onBlur:m},(0,n.jsx)(i.m,{...a,open:o,id:d},"portal-tooltip"),()=>r(!s)]}},78809:(e,a,l)=>{l.d(a,{P:()=>h});var n=l(74848),t=l(11683),i=l(82678),s=l(9745),r=l(52446),o=l(96540),d=l(3614),u=l(55847),c=l(34164),m=l(79866);let g={reactionToggleButton:"ReactionButton-module__reactionToggleButton--axnvQ",reactionToggleButtonReacted:"ReactionButton-module__reactionToggleButtonReacted--TgLue"};function p({reactionGroup:e,disabled:a,onReact:l}){let{content:t,viewerHasReacted:i}=e.reaction,{reactors:s,totalCount:r}=e,p=(0,o.useId)();if(0===r)return null;let y=s.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),k=(0,m.JQ)(t,i),f=(0,m.fj)(t,r);return(0,n.jsx)(d.m,{text:(0,m.Js)(y,r),type:"description",direction:"ne",children:(0,n.jsxs)(u.Q,{size:"small","aria-label":f,role:"switch","aria-checked":i,leadingVisual:()=>(0,n.jsx)(n.Fragment,{children:m.qG[t]}),onClick:()=>l(t,i),disabled:a,className:(0,c.$)(g.reactionToggleButton,i&&g.reactionToggleButtonReacted),"aria-describedby":p,children:[(0,n.jsx)("span",{className:"sr-only",id:p,children:k}),r]})})}try{p.displayName||(p.displayName="ReactionButton")}catch{}let y={ReactionsMenuOption:"ReactionsMenuItem-module__ReactionsMenuOption--uvJoP"};function k({onReact:e,reaction:a}){let{content:l,viewerHasReacted:t}=a;return(0,n.jsx)(r.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},backgroundColor:t?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":t,onSelect:()=>e(l,t),className:y.ReactionsMenuOption,children:m.qG[l]},l)}try{k.displayName||(k.displayName="ReactionsMenuItem")}catch{}var f=l(97911);function h({reactionGroups:e,canReact:a=!0,onReact:l}){let[d,u]=(0,o.useState)(!1),c=e.length>0,{containerRef:m}=(0,i.G)({bindKeys:t.z0.HomeAndEnd|t.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,n.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:m,className:"d-flex gap-1 flex-wrap",children:[a&&(0,n.jsx)(s.T,{open:d,onOpen:()=>u(c),onClose:()=>u(!1),anchorRef:m,focusZoneSettings:{bindKeys:t.z0.ArrowAll|t.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,n.jsx)(f.N,{renderAnchorProps:e,reactionsAvailable:c}),children:(0,n.jsx)(r.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,a)=>(0,n.jsx)(k,{reaction:e.reaction,onReact:(e,a)=>{l(e,a),u(!1)}},a))})}),(e||[]).map((e,a)=>(0,n.jsx)(p,{reactionGroup:e,onReact:(e,a)=>l(e,a)},a))]})}try{h.displayName||(h.displayName="ReactionViewerBase")}catch{}},19805:(e,a,l)=>{l.r(a),l.d(a,{ReactionViewerRelay:()=>m,ReactionViewerRelayQueryComponent:()=>g,default:()=>p});var n=l(74848);let t=function(){var e={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a=[e];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();t.hash="4957e34582c8895c7e94b4dc9fa57fc9";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],a=[{kind:"Variable",name:"id",variableName:"id"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[n],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"4ad1541bb8051d5b7a55a10bbdf54731",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();i.hash="37ec1495c4c7ace448e859305895ad0e";var s=l(96540),r=l(18312),o=l(74547);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[n],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:a,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:a,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"c925c985a3bde5cd71f1859404c89567",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();d.hash="504ef43df20e9ee96a023f421682e18d";let u=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[n],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:a,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:a,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"fd20390882af8180d05f0d4a921c00d9",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();u.hash="8e28d0138da52c07bb0e64eda432f580";var c=l(78809);function m({reactionGroups:e,subjectId:a,canReact:l=!0}){let i=(0,r.useRelayEnvironment)(),m=(0,r.useFragment)(t,e),g=(0,s.useCallback)((e,n)=>{l&&(n?function({environment:e,input:{subject:a,content:l},onError:n,onCompleted:t}){(0,r.commitMutation)(e,{mutation:u,variables:{input:{subjectId:a,content:l}},optimisticUpdater:e=>{let n=e.get(a);if(!n)return;let t=n.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===l),s=t[i];if(s){s.setValue(!1,"viewerHasReacted");let l=`client:${a}:reactionGroups:${i}:reactors(first:5)`,n=e.get(l);if(n){let e=n.getValue("totalCount");n.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>n&&n(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:a,content:e}}):function({environment:e,input:{subject:a,content:l},onError:n,onCompleted:t}){(0,r.commitMutation)(e,{mutation:d,variables:{input:{subjectId:a,content:l}},optimisticUpdater:e=>{let n=e.get(a);if(!n)return;let t=n.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===l),s=t[i];if(s){s.setValue(!0,"viewerHasReacted");let l=`client:${a}:reactionGroups:${i}:reactors(first:5)`,n=e.get(l);if(n){let e=n.getValue("totalCount");n.setValue(e?e+1:1,"totalCount")}}},onError:e=>n&&n(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:a,content:e}}))},[l,i,a]),p=(m.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>e&&"%other"!==e.__typename?{login:"Bot"===e.__typename&&e.isCopilot?o.t.copilotDisplayName:e.login,typeName:e.__typename}:{login:"",typeName:"Other"})||[],totalCount:e.reactors?.totalCount||0}));return(0,n.jsx)(c.P,{reactionGroups:p,canReact:l,subjectId:a,onReact:g})}function g({id:e,subjectLocked:a}){let l=(0,r.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return l.node?(0,n.jsx)(m,{subjectId:e,reactionGroups:l.node,canReact:!a}):null}let p=m;try{m.displayName||(m.displayName="ReactionViewerRelay")}catch{}try{g.displayName||(g.displayName="ReactionViewerRelayQueryComponent")}catch{}},97911:(e,a,l)=>{l.d(a,{N:()=>d});var n=l(74848),t=l(38621),i=l(87330),s=l(94977),r=l(74547);let o={ReactionViewerAnchorButton:"ReactionViewerAnchor-module__ReactionViewerAnchorButton--kb52r"};function d({renderAnchorProps:e,reactionsAvailable:a}){let l=(0,n.jsx)(u,{renderAnchorProps:e,reactionsAvailable:a});return a?l:(0,n.jsx)(s.A,{"aria-label":r.t.reactionsUnavailable,children:l})}let u=({renderAnchorProps:e,reactionsAvailable:a})=>(0,n.jsx)(i.K,{unsafeDisableTooltip:!0,size:"small",icon:t.SmileyIcon,...e,"aria-label":r.t.addOrRemoveReaction,inactive:!a,"aria-labelledby":void 0,className:o.ReactionViewerAnchorButton});try{d.displayName||(d.displayName="ReactionViewerAnchor")}catch{}try{u.displayName||(u.displayName="BaseIcon")}catch{}},76873:(e,a,l)=>{l.d(a,{A:()=>d});var n=l(50467),t=l(74848),i=l(96540),s=l(38102),r=l(49936);let o=e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Error:"}),(0,t.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends i.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let a=e.shouldSkipReport??!1,l={critical:this.props.critical||!1,reactAppName:this.props.appName};a||(0,s.N7)(e,l)}render(){let{children:e}=this.props,{error:a}=this.state,l=this.props.fallback||o;return a?l(this._retry,a):e}constructor(...e){super(...e),(0,n._)(this,"state",{error:null}),(0,n._)(this,"_retry",()=>{this.props.onRetry(),this.setState({error:null})})}};function d(e){let a=(0,i.useContext)(r.I),l=e.appName||a?.appName;return(0,t.jsx)(BasicPreloadedQueryBoundary,{...e,appName:l})}try{d.displayName||(d.displayName="PreloadedQueryBoundary")}catch{}},76629:(e,a,l)=>{l.d(a,{BP:()=>c,D3:()=>u,O8:()=>o});var n=l(74848),t=l(21728),i=l(96540),s=l(71315),r=l(88431);let o={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},d=(0,i.createContext)(o.ClientRender);function u(e){let a,l,u,c,m=(0,t.c)(8),{wasServerRendered:g,children:p}=e;m[0]!==g?(a=()=>s.X3?o.ServerRender:g?o.ClientHydrate:o.ClientRender,m[0]=g,m[1]=a):a=m[1];let[y,k]=(0,i.useState)(a);return m[2]!==y?(l=()=>{y!==o.ClientRender&&k(o.ClientRender)},u=[y],m[2]=y,m[3]=l,m[4]=u):(l=m[3],u=m[4]),(0,r.N)(l,u),m[5]!==p||m[6]!==y?(c=(0,n.jsx)(d.Provider,{value:y,children:p}),m[5]=p,m[6]=y,m[7]=c):c=m[7],c}function c(){return(0,i.useContext)(d)}try{d.displayName||(d.displayName="RenderPhaseContext")}catch{}try{u.displayName||(u.displayName="RenderPhaseProvider")}catch{}},43258:(e,a,l)=>{l.d(a,{Qn:()=>o,T8:()=>u,Y6:()=>m,k6:()=>c});var n=l(74848),t=l(65556),i=l(96540),s=l(73189),r=l(42255);let o=5e3,d=(0,i.createContext)({addToast:s.l,addPersistedToast:s.l,clearPersistedToast:s.l}),u=(0,i.createContext)({toasts:[],persistedToast:null});function c({children:e}){let[a,l]=(0,r.A)([]),[s,c]=(0,i.useState)(null),{safeSetTimeout:m}=(0,t.A)(),g=(0,i.useCallback)(function(e){l([...a,e]),m(()=>l(a.slice(1)),o)},[a,m,l]),p=(0,i.useCallback)(function(e){c(e)},[c]),y=(0,i.useCallback)(function(){c(null)},[c]),k=(0,i.useMemo)(()=>({addToast:g,addPersistedToast:p,clearPersistedToast:y}),[p,g,y]),f=(0,i.useMemo)(()=>({toasts:a,persistedToast:s}),[a,s]);return(0,n.jsx)(d.Provider,{value:k,children:(0,n.jsx)(u.Provider,{value:f,children:e})})}function m(){return(0,i.useContext)(d)}try{d.displayName||(d.displayName="ToastContext")}catch{}try{u.displayName||(u.displayName="InternalToastsContext")}catch{}try{c.displayName||(c.displayName="ToastContextProvider")}catch{}}}]);
//# sourceMappingURL=packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-6f548e-6ac6fca016d1.js.map